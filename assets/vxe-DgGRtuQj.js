import{g as $C}from"./element-DKeIcv7k.js";import{V as Co,c as _e,i as Lr,p as yn,G as ot,w as Mt,n as ge,a9 as C,t as lo,r as ze,f as jn,P as Un,ae as Ml,a0 as Km,W as zC,a2 as WC,U as VC,ab as GC}from"./vue-jof-YVwm.js";const jC="4.1.2",Yn={coreVersion:jC,uiVersion:"",tableVersion:""};var Ts,Kf;function Bo(){if(Kf)return Ts;Kf=1;var e={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1};return Ts=e,Ts}var Fs,Zf;function Nr(){if(Zf)return Fs;Zf=1;function e(t,o,n){if(t)if(t.forEach)t.forEach(o,n);else for(var u=0,c=t.length;u<c;u++)o.call(n,t[u],u,t)}return Fs=e,Fs}var Is,Jf;function Zm(){if(Jf)return Is;Jf=1;var e=Object.prototype.toString;return Is=e,Is}var ks,Qf;function di(){if(Qf)return ks;Qf=1;var e=Zm();function t(o){return function(n){return"[object "+o+"]"===e.call(n)}}return ks=t,ks}var As,eh;function or(){if(eh)return As;eh=1;var e=di(),t=Array.isArray||e("Array");return As=t,As}var Ls,th;function wo(){if(th)return Ls;th=1;function e(t,o){return t&&t.hasOwnProperty?t.hasOwnProperty(o):!1}return Ls=e,Ls}var Hs,rh;function fi(){if(rh)return Hs;rh=1;var e=wo();function t(o,n,u){if(o)for(var c in o)e(o,c)&&n.call(u,o[c],c,o)}return Hs=t,Hs}var qs,oh;function Tr(){if(oh)return qs;oh=1;var e=or(),t=Nr(),o=fi();function n(u,c,d){return u&&(e(u)?t:o)(u,c,d)}return qs=n,qs}var _s,nh;function Il(){if(nh)return _s;nh=1;function e(t){return function(o){return typeof o===t}}return _s=e,_s}var Ns,lh;function Kr(){if(lh)return Ns;lh=1;var e=Il(),t=e("function");return Ns=t,Ns}var Ps,ih;function rf(){if(ih)return Ps;ih=1;var e=Tr();function t(o,n){var u=Object[o];return function(c){var d=[];if(c){if(u)return u(c);e(c,n>1?function(v){d.push([""+v,c[v]])}:function(){d.push(arguments[n])})}return d}}return Ps=t,Ps}var Bs,sh;function Xo(){if(sh)return Bs;sh=1;var e=rf(),t=e("keys",1);return Bs=t,Bs}var $s,ah;function of(){if(ah)return $s;ah=1;var e=Zm(),t=fi(),o=Nr();function n(v,m){var x=v.__proto__.constructor;return m?new x(m):new x}function u(v,m){return m?c(v,m):v}function c(v,m){if(v)switch(e.call(v)){case"[object Object]":{var x=Object.create(Object.getPrototypeOf(v));return t(v,function(O,S){x[S]=u(O,m)}),x}case"[object Date]":case"[object RegExp]":return n(v,v.valueOf());case"[object Array]":case"[object Arguments]":{var i=[];return o(v,function(O){i.push(u(O,m))}),i}case"[object Set]":{var s=n(v);return s.forEach(function(O){s.add(u(O,m))}),s}case"[object Map]":{var y=n(v);return y.forEach(function(O,S){y.set(S,u(O,m))}),y}}return v}function d(v,m){return v&&c(v,m)}return $s=d,$s}var zs,ch;function yo(){if(ch)return zs;ch=1;var e=Nr(),t=Xo(),o=or(),n=of(),u=Object.assign;function c(v,m,x){for(var i=m.length,s,y=1;y<i;y++)s=m[y],e(t(m[y]),x?function(O){v[O]=n(s[O],x)}:function(O){v[O]=s[O]});return v}var d=function(v){if(v){var m=arguments;if(v===!0){if(m.length>1)return v=o(v[1])?[]:{},c(v,m,!0)}else return u?u.apply(Object,m):c(v,m)}return v};return zs=d,zs}var Ws,uh;function UC(){if(uh)return Ws;uh=1;var e=Bo(),t=Nr(),o=Tr(),n=Kr(),u=yo(),c=function(){};function d(){t(arguments,function(i){o(i,function(s,y){c[y]=n(s)?function(){var O=s.apply(c.$context,arguments);return c.$context=null,O}:s})})}function v(i){return u(e,i)}function m(){return e}var x="3.7.4";return c.VERSION=x,c.version=x,c.mixin=d,c.setup=v,c.setConfig=v,c.getConfig=m,Ws=c,Ws}var Vs,dh;function nf(){if(dh)return Vs;dh=1;function e(t,o,n){for(var u=t.length-1;u>=0;u--)o.call(n,t[u],u,t)}return Vs=e,Vs}var Gs,fh;function Jm(){if(fh)return Gs;fh=1;var e=nf(),t=Xo();function o(n,u,c){e(t(n),function(d){u.call(c,n[d],d,n)})}return Gs=o,Gs}var js,hh;function Ko(){if(hh)return js;hh=1;function e(t){return t===null}return js=e,js}var Us,ph;function kl(){if(ph)return Us;ph=1;var e=Ko();function t(o,n){return function(u){return e(u)?n:u[o]}}return Us=t,Us}var Ys,gh;function YC(){if(gh)return Ys;gh=1;var e=Tr(),t=Kr(),o=kl();function n(u,c,d){var v={};if(u)if(c)t(c)||(c=o(c)),e(u,function(m,x){v[x]=c.call(d,m,x,u)});else return u;return v}return Ys=n,Ys}var Xs,vh;function Al(){if(vh)return Xs;vh=1;function e(t){return t?t.constructor===Object:!1}return Xs=e,Xs}var Ks,mh;function Qm(){if(mh)return Ks;mh=1;function e(t){return t!=="__proto__"&&t!=="constructor"}return Ks=e,Ks}var Zs,bh;function XC(){if(bh)return Zs;bh=1;var e=or(),t=Al(),o=Kr(),n=Tr(),u=Qm();function c(v,m){return t(v)&&t(m)||e(v)&&e(m)?(n(m,function(x,i){u(i)&&(v[i]=o(m)?x:c(v[i],x))}),v):m}var d=function(v){v||(v={});for(var m=arguments,x=m.length,i,s=1;s<x;s++)i=m[s],i&&c(v,i);return v};return Zs=d,Zs}var Js,xh;function En(){if(xh)return Js;xh=1;var e=Tr();function t(o,n,u){var c=[];if(o&&arguments.length>1){if(o.map)return o.map(n,u);e(o,function(){c.push(n.apply(u,arguments))})}return c}return Js=t,Js}var Qs,Ch;function ts(){if(Ch)return Qs;Ch=1;var e=wo(),t=or();function o(n,u,c,d,v){return function(m,x,i){if(m&&x){if(n&&m[n])return m[n](x,i);if(u&&t(m)){for(var s=0,y=m.length;s<y;s++)if(!!x.call(i,m[s],s,m)===d)return[!0,!1,s,m[s]][c]}else for(var O in m)if(e(m,O)&&!!x.call(i,m[O],O,m)===d)return[!0,!1,O,m[O]][c]}return v}}return Qs=o,Qs}var ea,wh;function eb(){if(wh)return ea;wh=1;var e=ts(),t=e("some",1,0,!0,!1);return ea=t,ea}var ta,yh;function tb(){if(yh)return ta;yh=1;var e=ts(),t=e("every",1,1,!1,!0);return ta=t,ta}var ra,Eh;function Ll(){if(Eh)return ra;Eh=1;var e=wo();function t(o,n){if(o){if(o.includes)return o.includes(n);for(var u in o)if(e(o,u)&&n===o[u])return!0}return!1}return ra=t,ra}var oa,Rh;function rb(){if(Rh)return oa;Rh=1;var e=or(),t=Ll();function o(n,u){var c,d=0;if(e(n)&&e(u)){for(c=u.length;d<c;d++)if(!t(n,u[d]))return!1;return!0}return t(n,u)}return oa=o,oa}var na,Sh;function ob(){if(Sh)return na;Sh=1;var e=Tr(),t=Ll(),o=Kr(),n=kl();function u(c,d,v){var m=[];if(d){o(d)||(d=n(d));var x,i={};e(c,function(s,y){x=d.call(v,s,y,c),i[x]||(i[x]=1,m.push(s))})}else e(c,function(s){t(m,s)||m.push(s)});return m}return na=u,na}var la,Oh;function lf(){if(Oh)return la;Oh=1;var e=En();function t(o){return e(o,function(n){return n})}return la=t,la}var ia,Dh;function KC(){if(Dh)return ia;Dh=1;var e=ob(),t=lf();function o(){for(var n=arguments,u=[],c=0,d=n.length;c<d;c++)u=u.concat(t(n[c]));return e(u)}return ia=o,ia}var sa,Mh;function Eo(){if(Mh)return sa;Mh=1;var e="undefined";return sa=e,sa}var aa,Th;function $o(){if(Th)return aa;Th=1;var e=Eo(),t=Il(),o=t(e);return aa=o,aa}var ca,Fh;function Zo(){if(Fh)return ca;Fh=1;var e=Ko(),t=$o();function o(n){return e(n)||t(n)}return ca=o,ca}var ua,Ih;function nb(){if(Ih)return ua;Ih=1;var e=/(.+)?\[(\d+)\]$/;return ua=e,ua}var da,kh;function sf(){if(kh)return da;kh=1;function e(t){return t?t.splice&&t.join?t:(""+t).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}return da=e,da}var fa,Ah;function hi(){if(Ah)return fa;Ah=1;var e=nb(),t=sf(),o=wo(),n=$o(),u=Zo();function c(m,x,i){if(u(m))return i;var s=v(m,x);return n(s)?i:s}function d(m,x){var i=x?x.match(e):"";return i?i[1]?m[i[1]]?m[i[1]][i[2]]:void 0:m[i[2]]:m[x]}function v(m,x){if(m){var i,s,y,O=0;if(m[x]||o(m,x))return m[x];if(s=t(x),y=s.length,y){for(i=m;O<y;O++)if(i=d(i,s[O]),u(i))return O===y-1?i:void 0}return i}}return fa=c,fa}var ha,Lh;function af(){if(Lh)return ha;Lh=1;var e=Nr(),t=lf(),o=En(),n=or(),u=Kr(),c=Al(),d=$o(),v=Ko(),m=Zo(),x=hi(),i=kl(),s="asc",y="desc";function O(A,_){return d(A)?1:v(A)?d(_)?-1:1:A&&A.localeCompare?A.localeCompare(_):A>_?1:-1}function S(A,_,W){return function(U,te){var Y=U[A],D=te[A];return Y===D?W?W(U,te):0:_.order===y?O(D,Y):O(Y,D)}}function T(A,_,W,U){var te=[];return W=n(W)?W:[W],e(W,function(Y,D){if(Y){var F=Y,H;n(Y)?(F=Y[0],H=Y[1]):c(Y)&&(F=Y.field,H=Y.order),te.push({field:F,order:H||s}),e(_,u(F)?function(j,K){j[D]=F.call(U,j.data,K,A)}:function(j){j[D]=F?x(j.data,F):j.data})}}),te}function q(A,_,W){if(A){if(m(_))return t(A).sort(O);for(var U,te=o(A,function(F){return{data:F}}),Y=T(A,te,_,W),D=Y.length-1;D>=0;)U=S(D,Y[D],U),D--;return U&&(te=te.sort(U)),o(te,i("data"))}return[]}return ha=q,ha}var pa,Hh;function ZC(){if(Hh)return pa;Hh=1;var e=af(),t=e;return pa=t,pa}var ga,qh;function lb(){if(qh)return ga;qh=1;function e(t,o){return t>=o?t:(t=t>>0)+Math.round(Math.random()*((o||9)-t))}return ga=e,ga}var va,_h;function Hl(){if(_h)return va;_h=1;var e=rf(),t=e("values",0);return va=t,va}var ma,Nh;function ib(){if(Nh)return ma;Nh=1;var e=lb(),t=Hl();function o(n){for(var u,c=[],d=t(n),v=d.length-1;v>=0;v--)u=v>0?e(0,v):0,c.push(d[u]),d.splice(u,1);return c}return ma=o,ma}var ba,Ph;function JC(){if(Ph)return ba;Ph=1;var e=ib();function t(o,n){var u=e(o);return arguments.length<=1?u[0]:(n<u.length&&(u.length=n||0),u)}return ba=t,ba}var xa,Bh;function sb(){if(Bh)return xa;Bh=1;function e(t){return function(o){if(o){var n=t(o&&o.replace?o.replace(/,/g,""):o);if(!isNaN(n))return n}return 0}}return xa=e,xa}var Ca,$h;function Xn(){if($h)return Ca;$h=1;var e=sb(),t=e(parseFloat);return Ca=t,Ca}var wa,zh;function Kn(){if(zh)return wa;zh=1;var e=Xn();function t(o,n,u){var c=[],d=arguments.length;if(o){if(n=d>=2?e(n):0,u=d>=3?e(u):o.length,o.slice)return o.slice(n,u);for(;n<u;n++)c.push(o[n])}return c}return wa=t,wa}var ya,Wh;function QC(){if(Wh)return ya;Wh=1;var e=Tr();function t(o,n,u){var c=[];if(o&&n){if(o.filter)return o.filter(n,u);e(o,function(d,v){n.call(u,d,v,o)&&c.push(d)})}return c}return ya=t,ya}var Ea,Vh;function ew(){if(Vh)return Ea;Vh=1;var e=ts(),t=e("",0,2,!0);return Ea=t,Ea}var Ra,Gh;function tw(){if(Gh)return Ra;Gh=1;var e=ts(),t=e("find",1,3,!0);return Ra=t,Ra}var Sa,jh;function rw(){if(jh)return Sa;jh=1;var e=or(),t=Hl();function o(n,u,c){if(n){e(n)||(n=t(n));for(var d=n.length-1;d>=0;d--)if(u.call(c,n[d],d,n))return n[d]}}return Sa=o,Sa}var Oa,Uh;function ow(){if(Uh)return Oa;Uh=1;var e=Xo();function t(o,n,u){if(o){var c,d,v=0,m=null,x=u,i=arguments.length>2,s=e(o);if(o.length&&o.reduce)return d=function(){return n.apply(m,arguments)},i?o.reduce(d,x):o.reduce(d);for(i&&(v=1,x=o[s[0]]),c=s.length;v<c;v++)x=n.call(m,x,o[s[v]],v,o);return x}}return Oa=t,Oa}var Da,Yh;function nw(){if(Yh)return Da;Yh=1;var e=or();function t(o,n,u,c){if(e(o)&&o.copyWithin)return o.copyWithin(n,u,c);var d,v,m=n>>0,x=u>>0,i=o.length,s=arguments.length>3?c>>0:i;if(m<i&&(m=m>=0?m:i+m,m>=0&&(x=x>=0?x:i+x,s=s>=0?s:i+s,x<s)))for(d=0,v=o.slice(x,s);m<i&&!(v.length<=d);m++)o[m]=v[d++];return o}return Da=t,Da}var Ma,Xh;function lw(){if(Xh)return Ma;Xh=1;var e=or();function t(o,n){var u,c=[],d=n>>0||1;if(e(o))if(d>=0&&o.length>d)for(u=0;u<o.length;)c.push(o.slice(u,u+d)),u+=d;else c=o.length?[o]:o;return c}return Ma=t,Ma}var Ta,Kh;function ab(){if(Kh)return Ta;Kh=1;var e=En(),t=kl();function o(n,u){return e(n,t(u))}return Ta=o,Ta}var Fa,Zh;function cb(){if(Zh)return Fa;Zh=1;var e=Kr(),t=Zo(),o=hi(),n=Nr();function u(c){return function(d,v){if(d&&d.length){var m,x;return n(d,function(i,s){v&&(i=e(v)?v(i,s,d):o(i,v)),!t(i)&&(t(m)||c(m,i))&&(x=s,m=i)}),d[x]}return m}}return Fa=u,Fa}var Ia,Jh;function ub(){if(Jh)return Ia;Jh=1;var e=cb(),t=e(function(o,n){return o<n});return Ia=t,Ia}var ka,Qh;function db(){if(Qh)return ka;Qh=1;var e=ab(),t=ub();function o(n){var u,c,d,v=[];if(n&&n.length)for(u=0,c=t(n,function(m){return m?m.length:0}),d=c?c.length:0;u<d;u++)v.push(e(n,u));return v}return ka=o,ka}var Aa,ep;function iw(){if(ep)return Aa;ep=1;var e=db();function t(){return e(arguments)}return Aa=t,Aa}var La,tp;function sw(){if(tp)return La;tp=1;var e=Hl(),t=Tr();function o(n,u){var c={};return u=u||[],t(e(n),function(d,v){c[d]=u[v]}),c}return La=o,La}var Ha,rp;function aw(){if(rp)return Ha;rp=1;var e=or(),t=Nr();function o(u,c){var d=[];return t(u,function(v){d=d.concat(e(v)?c?o(v,c):v:[v])}),d}function n(u,c){return e(u)?o(u,c):[]}return Ha=n,Ha}var qa,op;function cw(){if(op)return qa;op=1;var e=En(),t=or();function o(u,c){for(var d=0,v=c.length;u&&d<v;)u=u[c[d++]];return v&&u?u:0}function n(u,c){for(var d,v=arguments,m=[],x=[],i=2,s=v.length;i<s;i++)m.push(v[i]);if(t(c)){for(s=c.length-1,i=0;i<s;i++)x.push(c[i]);c=c[s]}return e(u,function(y){if(x.length&&(y=o(y,x)),d=y[c]||c,d&&d.apply)return d.apply(y,m)})}return qa=n,qa}var _a,np;function fb(){if(np)return _a;np=1;function e(t,o){try{delete t[o]}catch{t[o]=void 0}}return _a=e,_a}var Na,lp;function hb(){if(lp)return Na;lp=1;var e=or(),t=nf(),o=Jm();function n(u,c,d){return u&&(e(u)?t:o)(u,c,d)}return Na=n,Na}var Pa,ip;function rs(){if(ip)return Pa;ip=1;var e=Il(),t=e("object");return Pa=t,Pa}var Ba,sp;function pb(){if(sp)return Ba;sp=1;var e=fb(),t=Al(),o=rs(),n=or(),u=Ko(),c=yo(),d=fi();function v(m,x,i){if(m){var s,y=arguments.length>1&&(u(x)||!o(x)),O=y?i:x;if(t(m))d(m,y?function(S,T){m[T]=x}:function(S,T){e(m,T)}),O&&c(m,O);else if(n(m)){if(y)for(s=m.length;s>0;)s--,m[s]=x;else m.length=0;O&&m.push.apply(m,O)}}return m}return Ba=v,Ba}var $a,ap;function gb(){if(ap)return $a;ap=1;var e=fb(),t=Kr(),o=or(),n=Tr(),u=Nr(),c=hb(),d=pb(),v=Zo();function m(i){return function(s,y){return y===i}}function x(i,s,y){if(i){if(!v(s)){var O=[],S=[];return t(s)||(s=m(s)),n(i,function(T,q,A){s.call(y,T,q,A)&&O.push(q)}),o(i)?c(O,function(T,q){S.push(i[T]),i.splice(T,1)}):(S={},u(O,function(T){S[T]=i[T],e(i,T)})),S}return d(i)}return i}return $a=x,$a}var za,cp;function uw(){if(cp)return za;cp=1;var e=Bo();En();var t=af(),o=of(),n=Zo(),u=Tr(),c=gb(),d=yo();function v(x,i){u(x,function(s){s[i]&&!s[i].length&&c(s,i)})}function m(x,i){var s=d({},e.treeOptions,i),y=s.strict,O=s.key,S=s.parentKey,T=s.children,q=s.mapChildren,A=s.sortKey,_=s.reverse,W=s.data,U=[],te={},Y={},D,F,H;return A&&(x=t(o(x),A),_&&(x=x.reverse())),u(x,function(j){D=j[O],Y[D]=!0}),u(x,function(j){D=j[O],W?(F={},F[W]=j):F=j,H=j[S],te[D]=te[D]||[],F[O]=D,F[S]=H,D===H&&(H=null),te[H]=te[H]||[],te[H].push(F),F[T]=te[D],q&&(F[q]=te[D]),(!y||y&&n(H))&&(Y[H]||U.push(F))}),y&&v(x,T),U}return za=m,za}var Wa,up;function dw(){if(up)return Wa;up=1;var e=Bo(),t=Nr(),o=yo();function n(c,d,v,m){var x=m.key,i=m.parentKey,s=m.children,y=m.data,O=m.updated,S=m.clear;return t(v,function(T){var q=T[s];y&&(T=T[y]),O!==!1&&(T[i]=d?d[x]:null),c.push(T),q&&q.length&&n(c,T,q,m),S&&delete T[s]}),c}function u(c,d){return n([],null,c,o({},e.treeOptions,d))}return Wa=u,Wa}var Va,dp;function os(){if(dp)return Va;dp=1;function e(t){return function(o,n,u,c){var d=u||{},v=d.children||"children";return t(null,o,n,c,[],[],v,d)}}return Va=e,Va}var Ga,fp;function fw(){if(fp)return Ga;fp=1;var e=os();function t(n,u,c,d,v,m,x,i){if(u){var s,y,O,S,T,q;for(y=0,O=u.length;y<O;y++){if(s=u[y],S=v.concat([""+y]),T=m.concat([s]),c.call(d,s,y,u,S,n,T))return{index:y,item:s,path:S,items:u,parent:n,nodes:T};if(x&&s&&(q=t(s,s[x],c,d,S.concat([x]),T,x),q))return q}}}var o=e(t);return Ga=o,Ga}var ja,hp;function vb(){if(hp)return ja;hp=1;var e=os(),t=Tr();function o(u,c,d,v,m,x,i,s){var y,O;t(c,function(S,T){y=m.concat([""+T]),O=x.concat([S]),d.call(v,S,T,c,y,u,O),S&&i&&(y.push(i),o(S,S[i],d,v,y,O,i))})}var n=e(o);return ja=n,ja}var Ua,pp;function hw(){if(pp)return Ua;pp=1;var e=os(),t=En();function o(u,c,d,v,m,x,i,s){var y,O,S,T=s.mapChildren||i;return t(c,function(q,A){return y=m.concat([""+A]),O=x.concat([q]),S=d.call(v,q,A,c,y,u,O),S&&q&&i&&q[i]&&(S[T]=o(q,q[i],d,v,y,O,i,s)),S})}var n=e(o);return Ua=n,Ua}var Ya,gp;function pw(){if(gp)return Ya;gp=1;var e=vb();function t(o,n,u,c){var d=[];return o&&n&&e(o,function(v,m,x,i,s,y){n.call(c,v,m,x,i,s,y)&&d.push(v)},u),d}return Ya=t,Ya}var Xa,vp;function gw(){if(vp)return Xa;vp=1;var e=os(),t=Nr(),o=yo();function n(c,d,v,m,x,i,s,y,O){var S,T,q,A,_,W=[],U=O.original,te=O.data,Y=O.mapChildren||y,D=O.isEvery;return t(v,function(F,H){S=i.concat([""+H]),T=s.concat([F]),A=c&&!D||m.call(x,F,H,v,S,d,T),_=y&&F[y],A||_?(U?q=F:(q=o({},F),te&&(q[te]=F)),q[Y]=n(A,F,F[y],m,x,S,T,y,O),(A||q[Y].length)&&W.push(q)):A&&W.push(q)}),W}var u=e(function(c,d,v,m,x,i,s,y){return n(0,c,d,v,m,x,i,s,y)});return Xa=u,Xa}var Ka,mp;function mb(){if(mp)return Ka;mp=1;function e(t,o){if(t.indexOf)return t.indexOf(o);for(var n=0,u=t.length;n<u;n++)if(o===t[n])return n}return Ka=e,Ka}var Za,bp;function bb(){if(bp)return Za;bp=1;function e(t,o){if(t.lastIndexOf)return t.lastIndexOf(o);for(var n=t.length-1;n>=0;n--)if(o===t[n])return n;return-1}return Za=e,Za}var Ja,xp;function zo(){if(xp)return Ja;xp=1;var e=Il(),t=e("number");return Ja=t,Ja}var Qa,Cp;function vw(){if(Cp)return Qa;Cp=1;var e=zo();function t(o){return e(o)&&isNaN(o)}return Qa=t,Qa}var ec,wp;function Jo(){if(wp)return ec;wp=1;var e=Il(),t=e("string");return ec=t,ec}var tc,yp;function Rn(){if(yp)return tc;yp=1;var e=di(),t=e("Date");return tc=t,tc}var rc,Ep;function pi(){if(Ep)return rc;Ep=1;var e=parseInt;return rc=e,rc}var oc,Rp;function mw(){if(Rp)return oc;Rp=1;function e(t){return Date.UTC(t.y,t.M||0,t.d||1,t.H||0,t.m||0,t.s||0,t.S||0)}return oc=e,oc}var nc,Sp;function go(){if(Sp)return nc;Sp=1;function e(t){return t.getTime()}return nc=e,nc}var lc,Op;function Zr(){if(Op)return lc;Op=1;var e=pi(),t=mw(),o=go(),n=Jo(),u=Rn();function c(J){return"(\\d{"+J+"})"}function d(J){return J<10?J*100:J<100?J*10:J}function v(J){return isNaN(J)?J:e(J)}for(var m=c(2),x=c("1,2"),i=c("1,7"),s=c("3,4"),y=".{1}",O=y+x,S="(([zZ])|([-+]\\d{2}:?\\d{2}))",T=[s,O,O,O,O,O,y+i,S],q=[],A=T.length-1;A>=0;A--){for(var _="",W=0;W<A+1;W++)_+=T[W];q.push(new RegExp("^"+_+"$"))}function U(J){for(var Ce,xe={},ue=0,pe=q.length;ue<pe;ue++)if(Ce=J.match(q[ue]),Ce){xe.y=Ce[1],xe.M=Ce[2],xe.d=Ce[3],xe.H=Ce[4],xe.m=Ce[5],xe.s=Ce[6],xe.S=Ce[7],xe.Z=Ce[8];break}return xe}for(var te=[["yyyy",s],["yy",m],["MM",m],["M",x],["dd",m],["d",x],["HH",m],["H",x],["mm",m],["m",x],["ss",m],["s",x],["SSS",c(3)],["S",i],["Z",S]],Y={},D=["\\[([^\\]]+)\\]"],W=0;W<te.length;W++){var F=te[W];Y[F[0]]=F[1]+"?",D.push(F[0])}var H=new RegExp(D.join("|"),"g"),j={};function K(J,Ce){var xe=j[Ce];if(!xe){var ue=[],pe=Ce.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(H,function(ne,oe){var ie=ne.charAt(0);return ie==="["?oe:(ue.push(ie),Y[ne])});xe=j[Ce]={_i:ue,_r:new RegExp(pe)}}var Se={},Ee=J.match(xe._r);if(Ee){for(var G=xe._i,de=1,ce=Ee.length;de<ce;de++)Se[G[de-1]]=Ee[de];return Se}return Se}function k(J){if(/^[zZ]/.test(J.Z))return new Date(t(J));var Ce=J.Z.match(/([-+])(\d{2}):?(\d{2})/);return Ce?new Date(t(J)-(Ce[1]==="-"?-1:1)*e(Ce[2])*36e5+e(Ce[3])*6e4):new Date("")}function X(J,Ce){if(J){var xe=u(J);if(xe||!Ce&&/^[0-9]{11,15}$/.test(J))return new Date(xe?o(J):e(J));if(n(J)){var ue=Ce?K(J,Ce):U(J);if(ue.y)return ue.M&&(ue.M=v(ue.M)-1),ue.S&&(ue.S=d(v(ue.S.substring(0,3)))),ue.Z?k(ue):new Date(ue.y,ue.M||0,ue.d||1,ue.H||0,ue.m||0,ue.s||0,ue.S||0)}}return new Date("")}return lc=X,lc}var ic,Dp;function ns(){if(Dp)return ic;Dp=1;function e(){return new Date}return ic=e,ic}var sc,Mp;function xb(){if(Mp)return sc;Mp=1;var e=Rn(),t=Zr(),o=ns();function n(u){var c,d=u?t(u):o();return e(d)?(c=d.getFullYear(),c%4===0&&(c%100!==0||c%400===0)):!1}return sc=n,sc}var ac,Tp;function bw(){if(Tp)return ac;Tp=1;var e=or(),t=wo();function o(n,u,c){if(n){if(e(n))for(var d=0,v=n.length;d<v&&u.call(c,n[d],d,n)!==!1;d++);else for(var m in n)if(t(n,m)&&u.call(c,n[m],m,n)===!1)break}}return ac=o,ac}var cc,Fp;function xw(){if(Fp)return cc;Fp=1;var e=or(),t=wo();function o(n,u,c){if(n){var d,v;if(e(n))for(d=n.length-1;d>=0&&u.call(c,n[d],d,n)!==!1;d--);else for(v=t(n),d=v.length-1;d>=0&&u.call(c,n[v[d]],v[d],n)!==!1;d--);}}return cc=o,cc}var uc,Ip;function Cb(){if(Ip)return uc;Ip=1;var e=or(),t=Jo(),o=wo();function n(u,c){return function(d,v){if(d){if(d[u])return d[u](v);if(t(d)||e(d))return c(d,v);for(var m in d)if(o(d,m)&&v===d[m])return m}return-1}}return uc=n,uc}var dc,kp;function Cw(){if(kp)return dc;kp=1;var e=Cb(),t=mb(),o=e("indexOf",t);return dc=o,dc}var fc,Ap;function wb(){if(Ap)return fc;Ap=1;var e=Cb(),t=bb(),o=e("lastIndexOf",t);return fc=o,fc}var hc,Lp;function yb(){if(Lp)return hc;Lp=1;var e=or(),t=Jo(),o=Tr();function n(u){var c=0;return t(u)||e(u)?u.length:(o(u,function(){c++}),c)}return hc=n,hc}var pc,Hp;function ww(){if(Hp)return pc;Hp=1;var e=zo();function t(o){return e(o)&&isFinite(o)}return pc=t,pc}var gc,qp;function Eb(){if(qp)return gc;qp=1;var e=or(),t=Ko(),o=function(n){return!t(n)&&!isNaN(n)&&!e(n)&&n%1===0};return gc=o,gc}var vc,_p;function yw(){if(_p)return vc;_p=1;var e=or(),t=Eb(),o=Ko();function n(u){return!o(u)&&!isNaN(u)&&!e(u)&&!t(u)}return vc=n,vc}var mc,Np;function Rb(){if(Np)return mc;Np=1;var e=Il(),t=e("boolean");return mc=t,mc}var bc,Pp;function cf(){if(Pp)return bc;Pp=1;var e=di(),t=e("RegExp");return bc=t,bc}var xc,Bp;function Sb(){if(Bp)return xc;Bp=1;var e=di(),t=e("Error");return xc=t,xc}var Cc,$p;function Ew(){if($p)return Cc;$p=1;function e(t){return t?t.constructor===TypeError:!1}return Cc=e,Cc}var wc,zp;function Ob(){if(zp)return wc;zp=1;function e(t){for(var o in t)return!1;return!0}return wc=e,wc}var yc,Wp;function Db(){if(Wp)return yc;Wp=1;var e=Eo(),t=typeof Symbol!==e;function o(n){return t&&Symbol.isSymbol?Symbol.isSymbol(n):typeof n=="symbol"}return yc=o,yc}var Ec,Vp;function Rw(){if(Vp)return Ec;Vp=1;var e=di(),t=e("Arguments");return Ec=t,Ec}var Rc,Gp;function Sw(){if(Gp)return Rc;Gp=1;var e=Jo(),t=zo();function o(n){return!!(n&&e(n.nodeName)&&t(n.nodeType))}return Rc=o,Rc}var Sc,jp;function uf(){if(jp)return Sc;jp=1;var e=Eo(),t=typeof document===e?0:document;return Sc=t,Sc}var Oc,Up;function Ow(){if(Up)return Oc;Up=1;var e=uf();function t(o){return!!(o&&e&&o.nodeType===9)}return Oc=t,Oc}var Dc,Yp;function Mb(){if(Yp)return Dc;Yp=1;var e=Eo(),t=typeof window===e?0:window;return Dc=t,Dc}var Mc,Xp;function Dw(){if(Xp)return Mc;Xp=1;var e=Mb();function t(o){return!!(e&&(o&&o===o.window))}return Mc=t,Mc}var Tc,Kp;function Mw(){if(Kp)return Tc;Kp=1;var e=Eo(),t=typeof FormData!==e;function o(n){return t&&n instanceof FormData}return Tc=o,Tc}var Fc,Zp;function Tw(){if(Zp)return Fc;Zp=1;var e=Eo(),t=typeof Map!==e;function o(n){return t&&n instanceof Map}return Fc=o,Fc}var Ic,Jp;function Fw(){if(Jp)return Ic;Jp=1;var e=Eo(),t=typeof WeakMap!==e;function o(n){return t&&n instanceof WeakMap}return Ic=o,Ic}var kc,Qp;function Iw(){if(Qp)return kc;Qp=1;var e=Eo(),t=typeof Set!==e;function o(n){return t&&n instanceof Set}return kc=o,kc}var Ac,eg;function kw(){if(eg)return Ac;eg=1;var e=Eo(),t=typeof WeakSet!==e;function o(n){return t&&n instanceof WeakSet}return Ac=o,Ac}var Lc,tg;function Tb(){if(tg)return Lc;tg=1;var e=Kr(),t=Jo(),o=or(),n=wo();function u(c){return function(d,v,m){if(d&&e(v)){if(o(d)||t(d))return c(d,v,m);for(var x in d)if(n(d,x)&&v.call(m,d[x],x,d))return x}return-1}}return Lc=u,Lc}var Hc,rg;function df(){if(rg)return Hc;rg=1;var e=Tb(),t=e(function(o,n,u){for(var c=0,d=o.length;c<d;c++)if(n.call(u,o[c],c,o))return c;return-1});return Hc=t,Hc}var qc,og;function Fb(){if(og)return qc;og=1;var e=zo(),t=or(),o=Jo(),n=cf(),u=Rn(),c=Rb(),d=$o(),v=Xo(),m=tb();function x(i,s,y,O,S,T,q){if(i===s)return!0;if(i&&s&&!e(i)&&!e(s)&&!o(i)&&!o(s)){if(n(i))return y(""+i,""+s,S,T,q);if(u(i)||c(i))return y(+i,+s,S,T,q);var A,_,W,U=t(i),te=t(s);if(U||te?U&&te:i.constructor===s.constructor)return _=v(i),W=v(s),O&&(A=O(i,s,S)),_.length===W.length?d(A)?m(_,function(Y,D){return Y===W[D]&&x(i[Y],s[W[D]],y,O,U||te?D:Y,i,s)}):!!A:!1}return y(i,s,S,T,q)}return qc=x,qc}var _c,ng;function Ib(){if(ng)return _c;ng=1;function e(t,o){return t===o}return _c=e,_c}var Nc,lg;function kb(){if(lg)return Nc;lg=1;var e=Fb(),t=Ib();function o(n,u){return e(n,u,t)}return Nc=o,Nc}var Pc,ig;function Aw(){if(ig)return Pc;ig=1;var e=Xo(),t=df(),o=kb(),n=eb(),u=rb();function c(d,v){var m=e(d),x=e(v);if(x.length){if(u(m,x))return n(x,function(i){return t(m,function(s){return s===i&&o(d[s],v[i])})>-1})}else return!0;return o(d,v)}return Pc=c,Pc}var Bc,sg;function Lw(){if(sg)return Bc;sg=1;var e=Fb(),t=Ib(),o=Kr(),n=$o();function u(c,d,v){return o(v)?e(c,d,function(m,x,i,s,y){var O=v(m,x,i,s,y);return n(O)?t(m,x):!!O},v):e(c,d,t)}return Bc=u,Bc}var $c,ag;function Hw(){if(ag)return $c;ag=1;var e=Db(),t=Rn(),o=or(),n=cf(),u=Sb(),c=Ko();function d(v){return c(v)?"null":e(v)?"symbol":t(v)?"date":o(v)?"array":n(v)?"regexp":u(v)?"error":typeof v}return $c=d,$c}var zc,cg;function qw(){if(cg)return zc;cg=1;var e=Bo(),t=Zo();function o(n){return""+(t(n)?"":n)+e.keyId++}return zc=o,zc}var Wc,ug;function _w(){if(ug)return Wc;ug=1;var e=Tb(),t=e(function(o,n,u){for(var c=o.length-1;c>=0;c--)if(n.call(u,o[c],c,o))return c;return-1});return Wc=t,Wc}var Vc,dg;function Nw(){if(dg)return Vc;dg=1;var e=Al(),t=Jo();function o(n){if(e(n))return n;if(t(n))try{return JSON.parse(n)}catch{}return{}}return Vc=o,Vc}var Gc,fg;function Pw(){if(fg)return Gc;fg=1;var e=Zo();function t(o){return e(o)?"":JSON.stringify(o)}return Gc=t,Gc}var jc,hg;function Bw(){if(hg)return jc;hg=1;var e=rf(),t=e("entries",2);return jc=t,jc}var Uc,pg;function Ab(){if(pg)return Uc;pg=1;var e=Kr(),t=or(),o=Tr(),n=df();function u(c,d){return function(v,m){var x,i,s={},y=[],O=this,S=arguments,T=S.length;if(!e(m)){for(i=1;i<T;i++)x=S[i],y.push.apply(y,t(x)?x:[x]);m=0}return o(v,function(q,A){((m?m.call(O,q,A,v):n(y,function(_){return _===A})>-1)?c:d)&&(s[A]=q)}),s}}return Uc=u,Uc}var Yc,gg;function $w(){if(gg)return Yc;gg=1;var e=Ab(),t=e(1,0);return Yc=t,Yc}var Xc,vg;function zw(){if(vg)return Xc;vg=1;var e=Ab(),t=e(0,1);return Xc=t,Xc}var Kc,mg;function Ww(){if(mg)return Kc;mg=1;var e=Hl();function t(o){return e(o)[0]}return Kc=t,Kc}var Zc,bg;function Vw(){if(bg)return Zc;bg=1;var e=Hl();function t(o){var n=e(o);return n[n.length-1]}return Zc=t,Zc}var Jc,xg;function Gw(){if(xg)return Jc;xg=1;var e=nb(),t=sf(),o=wo();function n(u,c){if(u){if(o(u,c))return!0;var d,v,m,x,i,s,y=t(c),O=0,S=y.length;for(i=u;O<S&&(s=!1,d=y[O],x=d?d.match(e):"",x?(v=x[1],m=x[2],v?i[v]&&o(i[v],m)&&(s=!0,i=i[v][m]):o(i,m)&&(s=!0,i=i[m])):o(i,d)&&(s=!0,i=i[d]),s);O++)if(O===S-1)return!0}return!1}return Jc=n,Jc}var Qc,Cg;function jw(){if(Cg)return Qc;Cg=1;var e=pi(),t=sf(),o=Qm(),n=wo(),u=/(.+)?\[(\d+)\]$/;function c(m,x,i,s,y){if(m[x])i&&(m[x]=y);else{var O,S,T=x?x.match(u):null;if(i)S=y;else{var q=s?s.match(u):null;q&&!q[1]?S=new Array(e(q[2])+1):S={}}return T?T[1]?(O=e(T[2]),m[T[1]]?i?m[T[1]][O]=S:m[T[1]][O]?S=m[T[1]][O]:m[T[1]][O]=S:(m[T[1]]=new Array(O+1),m[T[1]][O]=S)):m[T[2]]=S:m[x]=S,S}return m[x]}function d(m,x,i){if(m&&o(x)){if((m[x]||n(m,x))&&!v(x))m[x]=i;else for(var s=m,y=t(x),O=y.length,S=0;S<O;S++)if(!v(y[S])){var T=S===O-1;s=c(s,y[S],T,T?null:y[S+1],i)}}return m}function v(m){return m==="__proto__"||m==="constructor"||m==="prototype"}return Qc=d,Qc}var eu,wg;function Lb(){if(wg)return eu;wg=1;var e=Ob(),t=rs(),o=Kr(),n=kl(),u=Tr();function c(v){return function(){return e(v)}}function d(v,m,x){var i,s={};return v&&(m&&t(m)?m=c(m):o(m)||(m=n(m)),u(v,function(y,O){i=m?m.call(x,y,O,v):y,s[i]?s[i].push(y):s[i]=[y]})),s}return eu=d,eu}var tu,yg;function Uw(){if(yg)return tu;yg=1;var e=Lb(),t=fi();function o(n,u,c){var d=e(n,u,c||this);return t(d,function(v,m){d[m]=v.length}),d}return tu=o,tu}var ru,Eg;function Hb(){if(Eg)return ru;Eg=1;function e(t,o,n){var u,c,d=[],v=arguments;if(v.length<2&&(o=v[0],t=0),u=t>>0,c=o>>0,u<o)for(n=n>>0||1;u<c;u+=n)d.push(u);return d}return ru=e,ru}var ou,Rg;function Yw(){if(Rg)return ou;Rg=1;var e=Xo(),t=Kn(),o=Ll(),n=Nr(),u=yo();function c(d,v){if(d&&v){var m=u.apply(this,[{}].concat(t(arguments,1))),x=e(m);n(e(d),function(i){o(x,i)&&(d[i]=m[i])})}return d}return ou=c,ou}var nu,Sg;function Xw(){if(Sg)return nu;Sg=1;var e=cb(),t=e(function(o,n){return o>n});return nu=t,nu}var lu,Og;function ls(){if(Og)return lu;Og=1;function e(t){return(t.split(".")[1]||"").length}return lu=e,lu}var iu,Dg;function gi(){if(Dg)return iu;Dg=1;var e=pi();function t(o,n){if(o.repeat)return o.repeat(n);var u=isNaN(n)?[]:new Array(e(n));return u.join(o)+(u.length>0?o:"")}return iu=t,iu}var su,Mg;function qb(){if(Mg)return su;Mg=1;function e(t,o){return t.substring(0,o)+"."+t.substring(o,t.length)}return su=e,su}var au,Tg;function Sn(){if(Tg)return au;Tg=1;var e=gi(),t=qb();function o(n){var u=""+n,c=u.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(c){var d=n<0,v=d?"-":"",m=c[3]||"",x=c[5]||"",i=c[6]||"",s=c[7],y=c[8],O=y-i.length,S=y-m.length,T=y-x.length;return s==="+"?m?v+m+e("0",y):O>0?v+x+i+e("0",O):v+x+t(i,y):m?S>0?v+"0."+e("0",Math.abs(S))+m:v+t(m,S):T>0?v+"0."+e("0",Math.abs(T))+x+i:v+t(x,T)+i}return u}return au=o,au}var cu,Fg;function _b(){if(Fg)return cu;Fg=1;var e=ls(),t=Sn();function o(n,u){var c=t(n),d=t(u);return parseInt(c.replace(".",""))*parseInt(d.replace(".",""))/Math.pow(10,e(c)+e(d))}return cu=o,cu}var uu,Ig;function ff(){if(Ig)return uu;Ig=1;var e=_b(),t=Xn(),o=Sn();function n(u){return function(c,d){var v=t(c),m=v;if(v){d=d>>0;var x=o(v),i=x.split("."),s=i[0],y=i[1]||"",O=y.substring(0,d+1),S=s+(O?"."+O:"");if(d>=y.length)return t(S);if(S=v,d>0){var T=Math.pow(10,d);m=Math[u](e(S,T))/T}else m=Math[u](S)}return m}}return uu=n,uu}var du,kg;function hf(){if(kg)return du;kg=1;var e=ff(),t=e("round");return du=t,du}var fu,Ag;function Nb(){if(Ag)return fu;Ag=1;var e=ff(),t=e("ceil");return fu=t,fu}var hu,Lg;function Pb(){if(Lg)return hu;Lg=1;var e=ff(),t=e("floor");return hu=t,hu}var pu,Hg;function Jr(){if(Hg)return pu;Hg=1;var e=Zo(),t=zo(),o=Sn();function n(u){return t(u)?o(u):""+(e(u)?"":u)}return pu=n,pu}var gu,qg;function pf(){if(qg)return gu;qg=1;var e=hf(),t=Jr(),o=gi(),n=qb();function u(c,d){d=d>>0;var v=t(e(c,d)),m=v.split("."),x=m[0],i=m[1]||"",s=d-i.length;return d?s>0?x+"."+i+o("0",s):x+n(i,Math.abs(s)):x}return gu=u,gu}var vu,_g;function Kw(){if(_g)return vu;_g=1;var e=Bo(),t=hf(),o=Nb(),n=Pb(),u=zo(),c=Jr(),d=pf(),v=Sn(),m=yo();function x(i,s){var y=m({},e.commafyOptions,s),O=y.digits,S=u(i),T,q,A,_,W;return S?(T=(y.ceil?o:y.floor?n:t)(i,O),q=v(O?d(T,O):T).split("."),_=q[0],W=q[1],A=_&&T<0,A&&(_=_.substring(1,_.length))):(T=c(i).replace(/,/g,""),q=T?[T]:[],_=q[0]),q.length?(A?"-":"")+_.replace(new RegExp("(?=(?!(\\b))(.{"+(y.spaceNumber||3)+"})+$)","g"),y.separator||",")+(W?"."+W:""):T}return vu=x,vu}var mu,Ng;function Zw(){if(Ng)return mu;Ng=1;var e=pi(),t=sb(),o=t(e);return mu=o,mu}var bu,Pg;function gf(){if(Pg)return bu;Pg=1;var e=_b(),t=Xn();function o(n,u){var c=t(n),d=t(u);return e(c,d)}return bu=o,bu}var xu,Bg;function Bb(){if(Bg)return xu;Bg=1;var e=ls(),t=Sn(),o=gf();function n(u,c){var d=t(u),v=t(c),m=Math.pow(10,Math.max(e(d),e(v)));return(o(u,m)+o(c,m))/m}return xu=n,xu}var Cu,$g;function Jw(){if($g)return Cu;$g=1;var e=Bb(),t=Xn();function o(n,u){return e(t(n),t(u))}return Cu=o,Cu}var wu,zg;function Qw(){if(zg)return wu;zg=1;var e=ls(),t=Sn(),o=Xn(),n=pf();function u(c,d){var v=o(c),m=o(d),x=t(v),i=t(m),s=e(x),y=e(i),O=Math.pow(10,Math.max(s,y)),S=s>=y?s:y;return parseFloat(n((v*O-m*O)/O,S))}return wu=u,wu}var yu,Wg;function $b(){if(Wg)return yu;Wg=1;var e=ls(),t=Sn(),o=gf();function n(u,c){var d=t(u),v=t(c),m=e(d),x=e(v),i=x-m,s=i<0,y=Math.pow(10,s?Math.abs(i):i);return o(d.replace(".","")/v.replace(".",""),s?1/y:y)}return yu=n,yu}var Eu,Vg;function ey(){if(Vg)return Eu;Vg=1;var e=$b(),t=Xn();function o(n,u){return e(t(n),t(u))}return Eu=o,Eu}var Ru,Gg;function zb(){if(Gg)return Ru;Gg=1;var e=Bb(),t=Kr(),o=or(),n=Tr(),u=hi();function c(d,v,m){var x=0;return n(d&&d.length>2&&o(d)?d.sort():d,v?t(v)?function(){x=e(x,v.apply(m,arguments))}:function(i){x=e(x,u(i,v))}:function(i){x=e(x,i)}),x}return Ru=c,Ru}var Su,jg;function ty(){if(jg)return Su;jg=1;var e=$b(),t=yb(),o=zb();function n(u,c,d){return e(o(u,c,d),t(u))}return Su=n,Su}var Ou,Ug;function vi(){if(Ug)return Ou;Ug=1;var e="first";return Ou=e,Ou}var Du,Yg;function is(){if(Yg)return Du;Yg=1;var e="last";return Du=e,Du}var Mu,Xg;function mi(){if(Xg)return Mu;Xg=1;function e(t){return t.getFullYear()}return Mu=e,Mu}var Tu,Kg;function ql(){if(Kg)return Tu;Kg=1;var e=864e5;return Tu=e,Tu}var Fu,Zg;function ss(){if(Zg)return Fu;Zg=1;function e(t){return t.getMonth()}return Fu=e,Fu}var Iu,Jg;function vo(){if(Jg)return Iu;Jg=1;var e=Rn(),t=go();function o(n){return e(n)&&!isNaN(t(n))}return Iu=o,Iu}var ku,Qg;function bi(){if(Qg)return ku;Qg=1;var e=vi(),t=is(),o=ql(),n=mi(),u=go(),c=ss(),d=Zr(),v=vo(),m=zo();function x(i,s,y){var O=s&&!isNaN(s)?s:0;if(i=d(i),v(i)){if(y===e)return new Date(n(i),c(i)+O,1);if(y===t)return new Date(u(x(i,O+1,e))-1);if(m(y)&&i.setDate(y),O){var S=i.getDate();if(i.setMonth(c(i)+O),S!==i.getDate())return i.setDate(1),new Date(u(i)-o)}}return i}return ku=x,ku}var Au,ev;function as(){if(ev)return Au;ev=1;var e=vi(),t=is(),o=mi(),n=bi(),u=Zr(),c=vo();function d(v,m,x){var i;if(v=u(v),c(v)&&(m&&(i=m&&!isNaN(m)?m:0,v.setFullYear(o(v)+i)),x||!isNaN(x))){if(x===e)return new Date(o(v),0,1);if(x===t)return v.setMonth(11),n(v,0,t);v.setMonth(x)}return v}return Au=d,Au}var Lu,tv;function ry(){if(tv)return Lu;tv=1;var e=bi(),t=Zr(),o=vo();function n(c){var d=c.getMonth();return d<3?1:d<6?2:d<9?3:4}function u(c,d,v){var m,x=d&&!isNaN(d)?d*3:0;return c=t(c),o(c)?(m=(n(c)-1)*3,c.setMonth(m),e(c,x,v)):c}return Lu=u,Lu}var Hu,rv;function Wb(){if(rv)return Hu;rv=1;var e=vi(),t=is(),o=pi(),n=mi(),u=ss(),c=go(),d=Zr(),v=vo();function m(x,i,s){if(x=d(x),v(x)&&!isNaN(i)){if(x.setDate(x.getDate()+o(i)),s===e)return new Date(n(x),u(x),x.getDate());if(s===t)return new Date(c(m(x,1,e))-1)}return x}return Hu=m,Hu}var qu,ov;function Vb(){if(ov)return qu;ov=1;function e(t){return t.toUpperCase()}return qu=e,qu}var _u,nv;function Gb(){if(nv)return _u;nv=1;var e=ql(),t=e*7;return _u=t,_u}var Nu,lv;function jb(){if(lv)return Nu;lv=1;var e=Bo(),t=ql(),o=Gb(),n=go(),u=Zr(),c=vo(),d=zo();function v(m,x,i,s){if(m=u(m),c(m)){var y=d(i),O=d(s),S=n(m);if(y||O){var T=O?s:e.firstDayOfWeek,q=m.getDay(),A=y?i:q;if(q!==A){var _=0;T>q?_=-(7-T+q):T<q&&(_=T-q),A>T?S+=((A===0?7:A)-T+_)*t:A<T?S+=(7-T+A+_)*t:S+=_*t}}return x&&!isNaN(x)&&(S+=x*o),new Date(S)}return m}return Nu=v,Nu}var Pu,iv;function Ub(){if(iv)return Pu;iv=1;var e=Bo(),t=ql(),o=Gb(),n=zo(),u=Ll(),c=Zr(),d=vo(),v=jb(),m=Hb(),x=En(),i=go(),s=x(m(0,7),function(S){return[(S+1)%7,(S+2)%7,(S+3)%7]});function y(S,T){var q=new Date(S).getDay();return u(s[T],q)}function O(S,T){return function(q,A){var _=n(A)?A:e.firstDayOfWeek,W=c(q);if(d(W)){var U=v(W,0,_,_),te=S(U),Y=i(te),D=i(U),F=D+t*6,H=new Date(F),j=v(te,0,_,_),K=i(j),k;if(D===K)return 1;if(T(U,H)){for(k=i(S(H));k<F;k+=t)if(y(k,_))return 1}var X=K+t*6,J=new Date(F),Ce=1;if(T(j,J)){for(Ce=0,k=Y;k<X;k+=t)if(y(k,_)){Ce++;break}}return Math.floor((D-K)/o)+Ce}return NaN}}return Pu=O,Pu}var Bu,sv;function Yb(){if(sv)return Bu;sv=1;var e=Ub(),t=e(function(o){return new Date(o.getFullYear(),0,1)},function(o,n){return o.getFullYear()!==n.getFullYear()});return Bu=t,Bu}var $u,av;function oy(){if(av)return $u;av=1;var e=mi(),t=ss();function o(n){return new Date(e(n),t(n),n.getDate())}return $u=o,$u}var zu,cv;function ny(){if(cv)return zu;cv=1;var e=go(),t=oy();function o(n){return e(t(n))}return zu=o,zu}var Wu,uv;function Xb(){if(uv)return Wu;uv=1;var e=ql(),t=vi(),o=ny(),n=as(),u=Zr(),c=vo();function d(v){return v=u(v),c(v)?Math.floor((o(v)-o(n(v,0,t)))/e)+1:NaN}return Wu=d,Wu}var Vu,dv;function Kb(){if(dv)return Vu;dv=1;var e=Jr(),t=$o(),o=gi();function n(u,c,d){var v=e(u);return c=c>>0,d=t(d)?" ":""+d,v.padStart?v.padStart(c,d):c>v.length?(c-=v.length,c>d.length&&(d+=o(d,c/d.length)),d.slice(0,c)+v):v}return Vu=n,Vu}var Gu,fv;function Zb(){if(fv)return Gu;fv=1;var e=Bo(),t=Vb(),o=mi(),n=ss(),u=Zr(),c=Yb(),d=Xb(),v=yo(),m=vo(),x=Kr(),i=Kb();function s(S,T,q,A){var _=T[q];return _?x(_)?_(A,q,S):_[A]:A}var y=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function O(S,T,q){if(S){if(S=u(S),m(S)){var A=T||e.parseDateFormat||e.formatString,_=S.getHours(),W=_<12?"am":"pm",U=v({},e.parseDateRules||e.formatStringMatchs,q?q.formats:null),te=function(ue,pe){return(""+o(S)).substr(4-pe)},Y=function(ue,pe){return i(n(S)+1,pe,"0")},D=function(ue,pe){return i(S.getDate(),pe,"0")},F=function(ue,pe){return i(_,pe,"0")},H=function(ue,pe){return i(_<=12?_:_-12,pe,"0")},j=function(ue,pe){return i(S.getMinutes(),pe,"0")},K=function(ue,pe){return i(S.getSeconds(),pe,"0")},k=function(ue,pe){return i(S.getMilliseconds(),pe,"0")},X=function(ue,pe){var Se=S.getTimezoneOffset()/60*-1;return s(S,U,ue,(Se>=0?"+":"-")+i(Se,2,"0")+(pe===1?":":"")+"00")},J=function(ue,pe){return i(s(S,U,ue,c(S,(q?q.firstDay:null)||e.firstDayOfWeek)),pe,"0")},Ce=function(ue,pe){return i(s(S,U,ue,d(S)),pe,"0")},xe={yyyy:te,yy:te,MM:Y,M:Y,dd:D,d:D,HH:F,H:F,hh:H,h:H,mm:j,m:j,ss:K,s:K,SSS:k,S:k,ZZ:X,Z:X,WW:J,W:J,DDD:Ce,D:Ce,a:function(ue){return s(S,U,ue,W)},A:function(ue){return s(S,U,ue,t(W))},e:function(ue){return s(S,U,ue,S.getDay())},E:function(ue){return s(S,U,ue,S.getDay())},q:function(ue){return s(S,U,ue,Math.floor((n(S)+3)/3))}};return A.replace(y,function(ue,pe){return pe||(xe[ue]?xe[ue](ue,ue.length):ue)})}return"Invalid Date"}return""}return Gu=O,Gu}var ju,hv;function Jb(){if(hv)return ju;hv=1;var e=go(),t=ns(),o=Date.now||function(){return e(t())};return ju=o,ju}var Uu,pv;function ly(){if(pv)return Uu;pv=1;var e=go(),t=Jb(),o=Zr(),n=Rn(),u=function(c,d){if(c){var v=o(c,d);return n(v)?e(v):v}return t()};return Uu=u,Uu}var Yu,gv;function iy(){if(gv)return Yu;gv=1;var e=Zb();function t(o,n,u){return o&&n?(o=e(o,u),o!=="Invalid Date"&&o===e(n,u)):!1}return Yu=t,Yu}var Xu,vv;function sy(){if(vv)return Xu;vv=1;var e=Ub(),t=e(function(o){return new Date(o.getFullYear(),o.getMonth(),1)},function(o,n){return o.getMonth()!==n.getMonth()});return Xu=t,Xu}var Ku,mv;function ay(){if(mv)return Ku;mv=1;var e=as(),t=Zr(),o=vo(),n=xb();function u(c,d){return c=t(c),o(c)?n(e(c,d))?366:365:NaN}return Ku=u,Ku}var Zu,bv;function cy(){if(bv)return Zu;bv=1;var e=ql(),t=vi(),o=is(),n=go(),u=bi(),c=Zr(),d=vo();function v(m,x){return m=c(m),d(m)?Math.floor((n(u(m,x,o))-n(u(m,x,t)))/e)+1:NaN}return Zu=v,Zu}var Ju,xv;function uy(){if(xv)return Ju;xv=1;var e=go(),t=ns(),o=Zr(),n=vo(),u=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function c(d,v){var m,x,i,s,y,O,S={done:!1,time:0};if(d=o(d),v=v?o(v):t(),n(d)&&n(v)&&(m=e(d),x=e(v),m<x))for(s=S.time=x-m,S.done=!0,O=0,y=u.length;O<y;O++)i=u[O],s>=i[1]?O===y-1?S[i[0]]=s||0:(S[i[0]]=Math.floor(s/i[1]),s-=S[i[0]]*i[1]):S[i[0]]=0;return S}return Ju=c,Ju}var Qu,Cv;function dy(){if(Cv)return Qu;Cv=1;var e=Jr(),t=$o(),o=gi();function n(u,c,d){var v=e(u);return c=c>>0,d=t(d)?" ":""+d,v.padEnd?v.padEnd(c,d):c>v.length?(c-=v.length,c>d.length&&(d+=o(d,c/d.length)),v+d.slice(0,c)):v}return Qu=n,Qu}var ed,wv;function fy(){if(wv)return ed;wv=1;var e=Jr(),t=gi();function o(n,u){return t(e(n),u)}return ed=o,ed}var td,yv;function Qb(){if(yv)return td;yv=1;var e=Jr();function t(o){return o&&o.trimRight?o.trimRight():e(o).replace(/[\s\uFEFF\xA0]+$/g,"")}return td=t,td}var rd,Ev;function ex(){if(Ev)return rd;Ev=1;var e=Jr();function t(o){return o&&o.trimLeft?o.trimLeft():e(o).replace(/^[\s\uFEFF\xA0]+/g,"")}return rd=t,rd}var od,Rv;function tx(){if(Rv)return od;Rv=1;var e=Qb(),t=ex();function o(n){return n&&n.trim?n.trim():e(t(n))}return od=o,od}var nd,Sv;function rx(){if(Sv)return nd;Sv=1;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return nd=e,nd}var ld,Ov;function ox(){if(Ov)return ld;Ov=1;var e=Jr(),t=Xo();function o(n){var u=new RegExp("(?:"+t(n).join("|")+")","g");return function(c){return e(c).replace(u,function(d){return n[d]})}}return ld=o,ld}var id,Dv;function hy(){if(Dv)return id;Dv=1;var e=rx(),t=ox(),o=t(e);return id=o,id}var sd,Mv;function py(){if(Mv)return sd;Mv=1;var e=rx(),t=ox(),o=Tr(),n={};o(e,function(c,d){n[e[d]]=d});var u=t(n);return sd=u,sd}var ad,Tv;function nx(){if(Tv)return ad;Tv=1;function e(t,o,n){return t.substring(o,n)}return ad=e,ad}var cd,Fv;function lx(){if(Fv)return cd;Fv=1;function e(t){return t.toLowerCase()}return cd=e,cd}var ud,Iv;function gy(){if(Iv)return ud;Iv=1;var e=Jr(),t=nx(),o=Vb(),n=lx(),u={};function c(d){if(d=e(d),u[d])return u[d];var v=d.length,m=d.replace(/([-]+)/g,function(x,i,s){return s&&s+i.length<v?"-":""});return v=m.length,m=m.replace(/([A-Z]+)/g,function(x,i,s){var y=i.length;return i=n(i),s?y>2&&s+y<v?o(t(i,0,1))+t(i,1,y-1)+o(t(i,y-1,y)):o(t(i,0,1))+t(i,1,y):y>1&&s+y<v?t(i,0,y-1)+o(t(i,y-1,y)):i}).replace(/(-[a-zA-Z])/g,function(x,i){return o(t(i,1,i.length))}),u[d]=m,m}return ud=c,ud}var dd,kv;function vy(){if(kv)return dd;kv=1;var e=Jr(),t=nx(),o=lx(),n={};function u(c){if(c=e(c),n[c])return n[c];if(/^[A-Z]+$/.test(c))return o(c);var d=c.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(v,m,x,i){var s=x.length;return s>1?m+"-"+o(t(x,0,s-1))+"-"+o(t(x,s-1,s))+i:o(m+"-"+x+i)}).replace(/^([A-Z]+)([a-z]+)?$/,function(v,m,x){var i=m.length;return o(t(m,0,i-1)+"-"+t(m,i-1,i)+(x||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(v,m,x,i,s){var y=x.length;return y>1&&(m&&(m+="-"),i)?(m||"")+o(t(x,0,y-1))+"-"+o(t(x,y-1,y))+i:(m||"")+(s?"-":"")+o(x)+(i||"")});return d=d.replace(/([-]+)/g,function(v,m,x){return x&&x+m.length<d.length?"-":""}),n[c]=d,d}return dd=u,dd}var fd,Av;function my(){if(Av)return fd;Av=1;var e=Jr();function t(o,n,u){var c=e(o);return(arguments.length===1?c:c.substring(u)).indexOf(n)===0}return fd=t,fd}var hd,Lv;function by(){if(Lv)return hd;Lv=1;var e=Jr();function t(o,n,u){var c=e(o),d=arguments.length;return d>1&&(d>2?c.substring(0,u).indexOf(n)===u-1:c.indexOf(n)===c.length-1)}return hd=t,hd}var pd,Hv;function ix(){if(Hv)return pd;Hv=1;var e=Bo(),t=Jr(),o=tx(),n=hi();function u(c,d,v){return t(c).replace((v||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(m,x){return n(d,o(x))})}return pd=u,pd}var gd,qv;function xy(){if(qv)return gd;qv=1;var e=ix();function t(o,n){return e(o,n,{tmplRE:/\{([.\w[\]\s]+)\}/g})}return gd=t,gd}var vd,_v;function Cy(){if(_v)return vd;_v=1;function e(){}return vd=e,vd}var md,Nv;function wy(){if(Nv)return md;Nv=1;var e=Kn();function t(o,n){var u=e(arguments,2);return function(){return o.apply(n,e(arguments).concat(u))}}return md=t,md}var bd,Pv;function yy(){if(Pv)return bd;Pv=1;var e=Kn();function t(o,n){var u=!1,c=null,d=e(arguments,2);return function(){return u||(c=o.apply(n,e(arguments).concat(d)),u=!0),c}}return bd=t,bd}var xd,Bv;function Ey(){if(Bv)return xd;Bv=1;var e=Kn();function t(o,n,u){var c=0,d=[];return function(){var v=arguments;c++,c<=o&&d.push(v[0]),c>=o&&n.apply(u,[d].concat(e(v)))}}return xd=t,xd}var Cd,$v;function Ry(){if($v)return Cd;$v=1;var e=Kn();function t(o,n,u){var c=0,d=[];return u=u||this,function(){var v=arguments;c++,c<o&&(d.push(v[0]),n.apply(u,[d].concat(e(v))))}}return Cd=t,Cd}var wd,zv;function Sy(){if(zv)return wd;zv=1;function e(t,o,n){var u=null,c=null,d=n||{},v=!1,m=null,x="leading"in d?d.leading:!0,i="trailing"in d?d.trailing:!1,s=function(){u=null,c=null},y=function(){v=!0,t.apply(c,u),m=setTimeout(O,o),s()},O=function(){m=null,!v&&i===!0&&y()},S=function(){var q=m!==null;return q&&clearTimeout(m),s(),m=null,v=!1,q},T=function(){u=arguments,c=this,v=!1,m===null&&(x===!0?y():i===!0&&(m=setTimeout(O,o)))};return T.cancel=S,T}return wd=e,wd}var yd,Wv;function Oy(){if(Wv)return yd;Wv=1;function e(t,o,n){var u=null,c=null,d=n||{},v=!1,m=null,x=typeof n=="boolean",i="leading"in d?d.leading:x,s="trailing"in d?d.trailing:!x,y=function(){u=null,c=null},O=function(){v=!0,t.apply(c,u),y()},S=function(){i===!0&&(m=null),!v&&s===!0&&O()},T=function(){var A=m!==null;return A&&clearTimeout(m),y(),m=null,v=!1,A},q=function(){v=!1,u=arguments,c=this,m===null?i===!0&&O():clearTimeout(m),m=setTimeout(S,o)};return q.cancel=T,q}return yd=e,yd}var Ed,Vv;function Dy(){if(Vv)return Ed;Vv=1;var e=Kn();function t(o,n){var u=e(arguments,2),c=this;return setTimeout(function(){o.apply(c,u)},n)}return Ed=t,Ed}var Rd,Gv;function sx(){if(Gv)return Rd;Gv=1;var e=decodeURIComponent;return Rd=e,Rd}var Sd,jv;function ax(){if(jv)return Sd;jv=1;var e=sx(),t=Nr(),o=Jo();function n(u){var c,d={};return u&&o(u)&&t(u.split("&"),function(v){c=v.split("="),d[e(c[0])]=e(c[1]||"")}),d}return Sd=n,Sd}var Od,Uv;function cx(){if(Uv)return Od;Uv=1;var e=encodeURIComponent;return Od=e,Od}var Dd,Yv;function My(){if(Yv)return Dd;Yv=1;var e=cx(),t=Tr(),o=or(),n=Ko(),u=$o(),c=Al();function d(m,x,i){var s,y=[];return t(m,function(O,S){s=o(O),c(O)||s?y=y.concat(d(O,x+"["+S+"]",s)):y.push(e(x+"["+(i?"":S)+"]")+"="+e(n(O)?"":O))}),y}function v(m){var x,i=[];return t(m,function(s,y){u(s)||(x=o(s),c(s)||x?i=i.concat(d(s,y,x)):i.push(e(y)+"="+e(n(s)?"":s)))}),i.join("&").replace(/%20/g,"+")}return Dd=v,Dd}var Md,Xv;function cs(){if(Xv)return Md;Xv=1;var e=Eo(),t=typeof location===e?0:location;return Md=t,Md}var Td,Kv;function ux(){if(Kv)return Td;Kv=1;var e=cs();function t(){return e?e.origin||e.protocol+"//"+e.host:""}return Td=t,Td}var Fd,Zv;function dx(){if(Zv)return Fd;Zv=1;var e=cs(),t=ax(),o=ux();function n(c){return t(c.split("?")[1]||"")}function u(c){var d,v,m,x,i=""+c;return i.indexOf("//")===0?i=(e?e.protocol:"")+i:i.indexOf("/")===0&&(i=o()+i),m=i.replace(/#.*/,"").match(/(\?.*)/),x={href:i,hash:"",host:"",hostname:"",protocol:"",port:"",search:m&&m[1]&&m[1].length>1?m[1]:""},x.path=i.replace(/^([a-z0-9.+-]*:)\/\//,function(s,y){return x.protocol=y,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(s,y,O){return v=O||"",x.port=v.replace(":",""),x.hostname=y,x.host=y+v,"/"}).replace(/(#.*)/,function(s,y){return x.hash=y.length>1?y:"",""}),d=x.hash.match(/#((.*)\?|(.*))/),x.pathname=x.path.replace(/(\?|#.*).*/,""),x.origin=x.protocol+"//"+x.host,x.hashKey=d&&(d[2]||d[1])||"",x.hashQuery=n(x.hash),x.searchQuery=n(x.search),x}return Fd=u,Fd}var Id,Jv;function Ty(){if(Jv)return Id;Jv=1;var e=cs(),t=ux(),o=wb();function n(){if(e){var u=e.pathname,c=o(u,"/")+1;return t()+(c===u.length?u:u.substring(0,c))}return""}return Id=n,Id}var kd,Qv;function Fy(){if(Qv)return kd;Qv=1;var e=cs(),t=dx();function o(){return e?t(e.href):{}}return kd=o,kd}var Ad,em;function Iy(){if(em)return Ad;em=1;var e=Bo(),t=uf(),o=sx(),n=cx(),u=or(),c=rs(),d=Rn(),v=$o(),m=Ll(),x=Xo(),i=yo(),s=Nr(),y=ns(),O=go(),S=as(),T=bi(),q=Wb();function A(j,K){var k=parseFloat(K),X=y(),J=O(X);switch(j){case"y":return O(S(X,k));case"M":return O(T(X,k));case"d":return O(q(X,k));case"h":case"H":return J+k*60*60*1e3;case"m":return J+k*60*1e3;case"s":return J+k*1e3}return J}function _(j){return(d(j)?j:new Date(j)).toUTCString()}function W(j,K,k){if(t){var X,J,Ce,xe,ue,pe,Se=[],Ee=arguments;return u(j)?Se=j:Ee.length>1?Se=[i({name:j,value:K},k)]:c(j)&&(Se=[j]),Se.length>0?(s(Se,function(G){X=i({},e.cookies,G),Ce=[],X.name&&(J=X.expires,Ce.push(n(X.name)+"="+n(c(X.value)?JSON.stringify(X.value):X.value)),J&&(isNaN(J)?J=J.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(de,ce,ne){return _(A(ne,ce))}):/^[0-9]{11,13}$/.test(J)||d(J)?J=_(J):J=_(A("d",J)),X.expires=J),s(["expires","path","domain","secure"],function(de){v(X[de])||Ce.push(X[de]&&de==="secure"?de:de+"="+X[de])})),t.cookie=Ce.join("; ")}),!0):(xe={},ue=t.cookie,ue&&s(ue.split("; "),function(G){pe=G.indexOf("="),xe[o(G.substring(0,pe))]=o(G.substring(pe+1)||"")}),Ee.length===1?xe[j]:xe)}return!1}function U(j){return m(F(),j)}function te(j){return W(j)}function Y(j,K,k){return W(j,K,k),W}function D(j,K){W(j,"",i({expires:-1},e.cookies,K))}function F(){return x(W())}function H(){return W()}return i(W,{has:U,set:Y,setItem:Y,get:te,getItem:te,remove:D,removeItem:D,keys:F,getJSON:H}),Ad=W,Ad}var Ld,tm;function ky(){if(tm)return Ld;tm=1;var e=Eo(),t=uf(),o=Mb(),n=yo(),u=Nr();function c(m){try{var x="__xe_t";return m.setItem(x,1),m.removeItem(x),!0}catch{return!1}}function d(m){return navigator.userAgent.indexOf(m)>-1}function v(){var m,x,i,s=!1,y=!1,O=!1,S={isNode:!1,isMobile:s,isPC:!1,isDoc:!!t};if(!o&&typeof process!==e)S.isNode=!0;else{i=d("Edge"),x=d("Chrome"),s=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),S.isDoc&&(m=t.body||t.documentElement,u(["webkit","khtml","moz","ms","o"],function(T){S["-"+T]=!!m[T+"MatchesSelector"]}));try{y=c(o.localStorage)}catch{}try{O=c(o.sessionStorage)}catch{}n(S,{edge:i,firefox:d("Firefox"),msie:!i&&S["-ms"],safari:!x&&!i&&d("Safari"),isMobile:s,isPC:!s,isLocalStorage:y,isSessionStorage:O})}return S}return Ld=v,Ld}var Hd,rm;function Ay(){if(rm)return Hd;rm=1;var e=UC(),t=yo(),o=fi(),n=Jm(),u=YC(),c=XC(),d=En(),v=eb(),m=tb(),x=rb(),i=Nr(),s=nf(),y=ob(),O=KC(),S=lf(),T=ZC(),q=af(),A=ib(),_=JC(),W=Kn(),U=QC(),te=ew(),Y=Ll(),D=tw(),F=rw(),H=ow(),j=nw(),K=lw(),k=iw(),X=db(),J=sw(),Ce=aw(),xe=ab(),ue=cw(),pe=uw(),Se=dw(),Ee=fw(),G=vb(),de=hw(),ce=pw(),ne=gw(),oe=mb(),ie=bb(),we=wo(),se=or(),Oe=Ko(),fe=vw(),he=$o(),Te=Kr(),me=rs(),le=Jo(),Fe=Al(),Re=xb(),Ye=Rn(),Ge=Zo(),je=Tr(),Le=bw(),nt=xw(),Et=Cw(),bt=wb(),ut=Xo(),it=Hl(),mt=of(),Je=yb(),Ne=hb(),Ue=gb(),ft=pb(),Ae=ww(),Me=yw(),He=Eb(),gt=Rb(),Qe=zo(),ae=cf(),be=Sb(),re=Ew(),Ie=Ob(),Be=Db(),tt=Rw(),lt=Sw(),xt=Ow(),ht=Dw(),Lt=Mw(),Tt=Tw(),$e=Fw(),Bt=Iw(),Pt=kw(),Ut=Aw(),Zt=kb(),Yt=Lw(),ar=Hw(),Ot=qw(),Qt=df(),et=_w(),Ht=Nw(),dr=Pw(),Ft=Bw(),cr=$w(),kt=zw(),lr=Ww(),gr=Vw(),Wt=Gw(),er=hi(),Rr=jw(),vr=Lb(),ir=Uw(),wr=Hb(),wt=Yw(),st=lb(),fr=ub(),io=Xw(),so=Kw(),yr=hf(),Qo=Nb(),Zn=Pb(),en=pf(),Jn=Zw(),Qn=Xn(),_l=Sn(),Nl=Jw(),Pl=Qw(),el=gf(),tl=ey(),h=zb(),rl=ty(),tn=as(),rn=ry(),Ro=bi(),on=Wb(),nn=Zr(),Pr=Zb(),ln=Jb(),On=ly(),Wo=vo(),Dn=iy(),So=jb(),ol=Xb(),Bl=Yb(),Br=sy(),Mn=ay(),Oo=cy(),sn=uy(),Do=dy(),ao=Kb(),Vo=fy(),nl=tx(),an=Qb(),cn=ex(),Tn=hy(),$r=py(),un=gy(),Fn=vy(),_r=my(),Qr=by(),co=ix(),qt=xy(),zr=Jr(),dn=Cy(),fn=kl(),$l=wy(),In=yy(),zl=Ey(),Wl=Ry(),Wr=Sy(),eo=Oy(),Hr=Dy(),hn=ax(),It=My(),Sr=dx(),Vr=Ty(),Ci=Fy(),wi=Iy(),yi=ky();return t(e,{assign:t,objectEach:o,lastObjectEach:n,objectMap:u,merge:c,uniq:y,union:O,sortBy:T,orderBy:q,shuffle:A,sample:_,some:v,every:m,slice:W,filter:U,find:D,findLast:F,findKey:te,includes:Y,arrayIndexOf:oe,arrayLastIndexOf:ie,map:d,reduce:H,copyWithin:j,chunk:K,zip:k,unzip:X,zipObject:J,flatten:Ce,toArray:S,includeArrays:x,pluck:xe,invoke:ue,arrayEach:i,lastArrayEach:s,toArrayTree:pe,toTreeArray:Se,findTree:Ee,eachTree:G,mapTree:de,filterTree:ce,searchTree:ne,hasOwnProp:we,eqNull:Ge,isNaN:fe,isFinite:Ae,isUndefined:he,isArray:se,isFloat:Me,isInteger:He,isFunction:Te,isBoolean:gt,isString:le,isNumber:Qe,isRegExp:ae,isObject:me,isPlainObject:Fe,isDate:Ye,isError:be,isTypeError:re,isEmpty:Ie,isNull:Oe,isSymbol:Be,isArguments:tt,isElement:lt,isDocument:xt,isWindow:ht,isFormData:Lt,isMap:Tt,isWeakMap:$e,isSet:Bt,isWeakSet:Pt,isLeapYear:Re,isMatch:Ut,isEqual:Zt,isEqualWith:Yt,getType:ar,uniqueId:Ot,getSize:Je,indexOf:Et,lastIndexOf:bt,findIndexOf:Qt,findLastIndexOf:et,toStringJSON:Ht,toJSONString:dr,keys:ut,values:it,entries:Ft,pick:cr,omit:kt,first:lr,last:gr,each:je,forOf:Le,lastForOf:nt,lastEach:Ne,has:Wt,get:er,set:Rr,groupBy:vr,countBy:ir,clone:mt,clear:ft,remove:Ue,range:wr,destructuring:wt,random:st,min:io,max:fr,commafy:so,round:yr,ceil:Qo,floor:Zn,toFixed:en,toNumber:Qn,toNumberString:_l,toInteger:Jn,add:Nl,subtract:Pl,multiply:el,divide:tl,sum:h,mean:rl,now:ln,timestamp:On,isValidDate:Wo,isDateSame:Dn,toStringDate:nn,toDateString:Pr,getWhatYear:tn,getWhatQuarter:rn,getWhatMonth:Ro,getWhatWeek:So,getWhatDay:on,getYearDay:ol,getYearWeek:Bl,getMonthWeek:Br,getDayOfYear:Mn,getDayOfMonth:Oo,getDateDiff:sn,trim:nl,trimLeft:cn,trimRight:an,escape:Tn,unescape:$r,camelCase:un,kebabCase:Fn,repeat:Vo,padStart:ao,padEnd:Do,startsWith:_r,endsWith:Qr,template:co,toFormatString:qt,toString:zr,toValueString:zr,noop:dn,property:fn,bind:$l,once:In,after:zl,before:Wl,throttle:Wr,debounce:eo,delay:Hr,unserialize:hn,serialize:It,parseUrl:Sr,getBaseURL:Vr,locat:Ci,browse:yi,cookie:wi}),Hd=e,Hd}var Ly=Ay();const f=$C(Ly);var Sl=null,qd=null,gn=null,om="z-index-manage",_n=null,nm="z-index-style",fx="m",hx="s",ci={m:1e3,s:1e3};function vf(){return Sl||typeof document<"u"&&(Sl=document),Sl}function px(){return Sl&&!qd&&(qd=Sl.body||Sl.getElementsByTagName("body")[0]),qd}function Hy(){var e=0,t=vf();if(t){var o=px();if(o)for(var n=o.getElementsByTagName("*"),u=0;u<n.length;u++){var c=n[u];if(c&&c.style&&c.nodeType===1){var d=c.style.zIndex;d&&/^\d+$/.test(d)&&(e=Math.max(e,Number(d)))}}}return e}function qy(){if(!_n){var e=vf();e&&(_n=e.getElementById(nm),_n||(_n=e.createElement("style"),_n.id=nm,e.getElementsByTagName("head")[0].appendChild(_n)))}return _n}function gx(){var e=qy();if(e){var t="--dom-",o="-z-index";e.innerHTML=":root{"+t+"main"+o+":"+us()+";"+t+"sub"+o+":"+xf()+"}"}}function vx(){if(!gn){var e=vf();if(e&&(gn=e.getElementById(om),!gn)){var t=px();t&&(gn=e.createElement("div"),gn.id=om,gn.style.display="none",t.appendChild(gn),mf(ci.m),bf(ci.s))}}return gn}function mx(e){return function(t){if(t){t=Number(t),ci[e]=t;var o=vx();o&&(o.dataset?o.dataset[e]=t+"":o.setAttribute("data-"+e,t+""))}return gx(),ci[e]}}var mf=mx(fx);function bx(e,t){return function(n){var u,c=vx();if(c){var d=c.dataset?c.dataset[e]:c.getAttribute("data-"+e);d&&(u=Number(d))}return u||(u=ci[e]),n?Number(n)<u?t():n:u}}var us=bx(fx,xx);function xx(){return mf(us()+1)}var bf=mx(hx),Cx=bx(hx,wx);function xf(){return us()+Cx()}function wx(){return bf(Cx()+1),xf()}var Cf={setCurrent:mf,getCurrent:us,getNext:xx,setSubCurrent:bf,getSubCurrent:xf,getSubNext:wx,getMax:Hy};gx();const Tl={size:"",version:1,zIndex:999,resizeInterval:500},yx={theme:""};function wf(e){const t=!e||e==="default"?"light":e;if(yx.theme=t,typeof document<"u"){const o=document.documentElement;o&&o.setAttribute("data-vxe-ui-theme",t)}return Yn}function _y(){return yx.theme}function Ny(e){return e&&(e.zIndex&&Cf.setCurrent(e.zIndex),e.theme&&wf(e.theme),f.merge(Tl,e)),Yn}function Py(e,t){return arguments.length?f.get(Tl,e,t):Tl}const By={},Yd={};function $y(e){return e&&Object.assign(Yd,e),Yn}function zy(e){return arguments.length?f.get(Yd,e):Yd}const Bn={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},Xd=f.browse(),lm={" ":"Spacebar",Apps:Bn.CONTEXT_MENU,Del:Bn.DELETE,Up:Bn.ARROW_UP,Down:Bn.ARROW_DOWN,Left:Bn.ARROW_LEFT,Right:Bn.ARROW_RIGHT},Ex=Xd.firefox?"DOMMouseScroll":"mousewheel",Kd=[];function jo(e){const t=e.type===Ex;Kd.forEach(({type:o,cb:n})=>{e.cancelBubble||(o===e.type||t&&o==="mousewheel")&&n(e)})}class Wy{constructor(t,o,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=t,t&&(t.type&&(this.type=t.type),t.key&&(this.key=t.key),t.code&&(this.code=t.code)),Object.assign(this,o),f.objectEach(n,(u,c)=>{if(f.isFunction(u)){let d=null,v=!1;Object.defineProperty(this,c,{get(){return v||(v=!0,d=u()),d}})}else this[c]=u})}stopPropagation(){const t=this.$event;t&&t.stopPropagation()}preventDefault(){const t=this.$event;t&&t.preventDefault()}}const Vy=(e,t,o)=>new Wy(e,t,o),Gy={on(e,t,o){Kd.push({comp:e,type:t,cb:o})},off(e,t){f.remove(Kd,o=>o.comp===e&&o.type===t)},hasKey(e,t){const{key:o}=e;return t=t.toLowerCase(),o?t===o.toLowerCase()||!!(lm[o]&&lm[o].toLowerCase()===t):!1}};Xd.isDoc&&(Xd.msie||(window.addEventListener("copy",jo,!1),window.addEventListener("cut",jo,!1),window.addEventListener("paste",jo,!1)),document.addEventListener("keydown",jo,!1),document.addEventListener("contextmenu",jo,!1),window.addEventListener("mousedown",jo,!1),window.addEventListener("blur",jo,!1),window.addEventListener("resize",jo,!1),window.addEventListener(Ex,f.throttle(jo,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let im;const zn=[],jy=500;function Uy(){zn.length&&(zn.forEach(e=>{e.tarList.forEach(t=>{const{target:o,width:n,heighe:u}=t,c=o.clientWidth,d=o.clientHeight;(c&&n!==c||d&&u!==d)&&(t.width=c,t.heighe=d,setTimeout(e.callback))})}),Rx())}function Rx(){clearTimeout(im),im=setTimeout(Uy,Tl.resizeInterval||jy)}class Yy{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:o}=this;o.some(n=>n.target===t)||o.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),zn.length||Rx(),zn.some(n=>n===this)||zn.push(this)}}unobserve(t){f.remove(zn,o=>o.tarList.some(n=>n.target===t))}disconnect(){f.remove(zn,t=>t===this)}}const Xy={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new Yy(e)}},Fl=Co({language:"",langMaps:{}});let sm=!1,Wi={};function Sx(e,t){const{langMaps:o,language:n}=Fl,{i18n:u}=Tl;if(u)return`${u(e,t)||""}`;if(sm||(o[n]||console.error(`[vxe core] 语言包未安装。Language not installed. https://${Yn.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),sm=!0),!t&&Wi[e])return Wi[e];const c=f.toFormatString(f.get(o[n],e,e),t);return t||(Wi[e]=c),c}function Ky(e){const{language:t}=Fl,o=e||"zh-CN";return t!==o&&(Fl.language=o,Wi={}),Yn}function Zy(e,t){return Fl.langMaps[e]=Object.assign({},t),Yn}function Jy(e){const{langMaps:t}=Fl;return!!t[e]}function Qy(){const{language:e}=Fl;return e}function _d(e,t){return function(o,n){const u=`[vxe ${t||""}] ${Sx(o,n)}`;return console[e](u),u}}const am="4.1.2",eE={create:_d,warn:_d("warn",`v${am}`),err:_d("error",`v${am}`)},Kl={},Cl={mixin(e){return f.each(e,(t,o)=>Cl.add(o,t)),Cl},get(e){return Kl[e]||null},add(e,t){if(e&&t){const o=Kl[e];o?Object.assign(o,t):Kl[e]=t}return Cl},forEach(e){return f.objectEach(Kl,e),Cl},delete(e){return delete Kl[e],Cl}};class Ox{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];return this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const tE=new Ox;class rE{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];return f.isFunction(o)&&(o={menuMethod:o}),this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const oE=new rE;class nE{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];return f.isFunction(o)&&(o={cellFormatMethod:o}),this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const lE=new nE;class iE{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];return f.isFunction(o)&&(o={commandMethod:o}),this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const sE=new iE,Zl={},Vi={mixin(e){return f.each(e,(t,o)=>{Vi.add(o,t)}),Vi},get(e){return Zl[e]||[]},add(e,t){f.isFunction(t)&&(t={tableInterceptorMethod:t});const o=t.tableInterceptorMethod;if(o){let n=Zl[e];n||(n=Zl[e]=[]),n.push(o)}return Vi},delete(e,t){const o=Zl[e];if(o){f.isFunction(t)&&(t={tableInterceptorMethod:t});const n=t?t.tableInterceptorMethod:null;n?f.remove(o,u=>u===n):delete Zl[e]}}};let Lo;const Jl={text:"",html:""};function aE(e){if(!Lo){Lo=document.createElement("textarea"),Lo.id="$VxeCopy";const t=Lo.style;t.width="48px",t.height="24px",t.position="fixed",t.zIndex="0",t.left="-500px",t.top="-500px",document.body.appendChild(Lo)}Lo.value=e}const cE={getStore(){return Jl},setStore(e){Object.assign(Jl,e||{})},copy(e){let t=!1;try{const o=f.toValueString(e);aE(o),Lo.select(),Lo.setSelectionRange(0,Lo.value.length),t=document.execCommand("copy"),Lo.blur(),Jl.text=o,Jl.html=""}catch{}return t},getText(){return Jl.text||""}};function Gi(e,t){let o=!0,n=!1;const u=t||Tl.permissionMethod;if(e&&u){o=!1,n=!0;let d=!1,v=!1;const m=String(e).split("|");for(let x=0;x<m.length;x++){const i=m[x];let s=!0,y=!1;const O=u({code:i});if(f.isBoolean(O)?s=O:O&&(s=!!O.visible,y=!!O.disabled),!y&&!v&&(v=!0,n=y),s&&!d&&(d=!0,o=s),d&&v)break}}return{code:e,visible:o,disabled:n}}const uE={getCheckInfo(e){return Gi(e)},checkVisible(e){return Gi(e).visible},checkDisable(e){return Gi(e).disabled}},dE=new Ox;function fE(e){const t=Lr("xeSizeInfo",null),o=_e(()=>e.size||(t?t.value:null));return yn("xeSizeInfo",o),{computeSize:o}}function hE(e){return{computePermissionInfo:_e(()=>Gi(e.permissionCode,e.permissionMethod))}}const pE={useSize:fE,usePermission:hE},cm=[];function gE(e,t){return e&&e.install&&cm.indexOf(e)===-1&&(e.install(ve,t),cm.push(e)),ve}const Zd={};function vE(e){return Zd[e]||null}function mE(e){e&&e.name&&(Zd[e.name]=e,Zd[f.kebabCase(e.name)]=e)}function bE(){return ot()}const ve=Object.assign(Yn,{renderEmptyElement:bE,setTheme:wf,getTheme:_y,setConfig:Ny,getConfig:Py,setIcon:$y,getIcon:zy,setLanguage:Ky,hasLanguage:Jy,getLanguage:Qy,setI18n:Zy,getI18n:Sx,globalEvents:Gy,GLOBAL_EVENT_KEYS:Bn,createEvent:Vy,globalResize:Xy,renderer:Cl,validators:tE,menus:oE,formats:lE,commands:sE,interceptor:Vi,clipboard:cE,log:eE,permission:uE,globalStore:By,hooks:dE,component:mE,getComponent:vE,useFns:pE,use:gE});wf();function Ct(e){return e&&e.enabled!==!1}function yf(e){return e==null||e===""}function Dx(e){const t=e.name,o=f.lastIndexOf(t,"."),n=t.substring(o+1,t.length).toLowerCase();return{filename:t.substring(0,o),type:n}}function Mx(){return Cf.getNext()}function Tx(){return Cf.getCurrent()}function El(e){return e&&e.children&&e.children.length>0}function Po(e,t){if(e){const o=ve.getConfig().translate;return f.toValueString(o?o(""+e,t):e)}return""}function Cr(e,t){return""+(yf(e)?t?ve.getConfig().emptyCell:"":e)}function _o(e){return e===""||f.eqNull(e)}const Ef="4.13.17";ve.version=Ef;ve.tableVersion=Ef;ve.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},rowGroupConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{enabled:!1,gt:24,preSize:1,oSize:0},virtualYConfig:{enabled:!1,gt:100,preSize:1,oSize:0},scrollbarConfig:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const At="vxe-table-icon-";ve.setIcon({TABLE_SORT_ASC:At+"caret-up",TABLE_SORT_DESC:At+"caret-down",TABLE_FILTER_NONE:At+"funnel",TABLE_FILTER_MATCH:At+"funnel",TABLE_EDIT:At+"edit",TABLE_TITLE_PREFIX:At+"question-circle-fill",TABLE_TITLE_SUFFIX:At+"question-circle-fill",TABLE_TREE_LOADED:At+"spinner roll",TABLE_TREE_OPEN:At+"caret-right rotate90",TABLE_TREE_CLOSE:At+"caret-right",TABLE_EXPAND_LOADED:At+"spinner roll",TABLE_EXPAND_OPEN:At+"arrow-right rotate90",TABLE_EXPAND_CLOSE:At+"arrow-right",TABLE_CHECKBOX_CHECKED:At+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:At+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:At+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:At+"radio-checked-fill",TABLE_RADIO_UNCHECKED:At+"radio-unchecked",TABLE_CUSTOM_SORT:At+"drag-handle",TABLE_MENU_OPTIONS:At+"arrow-right",TABLE_DRAG_ROW:At+"drag-handle",TABLE_DRAG_COLUMN:At+"drag-handle",TABLE_DRAG_STATUS_ROW:At+"sort",TABLE_DRAG_STATUS_SUB_ROW:At+"add-sub",TABLE_DRAG_STATUS_COLUMN:At+"swap",TABLE_DRAG_DISABLED:At+"no-drop",TABLE_ROW_GROUP_OPEN:At+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:At+"arrow-right",TOOLBAR_TOOLS_REFRESH:At+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:At+"repeat roll",TOOLBAR_TOOLS_IMPORT:At+"upload",TOOLBAR_TOOLS_EXPORT:At+"download",TOOLBAR_TOOLS_PRINT:At+"print",TOOLBAR_TOOLS_FULLSCREEN:At+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:At+"minimize",TOOLBAR_TOOLS_CUSTOM:At+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:At+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:At+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:At+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:At+"fixed-right-fill"});const xE=ve.setTheme,CE=ve.getTheme,wE=ve.setConfig,yE=ve.getConfig,EE=ve.setIcon,RE=ve.getIcon,SE=ve.setLanguage,OE=ve.setI18n,DE=ve.getI18n,ME=ve.globalEvents,TE=ve.globalResize,FE=ve.renderer,IE=ve.validators,kE=ve.menus,AE=ve.formats,LE=ve.commands,HE=ve.interceptor,qE=ve.clipboard,_E=ve.log,NE=ve.hooks,PE=ve.use,Fx=e=>ve.setConfig(e);ve.setup=Fx;const Ix=e=>ve.setConfig(e);ve.config=Ix;const kx=(e,t)=>ve.getI18n(e,t);ve.t=kx;const Ax=(e,t)=>Po(e,t);ve._t=Ax;const BE=ve,$E=e=>ve.saveFile(e),zE=e=>ve.readFile(e),WE=e=>ve.print(e),VE={get(e){return ve.modal.get(e)},close(e){return ve.modal.close(e)},open(e){return ve.modal.open(e)},alert(e,t,o){return ve.modal.alert(e,t,o)},confirm(e,t,o){return ve.modal.confirm(e,t,o)},message(e,t){return ve.modal.message(e,t)},notification(e,t,o){return ve.modal.notification(e,t,o)}},{log:Lx}=ve,Hx="table v4.13.17",yt=Lx.create("warn",Hx),Ze=Lx.create("error",Hx),{getI18n:GE,formats:um}=ve;class Jd{constructor(t,o,{renderHeader:n,renderCell:u,renderFooter:c,renderData:d}={}){const v=t.props,m=t.xeGrid,x=o.formatter,i=f.isBoolean(o.visible)?o.visible:!0,s=["seq","checkbox","radio","expand","html"];if(o.type&&s.indexOf(o.type)===-1&&yt("vxe.error.errProp",[`type=${o.type}`,s.join(", ")]),(f.isBoolean(o.cellRender)||o.cellRender&&!f.isObject(o.cellRender))&&yt("vxe.error.errProp",[`column.cell-render=${o.cellRender}`,"column.cell-render={}"]),(f.isBoolean(o.editRender)||o.editRender&&!f.isObject(o.editRender))&&yt("vxe.error.errProp",[`column.edit-render=${o.editRender}`,"column.edit-render={}"]),o.type==="expand"){const{treeConfig:y}=v,{computeTreeOpts:O}=t.getComputeMaps(),S=O.value;y&&(S.showLine||S.line)&&Ze("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(x){if(f.isString(x)){const y=um.get(x)||f[x];(!y||!f.isFunction(y.tableCellFormatMethod||y.cellFormatMethod))&&Ze("vxe.error.notFormats",[x])}else if(f.isArray(x)){const y=um.get(x[0])||f[x[0]];(!y||!f.isFunction(y.tableCellFormatMethod||y.cellFormatMethod))&&Ze("vxe.error.notFormats",[x[0]])}}if(Object.assign(this,{type:o.type,property:o.field,field:o.field,title:o.title,width:o.width,minWidth:o.minWidth,maxWidth:o.maxWidth,resizable:o.resizable,fixed:o.fixed,align:o.align,headerAlign:o.headerAlign,footerAlign:o.footerAlign,showOverflow:o.showOverflow,showHeaderOverflow:o.showHeaderOverflow,showFooterOverflow:o.showFooterOverflow,className:o.className,headerClassName:o.headerClassName,footerClassName:o.footerClassName,formatter:x,footerFormatter:o.footerFormatter,padding:o.padding,verticalAlign:o.verticalAlign,sortable:o.sortable,sortBy:o.sortBy,sortType:o.sortType,filters:zx(o.filters),filterMultiple:f.isBoolean(o.filterMultiple)?o.filterMultiple:!0,filterMethod:o.filterMethod,filterResetMethod:o.filterResetMethod,filterRecoverMethod:o.filterRecoverMethod,filterRender:o.filterRender,rowGroupNode:o.rowGroupNode,treeNode:o.treeNode,dragSort:o.dragSort,rowResize:o.rowResize,cellType:o.cellType,cellRender:o.cellRender,editRender:o.editRender,contentRender:o.contentRender,headerExportMethod:o.headerExportMethod,exportMethod:o.exportMethod,footerExportMethod:o.footerExportMethod,titleHelp:o.titleHelp,titlePrefix:o.titlePrefix,titleSuffix:o.titleSuffix,params:o.params,id:o.colId||f.uniqueId("col_"),parentId:null,visible:i,halfVisible:!1,defaultVisible:i,defaultFixed:o.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||o.renderHeader,renderCell:u||o.renderCell,renderFooter:c||o.renderFooter,renderData:d,slots:o.slots}),m){const{computeProxyOpts:y}=m.getComputeMaps(),O=y.value;O.beforeColumn&&O.beforeColumn({$grid:m,column:this})}}getTitle(){return Po(this.title||(this.type==="seq"?GE("vxe.table.seqTitle"):""))}getKey(){const{type:t}=this;return this.field||(t?`type=${t}`:null)}update(t,o){t!=="filters"&&(t==="field"&&(this.property=o),this[t]=o)}}const Nd={};let Rl;function qx(){return Rl||(Rl=new Image,Rl.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),Rl}function Qd(){return Rl||qx()}function bn(e,t){return e?f.isFunction(e)?e(t):e:""}function _x(e){return Nd[e]||(Nd[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),Nd[e]}function Nx(e,t,o){if(e){const n=e.parentNode;if(o.top+=e.offsetTop,o.left+=e.offsetLeft,n&&n!==document.documentElement&&n!==document.body&&(o.top-=n.scrollTop,o.left-=n.scrollLeft),!(t&&(e===t||e.offsetParent===t))&&e.offsetParent)return Nx(e.offsetParent,t,o)}return o}function ef(e){return e&&/^\d+(px)?$/.test(e)}function wl(e){return e&&/^\d+%$/.test(e)}function No(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(_x(t)))}function Yr(e,t){e&&No(e,t)&&(e.className=e.className.replace(_x(t),""))}function xo(e,t){e&&!No(e,t)&&(Yr(e,t),e.className=`${e.className} ${t}`)}function si(e){return e.ctrlKey||e.metaKey}function ui(e,t="px"){return f.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function ds(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function Ql(e){return e?e.offsetHeight:0}function tf(e){if(e){const t=getComputedStyle(e),o=f.toNumber(t.paddingTop),n=f.toNumber(t.paddingBottom);return o+n}return 0}function zt(e,t){e&&(e.scrollTop=t)}function jt(e,t){e&&(e.scrollLeft=t)}function Rf(e,t){const o=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==o&&e.setAttribute("title",o)}function Nt(e,t,o,n){let u,c=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;c&&c.nodeType&&c!==document;){if(o&&No(c,o)&&(!n||n(c)))u=c;else if(c===t)return{flag:o?!!u:!0,container:t,targetElem:u};c=c.parentNode}return{flag:!1}}function jE(e,t){return Nx(e,t,{left:0,top:0})}function ji(e){const t=e.getBoundingClientRect(),o=t.top,n=t.left,{scrollTop:u,scrollLeft:c,visibleHeight:d,visibleWidth:v}=ds();return{boundingTop:o,top:u+o,boundingLeft:n,left:c+n,visibleHeight:d,visibleWidth:v}}const dm="scrollIntoViewIfNeeded",fm="scrollIntoView";function UE(e){e&&(e[dm]?e[dm]():e[fm]&&e[fm]())}function YE(e,t){e&&e.dispatchEvent(new Event(t))}const Px=(e,t)=>{const o=[];return e.forEach(n=>{n.parentId=t?t.id:null,n.visible&&(n.children&&n.children.length&&n.children.some(u=>u.visible)?(o.push(n),o.push(...Px(n.children,n))):o.push(n))}),o},XE=e=>{let t=1;const o=(c,d)=>{if(d&&(c.level=d.level+1,t<c.level&&(t=c.level)),c.children&&c.children.length&&c.children.some(v=>v.visible)){let v=0;c.children.forEach(m=>{m.visible&&(o(m,c),v+=m.colSpan)}),c.colSpan=v}else c.colSpan=1};e.forEach(c=>{c.level=1,o(c)});const n=[];for(let c=0;c<t;c++)n.push([]);return Px(e).forEach(c=>{c.children&&c.children.length&&c.children.some(d=>d.visible)?c.rowSpan=1:c.rowSpan=t-c.level+1,n[c.level-1].push(c)}),n};function Pd(e,t,o){const n=e.internalData;return t||o?(n.intoRunScroll=!1,n.inVirtualScroll=!1,n.inWheelScroll=!1,n.inHeaderScroll=!1,n.inBodyScroll=!1,n.inFooterScroll=!1,n.scrollRenderType="",e.scrollTo(t,o)):ge()}function ai(){return f.uniqueId("row_")}function Ao(e){const{props:t}=e,{computeRowOpts:o}=e.getComputeMaps(),n=o.value;return`${t.rowId||n.keyField||"_X_ROW_KEY"}`}function qe(e,t){const o=f.get(t,Ao(e));return KE(o)}function hm(e){const t=Ao(e),n=t.indexOf(".")>-1?ZE:JE;return{rowKey:t,handleUpdateRowId(u){return u?n(u,t):null}}}function pr(e){const t=Ao(e),n=t.indexOf(".")>-1?Bx:$x;return{rowKey:t,handleGetRowId(u){return u?n(u,t):null}}}function KE(e){return f.eqNull(e)?"":encodeURIComponent(e)}function Bx(e,t){return f.get(e,t)}function ZE(e,t){let o=Bx(e,t);return _o(o)&&(o=ai(),f.set(e,t,o)),o}function $x(e,t){return e[t]}function JE(e,t){let o=$x(e,t);return _o(o)&&(o=ai(),e[t]=o),o}const hr=(e,t)=>t?f.isString(t)||f.isNumber(t)?e.getColumnByField(`${t}`):t:null,pm=(e,t)=>{if(t){const o=f.isString(t)||f.isNumber(t)?t:qe(e,t);return e.getRowById(o)}return null};function ki(e){if(e){const t=getComputedStyle(e),o=f.toNumber(t.paddingLeft),n=f.toNumber(t.paddingRight);return o+n}return 0}function fl(e){if(e){const t=getComputedStyle(e),o=f.toNumber(t.marginLeft),n=f.toNumber(t.marginRight);return e.offsetWidth+o+n}return 0}function Uo(e,t){return e.querySelector(".vxe-cell"+t)}function zx(e){return e&&f.isArray(e)?e.map(({label:t,value:o,data:n,resetValue:u,checked:c})=>({label:t,value:o,data:n,resetValue:u,checked:!!c,_checked:!!c})):e}function gm(e){return e.map((t,o)=>o%2===0?Number(t)+1:".").join("")}function br(e,t){return f.get(e,t.field)}function Ho(e,t,o){return f.set(e,t.field,o)}function rt(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function Xi(e){return e==="unset"?0:e||0}function vm(e){const{$table:t,column:o,cell:n}=e,u=t.props,c=t.internalData,{computeResizableOpts:d}=t.getComputeMaps(),v=d.value,{minWidth:m}=v;if(m){const te=f.isFunction(m)?m(e):m;if(te!=="auto")return Math.max(1,f.toNumber(te))}const{elemStore:x}=c,{showHeaderOverflow:i}=u,{showHeaderOverflow:s,minWidth:y}=o,O=f.isUndefined(s)||f.isNull(s)?i:s,A=O==="title"||(O===!0||O==="tooltip")||O==="ellipsis",_=f.floor((f.toNumber(getComputedStyle(n).fontSize)||14)*1.6),W=ki(n)+ki(Uo(n,""));let U=_+W;if(A){const te=ki(Uo(n,">.vxe-cell--drag-handle")),Y=ki(Uo(n,">.vxe-cell--checkbox")),D=fl(Uo(n,">.vxe-cell--required-icon")),F=fl(Uo(n,">.vxe-cell--edit-icon")),H=fl(Uo(n,">.vxe-cell-title-prefix-icon")),j=fl(Uo(n,">.vxe-cell-title-suffix-icon")),K=fl(Uo(n,">.vxe-cell--sort")),k=fl(Uo(n,">.vxe-cell--filter"));U+=te+Y+D+F+H+j+k+K}if(y){const te=rt(x["main-body-scroll"]);if(te){if(wl(y)){const D=(te.clientWidth-1)/100;return Math.max(U,Math.floor(f.toInteger(y)*D))}else if(ef(y))return Math.max(U,f.toInteger(y))}}return U}function Ui(e){return e&&(e.constructor===Jd||e instanceof Jd)}function QE(e,t,o){return Ui(t)?t:Co(new Jd(e,t,o))}function Wx(e,t,o){Object.keys(t).forEach(n=>{Mt(()=>t[n],u=>{o.update(n,u),e&&(n==="filters"?(e.setFilter(o,u),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(n)&&e.handleRefreshColumnQueue())})})}function Vx(e,t,o,n){const{reactData:u}=e,{staticColumns:c}=u,d=t.parentNode,v=n?n.columnConfig:null,m=v?v.children:c;d&&m&&(m.splice(f.arrayIndexOf(d.children,t),0,o),u.staticColumns=c.slice(0))}function Gx(e,t){const{reactData:o}=e,{staticColumns:n}=o,u=f.findTree(n,c=>c.id===t.id,{children:"children"});u&&u.items.splice(u.index,1),o.staticColumns=n.slice(0)}function mm(e,t){const{internalData:o}=e,{fullColumnIdData:n}=o;if(!t)return null;let u=t.parentId;for(;n[u];){const c=n[u].column;if(u=c.parentId,!u)return c}return t}const eR={mini:3,small:2,medium:1,large:0},jx=(e,t)=>{let o=1;if(!e)return o;const{$table:n}=t,{computeTreeOpts:u}=n.getComputeMaps(),c=u.value,{transform:d,mapChildrenField:v}=c,m=c.children||c.childrenField,x=e[d?v:m];if(x&&n.isTreeExpandByRow(e))for(let i=0;i<x.length;i++)o+=jx(x[i],t);return o},Ux=e=>{const{computeSize:t}=e.getComputeMaps(),o=t.value;return o&&eR[o]||0};function tR(e,t){const{$table:o,row:n}=e,u=o.props,c=o.reactData,d=o.internalData,{showOverflow:v}=u,{scrollYLoad:m}=c,{fullAllDataRowIdData:x}=d,{computeRowOpts:i,computeCellOpts:s,computeDefaultRowHeight:y}=o.getComputeMaps(),O=i.value,S=s.value,T=y.value,q=qe(o,n),A=x[q],_=A.resizeHeight||S.height||O.height||A.height||T;let W=1;t&&(W=jx(t,e));let U=_;const te=A.height;return m&&(v||(U=te||_)),U*W-(t?1:12-Ux(o))}function rR(e){const{props:t,internalData:o}=e;return o.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function oR(e){return e.clearFilter&&e.clearFilter(),rR(e)}function bm(e,t){const o=e.props,n=e.reactData,u=e.internalData,{computeLeftFixedWidth:c,computeRightFixedWidth:d,computeRowOpts:v,computeCellOpts:m,computeDefaultRowHeight:x}=e.getComputeMaps(),{showOverflow:i}=o,{scrollYLoad:s}=n,{elemStore:y,afterFullData:O,fullAllDataRowIdData:S,isResizeCellHeight:T}=u,q=v.value,A=m.value,_=x.value,W=c.value,U=d.value,te=rt(y["main-body-scroll"]),Y=qe(e,t);if(te){const D=te.clientHeight,F=te.scrollTop,H=te.querySelector(`[rowid="${Y}"]`);if(H){const j=H.offsetParent,K=H.offsetTop+(j?j.offsetTop:0),k=H.clientHeight;if(K<F||K>F+D)return e.scrollTo(null,K);if(K+k>=D+F)return e.scrollTo(null,F+k)}else if(s){if(!(T||A.height||q.height)&&i)return e.scrollTo(null,(e.findRowIndexOf(O,t)-1)*_);let K=0;const k=S[Y]||{},X=k.resizeHeight||A.height||q.height||k.height||_;for(let J=0;J<O.length;J++){const Ce=O[J],xe=qe(e,Ce);if(Ce===t||xe===Y)break;const ue=S[xe]||{};K+=ue.resizeHeight||A.height||q.height||ue.height||_}return K<F?e.scrollTo(null,K-W-1):e.scrollTo(null,K+X-(D-U-1))}}return Promise.resolve()}function xm(e,t,o){const n=e.reactData,u=e.internalData,{computeLeftFixedWidth:c,computeRightFixedWidth:d}=e.getComputeMaps(),{scrollXLoad:v}=n,{elemStore:m,visibleColumn:x}=u,i=c.value,s=d.value,y=rt(m["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(y){const O=y.clientWidth,S=y.scrollLeft;let T=null;if(o){const q=qe(e,o);T=y.querySelector(`[rowid="${q}"] .${t.id}`)}if(T||(T=y.querySelector(`.${t.id}`)),T){const q=T.offsetParent,A=T.offsetLeft+(q?q.offsetLeft:0),_=T.clientWidth;if(A<S+i)return e.scrollTo(A-i-1);if(A+_-S>O-s)return e.scrollTo(A+_-(O-s-1))}else if(v){let q=0;const A=t.renderWidth;for(let _=0;_<x.length;_++){const W=x[_];if(W===t||W.id===t.id)break;q+=W.renderWidth}return q<S?e.scrollTo(q-i-1):e.scrollTo(q+A-(O-s-1))}}return Promise.resolve()}function xn(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Yx(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function Xx(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Ar(e){return e==null?[]:f.isArray(e)?e:[e]}const{getI18n:ei,getIcon:rr,renderer:li,formats:Cm,renderEmptyElement:Wn}=ve;function nR(e){const{$table:t,column:o}=e,n=o.titlePrefix||o.titleHelp;return n?C("i",{class:["vxe-cell-title-prefix-icon",n.iconStatus?`theme--${n.iconStatus}`:"",n.icon||rr().TABLE_TITLE_PREFIX],onMouseenter(u){t.triggerHeaderTitleEvent(u,n,e)},onMouseleave(u){t.handleTargetLeaveEvent(u)}}):Wn(t)}function lR(e){const{$table:t,column:o}=e,n=o.titleSuffix;return n?C("i",{class:["vxe-cell-title-suffix-icon",n.iconStatus?`theme--${n.iconStatus}`:"",n.icon||rr().TABLE_TITLE_SUFFIX],onMouseenter(u){t.triggerHeaderTitleEvent(u,n,e)},onMouseleave(u){t.handleTargetLeaveEvent(u)}}):Wn(t)}function wm(e){const{$table:t,column:o}=e,{context:n}=t,u=n.slots,c=t.props,{slots:d}=o,{dragConfig:v}=c,{computeRowDragOpts:m}=t.getComputeMaps(),x=m.value,{icon:i,trigger:s,disabledMethod:y}=x,O=y||(v?v.rowDisabledMethod:null),S=O&&O(e),T=(d?d.rowDragIcon||d["row-drag-icon"]:null)||u.rowDragIcon||u["row-drag-icon"],q={};return s!=="cell"&&(q.onMousedown=A=>{S||t.handleCellDragMousedownEvent(A,e)},q.onMouseup=t.handleCellDragMouseupEvent),C("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":S}]},q),T?t.callSlot(T,e):[C("i",{class:i||(v?v.rowIcon:"")||rr().TABLE_DRAG_ROW})])}function Mr(e,t){const{$table:o,column:n,level:u}=e,{dragSort:c}=n,d=o.props,{treeConfig:v,dragConfig:m}=d,{computeRowOpts:x,computeRowDragOpts:i,computeTreeOpts:s}=o.getComputeMaps(),y=x.value,O=i.value,S=s.value,{showIcon:T,isPeerDrag:q,isCrossDrag:A,visibleMethod:_}=O,W=_||(m?m.rowVisibleMethod:null),U=[];return c&&y.drag&&(T||m&&m.showRowIcon)&&(!W||W(e))&&(v?S.transform&&(q||A||!u)&&U.push(wm(e)):U.push(wm(e))),U.concat(f.isArray(t)?t:[t])}function iR(e){const{$table:t,column:o}=e,{context:n}=t,u=n.slots,{slots:c}=o,{computeColumnOpts:d,computeColumnDragOpts:v}=t.getComputeMaps(),m=d.value,x=v.value,{showIcon:i,icon:s,trigger:y,isPeerDrag:O,isCrossDrag:S,visibleMethod:T,disabledMethod:q}=x;if(m.drag&&i&&(!T||T(e))&&!o.fixed&&(O||S||!o.parentId)){const A=q&&q(e),_=(c?c.columnDragIcon||c["column-drag-icon"]:null)||u.columnDragIcon||u["column-drag-icon"],W={};return y!=="cell"&&(W.onMousedown=U=>{A||t.handleHeaderCellDragMousedownEvent(U,e)},W.onMouseup=t.handleHeaderCellDragMouseupEvent),C("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":A}]},W),_?t.callSlot(_,e):[C("i",{class:s||rr().TABLE_DRAG_COLUMN})])}return Wn(t)}function To(e,t){return[nR(e),iR(e),...f.isArray(t)?t:[t],lR(e)]}function vn(e,t){const{$table:o,column:n}=e,u=o.props,c=o.reactData,{computeTooltipOpts:d}=o.getComputeMaps(),{showHeaderOverflow:v}=u,{type:m,showHeaderOverflow:x}=n,s=d.value.showAll,y=f.isUndefined(x)||f.isNull(x)?v:x,O=y==="title",S=y===!0||y==="tooltip",T={};return(O||S||s)&&(T.onMouseenter=q=>{c.isDragResize||(O?Rf(q.currentTarget,n):(S||s)&&o.triggerHeaderTooltipEvent(q,e))}),(S||s)&&(T.onMouseleave=q=>{c.isDragResize||(S||s)&&o.handleTargetLeaveEvent(q)}),[m==="html"&&f.isString(t)?C("span",Object.assign({class:"vxe-cell--title",innerHTML:t},T)):C("span",Object.assign({class:"vxe-cell--title"},T),Ar(t))]}function sR(e){const{$table:t,column:o,_columnIndex:n,items:u,row:c}=e,{slots:d,editRender:v,cellRender:m,footerFormatter:x}=o,i=v||m,s=d?d.footer:null;if(s)return t.callSlot(s,e);let y="";f.isArray(u)?y=u[n]:y=f.get(c,o.field);const O=Object.assign(e,{itemValue:y});if(x){if(f.isFunction(x))return[C("span",{class:"vxe-cell--label"},`${x(O)}`)];const S=f.isArray(x),T=S?Cm.get(x[0]):Cm.get(x),q=T?T.tableFooterCellFormatMethod:null;return q?[C("span",{class:"vxe-cell--label"},`${S?q(O,...x.slice(1)):q(O)}`)]:[C("span",{class:"vxe-cell--label"},"")]}if(i){const S=li.get(i.name);if(S){const T=S.renderTableFooter||S.renderFooter;if(T)return Ar(T(i,O))}}return[C("span",{class:"vxe-cell--label"},Cr(y,1))]}function ym(e){const{$table:t,row:o,column:n}=e;return Cr(t.getCellLabel(o,n),1)}function aR(e){const{column:t,$table:o}=e,n=o.props,{editConfig:u}=n,{type:c,treeNode:d,rowGroupNode:v,editRender:m}=t,{computeEditOpts:x,computeCheckboxOpts:i}=o.getComputeMaps(),s=i.value,y=x.value,O=d||v;switch(c){case"seq":return O?pt.renderDeepIndexCell(e):pt.renderSeqCell(e);case"radio":return O?pt.renderDeepRadioCell(e):pt.renderRadioCell(e);case"checkbox":return s.checkField?O?pt.renderDeepSelectionCellByProp(e):pt.renderCheckboxCellByProp(e):O?pt.renderDeepSelectionCell(e):pt.renderCheckboxCell(e);case"expand":return pt.renderExpandCell(e);case"html":return O?pt.renderDeepHTMLCell(e):pt.renderHTMLCell(e)}return Ct(u)&&m?y.mode==="cell"?O?pt.renderDeepCellEdit(e):pt.renderCellEdit(e):O?pt.renderDeepRowEdit(e):pt.renderRowEdit(e):O?pt.renderDeepCell(e):pt.renderDefaultCell(e)}function cR(e){const{column:t,$table:o}=e,n=o.props,{editConfig:u}=n,{type:c,filters:d,sortable:v,editRender:m}=t;switch(c){case"seq":return pt.renderSeqHeader(e);case"radio":return pt.renderRadioHeader(e);case"checkbox":return pt.renderCheckboxHeader(e);case"html":if(d&&v)return pt.renderSortAndFilterHeader(e);if(v)return pt.renderSortHeader(e);if(d)return pt.renderFilterHeader(e);break}return u&&m?pt.renderEditHeader(e):d&&v?pt.renderSortAndFilterHeader(e):v?pt.renderSortHeader(e):d?pt.renderFilterHeader(e):pt.renderDefaultHeader(e)}function uR(e){return pt.renderDefaultFooter(e)}const pt={createColumn(e,t){const{type:o}=t,n={renderHeader:cR,renderCell:aR,renderFooter:uR};return o==="expand"&&(n.renderData=pt.renderExpandData),QE(e,t,n)},renderHeaderTitle(e){const{$table:t,column:o}=e,{slots:n,editRender:u,cellRender:c}=o,d=u||c,v=n?n.header:null;if(v)return vn(e,t.callSlot(v,e));if(d){const m=li.get(d.name);if(m){const x=m.renderTableHeader||m.renderHeader;if(x)return vn(e,Ar(x(d,e)))}}return vn(e,Cr(o.getTitle(),1))},renderDefaultHeader(e){return To(e,pt.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:o,column:n}=e,u=t.reactData,c=t.internalData,{isRowGroupStatus:d}=u,{slots:v,editRender:m,cellRender:x,rowGroupNode:i}=n,s=m||x,y=v?v.default:null;if(y)return Mr(e,t.callSlot(y,e));if(s){const T=li.get(s.name);if(T){const q=T.renderTableCell||T.renderCell,A=T.renderTableDefault||T.renderDefault,_=m?q:A;if(_)return Mr(e,Ar(_(s,Object.assign({$type:m?"edit":"cell"},e))))}}let O="";if(d&&i&&o.isAggregate){const{fullColumnFieldData:T}=c,{computeRowGroupOpts:q}=t.getComputeMaps(),A=q.value,{showTotal:_,totalMethod:W,contentMethod:U,mapChildrenField:te}=A,Y=o.groupField;O=o.groupContent;const D=te?o[te]||[]:[],F=D.length,H=T[Y]||{},j={$table:t,groupField:Y,groupColumn:H?H.column:null,column:n,groupValue:O,children:D,totalValue:F};U&&(O=`${U(j)}`),_&&(O=ei("vxe.table.rowGroupContentTotal",[O,W?W(j):F,F]))}else d&&o.isAggregate||(O=t.getCellLabel(o,n));const S=m?m.placeholder:"";return Mr(e,[C("span",{class:"vxe-cell--label"},[m&&_o(O)?C("span",{class:"vxe-cell--placeholder"},Cr(Po(S),1)):C("span",Cr(O,1))])])},renderDeepCell(e){return pt.renderDeepNodeBtn(e,pt.renderDefaultCell(e))},renderDefaultFooter(e){return sR(e)},renderRowGroupBtn(e,t){const{$table:o}=e,n=o.reactData,u=o.internalData,{row:c,level:d}=e,{computeRowGroupOpts:v}=o.getComputeMaps(),{rowGroupExpandedFlag:m}=n,{rowGroupExpandedMaps:x}=u,i=v.value,{padding:s,indent:y}=i,O=qe(o,c),S=!!m&&!!x[O];return C("div",{class:["vxe-row-group--tree-node",{"is--expanded":S}],style:s&&y?{paddingLeft:`${d*y}px`}:void 0},[C("span",{class:"vxe-row-group--node-btn",onClick(T){o.triggerRowGroupExpandEvent(T,e)}},[C("i",{class:S?rr().TABLE_ROW_GROUP_OPEN:rr().TABLE_ROW_GROUP_CLOSE})]),C("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:o,isHidden:n}=e,u=o.reactData,c=o.internalData,{row:d,column:v,level:m}=e,{slots:x}=v,i=x?x.icon:null;if(i)return o.callSlot(i,e);const{computeTreeOpts:s}=o.getComputeMaps(),{treeExpandedFlag:y}=u,{fullAllDataRowIdData:O,treeExpandedMaps:S,treeExpandLazyLoadedMaps:T}=c,q=s.value,{padding:A,indent:_,lazy:W,trigger:U,iconLoaded:te,showIcon:Y,iconOpen:D,iconClose:F}=q,H=q.children||q.childrenField,j=q.hasChild||q.hasChildField,K=d[H],k=K&&K.length;let X=!1,J=!1,Ce=!1,xe=!1;const ue={};if(!n){const pe=qe(o,d);if(J=!!y&&!!S[pe],W){const Se=O[pe];Ce=!!T[pe],X=d[j],xe=!!Se.treeLoaded}}return(!U||U==="default")&&(ue.onClick=pe=>{o.triggerTreeExpandEvent(pe,e)}),C("div",{class:["vxe-cell--tree-node",{"is--active":J}],style:A&&_?{paddingLeft:`${m*_}px`}:void 0},[Y&&(W?xe?k:k||X:k)?[C("div",Object.assign({class:"vxe-cell--tree-btn"},ue),[C("i",{class:Ce?te||rr().TABLE_TREE_LOADED:J?D||rr().TABLE_TREE_OPEN:F||rr().TABLE_TREE_CLOSE})])]:null,C("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{row:o,column:n}=e,{rowGroupNode:u}=n;return u&&o.isAggregate?[pt.renderRowGroupBtn(e,t)]:[pt.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:o}=e,{slots:n}=o,u=n?n.header:null;return To(e,vn(e,u?t.callSlot(u,e):Cr(o.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:o}=e,n=t.props,{treeConfig:u}=n,{computeSeqOpts:c}=t.getComputeMaps(),d=c.value,{slots:v}=o,m=v?v.default:null;if(m)return Mr(e,t.callSlot(m,e));const{seq:x}=e,i=d.seqMethod;return Mr(e,[C("span",`${Cr(i?i(e):u?x:(d.startIndex||0)+x,1)}`)])},renderDeepIndexCell(e){return pt.renderDeepNodeBtn(e,pt.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:o}=e,{slots:n}=o,u=n?n.header:null,c=n?n.title:null;return To(e,vn(e,u?t.callSlot(u,e):[C("span",{class:"vxe-radio--label"},c?t.callSlot(c,e):Cr(o.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:o,isHidden:n}=e,u=t.reactData,{computeRadioOpts:c}=t.getComputeMaps(),{selectRadioRow:d}=u,v=c.value,{slots:m}=o,{labelField:x,checkMethod:i,visibleMethod:s}=v,{row:y}=e,O=m?m.default:null,S=m?m.radio:null,T=t.eqRow(y,d),q=!s||s({$table:t,row:y});let A=!!i,_;n||(_={onClick(te){!A&&q&&t.triggerRadioRowEvent(te,e)}},i&&(A=!i({$table:t,row:y})));const W=Object.assign(Object.assign({},e),{checked:T,disabled:A,visible:q});if(S)return Mr(e,t.callSlot(S,W));const U=[];return q&&U.push(C("span",{class:["vxe-radio--icon",T?rr().TABLE_RADIO_CHECKED:rr().TABLE_RADIO_UNCHECKED]})),(O||x)&&U.push(C("span",{class:"vxe-radio--label"},O?t.callSlot(O,W):f.get(y,x))),Mr(e,[C("span",Object.assign({class:["vxe-cell--radio",{"is--checked":T,"is--disabled":A}]},_),U)])},renderDeepRadioCell(e){return pt.renderDeepNodeBtn(e,pt.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:o,isHidden:n}=e,u=t.reactData,{computeIsAllCheckboxDisabled:c,computeCheckboxOpts:d}=t.getComputeMaps(),{isAllSelected:v,isIndeterminate:m}=u,x=c.value,{slots:i}=o,s=i?i.header:null,y=i?i.title:null,O=d.value,{checkStrictly:S,showHeader:T,headerTitle:q}=O,A=o.getTitle(),_={};n||(_.onClick=U=>{x||t.triggerCheckAllEvent(U,!v)});const W=Object.assign(Object.assign({},e),{checked:v,disabled:x,indeterminate:m});return s?To(e,vn(W,t.callSlot(s,W))):(S?!T:T===!1)?To(e,vn(W,[C("span",{class:"vxe-checkbox--label"},y?t.callSlot(y,W):A)])):To(e,vn(W,[C("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":v,"is--disabled":x,"is--indeterminate":m}],title:f.eqNull(q)?ei("vxe.table.allTitle"):`${q||""}`},_),[C("span",{class:["vxe-checkbox--icon",m?rr().TABLE_CHECKBOX_INDETERMINATE:v?rr().TABLE_CHECKBOX_CHECKED:rr().TABLE_CHECKBOX_UNCHECKED]})].concat(y||A?[C("span",{class:"vxe-checkbox--label"},y?t.callSlot(y,W):A)]:[]))]))},renderCheckboxCell(e){const{$table:t,row:o,column:n,isHidden:u}=e,c=t.props,d=t.reactData,v=t.internalData,{treeConfig:m}=c,{updateCheckboxFlag:x,isRowGroupStatus:i}=d,{selectCheckboxMaps:s,treeIndeterminateRowMaps:y}=v,{computeCheckboxOpts:O}=t.getComputeMaps(),S=O.value,{labelField:T,checkMethod:q,visibleMethod:A}=S,{slots:_}=n,W=_?_.default:null,U=_?_.checkbox:null;let te=!1,Y=!1;const D=!A||A({$table:t,row:o});let F=!!q;const H={};if(!u){const k=qe(t,o);Y=!!x&&!!s[k],H.onClick=X=>{!F&&D&&t.triggerCheckRowEvent(X,e,!Y)},q&&(F=!q({$table:t,row:o})),(m||i)&&(te=!!y[k])}const j=Object.assign(Object.assign({},e),{checked:Y,disabled:F,visible:D,indeterminate:te});if(U)return Mr(e,t.callSlot(U,j));const K=[];return D&&K.push(C("span",{class:["vxe-checkbox--icon",te?rr().TABLE_CHECKBOX_INDETERMINATE:Y?rr().TABLE_CHECKBOX_CHECKED:rr().TABLE_CHECKBOX_UNCHECKED]})),(W||T)&&K.push(C("span",{class:"vxe-checkbox--label"},W?t.callSlot(W,j):f.get(o,T))),Mr(e,[C("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":Y,"is--disabled":F,"is--indeterminate":te,"is--hidden":!D}]},H),K)])},renderDeepSelectionCell(e){return pt.renderDeepNodeBtn(e,pt.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:o,column:n,isHidden:u}=e,c=t.props,d=t.reactData,v=t.internalData,{treeConfig:m}=c,{updateCheckboxFlag:x,isRowGroupStatus:i}=d,{treeIndeterminateRowMaps:s}=v,{computeCheckboxOpts:y}=t.getComputeMaps(),O=y.value,{labelField:S,checkField:T,checkMethod:q,visibleMethod:A}=O,_=O.indeterminateField||O.halfField,{slots:W}=n,U=W?W.default:null,te=W?W.checkbox:null;let Y=!1,D=!1;const F=!A||A({$table:t,row:o});let H=!!q;const j={};if(!u){const X=qe(t,o);D=!!x&&f.get(o,T),j.onClick=J=>{!H&&F&&t.triggerCheckRowEvent(J,e,!D)},q&&(H=!q({$table:t,row:o})),(m||i)&&(Y=!!s[X])}const K=Object.assign(Object.assign({},e),{checked:D,disabled:H,visible:F,indeterminate:Y});if(te)return Mr(e,t.callSlot(te,K));const k=[];return F&&(k.push(C("span",{class:["vxe-checkbox--icon",Y?rr().TABLE_CHECKBOX_INDETERMINATE:D?rr().TABLE_CHECKBOX_CHECKED:rr().TABLE_CHECKBOX_UNCHECKED]})),(U||S)&&k.push(C("span",{class:"vxe-checkbox--label"},U?t.callSlot(U,K):f.get(o,S)))),Mr(e,[C("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":D,"is--disabled":H,"is--indeterminate":_&&!D?o[_]:Y,"is--hidden":!F}]},j),k)])},renderDeepSelectionCellByProp(e){return pt.renderDeepNodeBtn(e,pt.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:o,row:n,column:u}=e,c=t.reactData,d=t.internalData,{isRowGroupStatus:v}=c,{rowExpandedMaps:m,rowExpandLazyLoadedMaps:x}=d,{computeExpandOpts:i}=t.getComputeMaps(),s=i.value,{lazy:y,labelField:O,iconLoaded:S,showIcon:T,iconOpen:q,iconClose:A,visibleMethod:_}=s,{slots:W}=u,U=W?W.default:null,te=W?W.icon:null;let Y=!1,D=!1;if(v&&n.isAggregate)return Mr(e,[]);if(te)return Mr(e,t.callSlot(te,e));if(!o){const F=qe(t,n);Y=!!m[F],y&&(D=!!x[F])}return Mr(e,[T&&(!_||_(e))?C("span",{class:["vxe-table--expanded",{"is--active":Y}],onMousedown(F){F.stopPropagation()},onClick(F){t.triggerRowExpandEvent(F,e)}},[C("i",{class:["vxe-table--expand-btn",D?S||rr().TABLE_EXPAND_LOADED:Y?q||rr().TABLE_EXPAND_OPEN:A||rr().TABLE_EXPAND_CLOSE]})]):Wn(t),U||O?C("span",{class:"vxe-table--expand-label"},U?t.callSlot(U,e):f.get(n,O)):Wn(t)])},renderExpandData(e){const{$table:t,column:o}=e,{slots:n,contentRender:u}=o,c=n?n.content:null;if(c)return t.callSlot(c,e);if(u){const d=li.get(u.name);if(d){const v=d.renderTableExpand||d.renderExpand;if(v)return Ar(v(u,e))}}return[]},renderHTMLCell(e){const{$table:t,column:o}=e,{slots:n}=o,u=n?n.default:null;return u?Mr(e,t.callSlot(u,e)):Mr(e,[C("span",{class:"vxe-cell--html",innerHTML:ym(e)})])},renderDeepHTMLCell(e){return pt.renderDeepNodeBtn(e,pt.renderHTMLCell(e))},renderSortAndFilterHeader(e){return To(e,pt.renderHeaderTitle(e).concat(pt.renderSortIcon(e).concat(pt.renderFilterIcon(e))))},renderSortHeader(e){return To(e,pt.renderHeaderTitle(e).concat(pt.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:o}=e,{computeSortOpts:n}=t.getComputeMaps(),u=n.value,{showIcon:c,allowBtn:d,ascTitle:v,descTitle:m,iconLayout:x,iconAsc:i,iconDesc:s,iconVisibleMethod:y}=u,{order:O}=o;return c&&(!y||y(e))?[C("span",{class:["vxe-cell--sort",`vxe-cell--sort-${x}-layout`]},[C("i",{class:["vxe-sort--asc-btn",i||rr().TABLE_SORT_ASC,{"sort--active":O==="asc"}],title:f.eqNull(v)?ei("vxe.table.sortAsc"):`${v||""}`,onClick:d?S=>{S.stopPropagation(),t.triggerSortEvent(S,o,"asc")}:void 0}),C("i",{class:["vxe-sort--desc-btn",s||rr().TABLE_SORT_DESC,{"sort--active":O==="desc"}],title:f.eqNull(m)?ei("vxe.table.sortDesc"):`${m||""}`,onClick:d?S=>{S.stopPropagation(),t.triggerSortEvent(S,o,"desc")}:void 0})])]:[]},renderFilterHeader(e){return To(e,pt.renderHeaderTitle(e).concat(pt.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:o,hasFilter:n}=e,u=t.reactData,{filterStore:c}=u,{computeFilterOpts:d}=t.getComputeMaps(),v=d.value,{showIcon:m,iconNone:x,iconMatch:i,iconVisibleMethod:s}=v;return m&&(!s||s(e))?[C("span",{class:["vxe-cell--filter",{"is--active":c.visible&&c.column===o}],onClick(y){t.triggerFilterEvent&&t.triggerFilterEvent(y,e.column,e)}},[C("i",{class:["vxe-filter--btn",n?i||rr().TABLE_FILTER_MATCH:x||rr().TABLE_FILTER_NONE],title:ei("vxe.table.filter")})])]:[]},renderEditHeader(e){const{$table:t,column:o}=e,n=t.props,{computeEditOpts:u}=t.getComputeMaps(),{editConfig:c,editRules:d}=n,v=u.value,{sortable:m,filters:x,editRender:i}=o;let s=!1;if(d){const O=f.get(d,o.field);O&&(s=O.some(S=>S.required))}let y=[];return Ct(c)&&(y=[s&&v.showAsterisk?C("i",{class:"vxe-cell--required-icon"}):Wn(t),Ct(i)&&v.showIcon?C("i",{class:["vxe-cell--edit-icon",v.icon||rr().TABLE_EDIT]}):Wn(t)]),To(e,y.concat(pt.renderHeaderTitle(e)).concat(m?pt.renderSortIcon(e):[]).concat(x?pt.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:o}=e,n=t.reactData,{editStore:u}=n,{actived:c}=u,{editRender:d}=o;return pt.runRenderer(e,Ct(d)&&c&&c.row===e.row)},renderDeepRowEdit(e){return pt.renderDeepNodeBtn(e,pt.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:o}=e,n=t.reactData,{editStore:u}=n,{actived:c}=u,{editRender:d}=o;return pt.runRenderer(e,Ct(d)&&c&&c.row===e.row&&c.column===e.column)},renderDeepCellEdit(e){return pt.renderDeepNodeBtn(e,pt.renderCellEdit(e))},runRenderer(e,t){const{$table:o,column:n}=e,{slots:u,editRender:c,formatter:d}=n,v=u?u.default:null,m=u?u.edit:null,x=li.get(c.name),i=x?x.renderTableEdit||x.renderEdit:null,s=Object.assign({$type:"",isEdit:t},e);return t?(s.$type="edit",m?o.callSlot(m,s):i?Ar(i(c,s)):[]):v?Mr(e,o.callSlot(v,s)):d?Mr(e,[C("span",{class:"vxe-cell--label"},ym(s))]):pt.renderDefaultCell(s)}},Kx={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},Cn=lo({name:"VxeColumn",props:Kx,setup(e,{slots:t}){const o=ze(),n=Lr("$xeTable",null),u=Lr("$xeColgroup",null);if(!n)return()=>ot();const c=pt.createColumn(n,e);c.slots=t;const d=()=>C("div",{ref:o}),v={columnConfig:c,renderVN:d};return Wx(n,e,c),jn(()=>{const m=o.value;m&&Vx(n,m,c,u)}),Un(()=>{Gx(n,c)}),yn("$xeColumn",v),yn("$xeGrid",null),d}}),Sf=Object.assign({},Cn,{install(e){e.component(Cn.name,Cn),e.component("VxeTableColumn",Cn)}});ve.dynamicApp&&(ve.dynamicApp.component(Cn.name,Cn),ve.dynamicApp.component("VxeTableColumn",Cn));ve.component(Cn);const dR=Sf,wn=lo({name:"VxeColgroup",props:Kx,setup(e,{slots:t}){const o=ze(),n=Lr("$xeTable",null),u=Lr("$xeColgroup",null);if(!n)return()=>ot();const c=pt.createColumn(n,e),d={};t.header&&(d.header=t.header),c.slots=d,c.children=[],Wx(n,e,c),jn(()=>{const x=o.value;x&&Vx(n,x,c,u)}),Un(()=>{Gx(n,c)});const v=()=>C("div",{ref:o},t.default?t.default():[]);return yn("$xeColgroup",{columnConfig:c}),yn("$xeGrid",null),v}}),Of=Object.assign({},wn,{install(e){e.component(wn.name,wn),e.component("VxeTableColgroup",wn)}});ve.dynamicApp&&(ve.dynamicApp.component(wn.name,wn),ve.dynamicApp.component("VxeTableColgroup",wn));ve.component(wn);const fR=Of,{getI18n:hR,renderer:Em,renderEmptyElement:Bd}=ve,Ai="body",Rm=lo({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=Lr("$xeTable",{}),{xID:o,props:n,context:u,reactData:c,internalData:d}=t,{computeEditOpts:v,computeMouseOpts:m,computeCellOffsetWidth:x,computeAreaOpts:i,computeDefaultRowHeight:s,computeEmptyOpts:y,computeTooltipOpts:O,computeRadioOpts:S,computeExpandOpts:T,computeTreeOpts:q,computeCheckboxOpts:A,computeCellOpts:_,computeValidOpts:W,computeRowOpts:U,computeColumnOpts:te,computeRowDragOpts:Y,computeColumnDragOpts:D,computeResizableOpts:F,computeVirtualXOpts:H,computeVirtualYOpts:j}=t.getComputeMaps(),K=ze(),k=ze(),X=ze(),J=ze(),Ce=ze(),xe=ze(),ue=ze(),pe=ze(),Se=()=>{const{delayHover:ne}=n,{lastScrollTime:oe,isDragResize:ie}=c;return!!(ie||oe&&Date.now()<oe+ne)},Ee=(ne,oe,ie)=>{const{row:we,column:se}=oe,{afterFullData:Oe}=d,{treeConfig:fe}=n,he=q.value,{slots:Te,treeNode:me}=se,{fullAllDataRowIdData:le}=d;if(Te&&Te.line)return t.callSlot(Te.line,oe);const Fe=le[ne];let Re=0,Ye=null;return Fe&&(Re=Fe.level,Ye=Fe.items[Fe.treeIndex-1]),fe&&me&&(he.showLine||he.line)?[C("div",{key:"tl",class:"vxe-tree--line-wrapper"},[C("div",{class:"vxe-tree--line",style:{height:`${t.eqRow(Oe[0],we)?1:tR(oe,Ye)}px`,bottom:`-${Math.floor(ie/2)}px`,left:`${Re*he.indent+(Re?2-Ux(t):0)+16}px`}})])]:[]},G=(ne,oe,ie,we,se,Oe,fe,he,Te,me,le,Fe,Re)=>{const Ye=t.xeGrid,{columnKey:Ge,resizable:je,showOverflow:Le,border:nt,height:Et,treeConfig:bt,cellClassName:ut,cellStyle:it,align:mt,spanMethod:Je,mouseConfig:Ne,editConfig:Ue,editRules:ft,tooltipConfig:Ae,padding:Me}=n,{tableData:He,dragRow:gt,overflowX:Qe,currentColumn:ae,scrollXLoad:be,scrollYLoad:re,mergeBodyFlag:Ie,calcCellHeightFlag:Be,resizeHeightFlag:tt,resizeWidthFlag:lt,editStore:xt,isAllOverflow:ht,validErrorMaps:Lt}=c,{fullAllDataRowIdData:Tt,fullColumnIdData:$e,mergeBodyCellMaps:Bt,visibleColumn:Pt,afterFullData:Ut,mergeBodyList:Zt,scrollXStore:Yt,scrollYStore:ar}=d,Ot=_.value,Qt=W.value,et=A.value,Ht=v.value,dr=O.value,Ft=F.value,cr=H.value,kt=j.value,{isAllColumnDrag:lr,isAllRowDrag:gr}=Ft,Wt=U.value,er=Y.value,Rr=s.value,vr=Be?Ot.height||Wt.height:0,{disabledMethod:ir,isCrossDrag:wr,isPeerDrag:wt}=er,st=te.value,fr=m.value,io=i.value,so=x.value,{selectCellToRow:yr}=io,{type:Qo,cellRender:Zn,editRender:en,align:Jn,showOverflow:Qn,className:_l,treeNode:Nl,rowResize:Pl,padding:el,verticalAlign:tl,slots:h}=me,{verticalAlign:rl}=Ot,{actived:tn}=xt,rn=Tt[oe]||{},Ro=me.id,on=$e[Ro]||{},nn=en||Zn,Pr=nn?Em.get(nn.name):null,ln=Pr?Pr.tableCellClassName||Pr.cellClassName:null,On=Pr?Pr.tableCellStyle||Pr.cellStyle:"",Wo=dr.showAll,Dn=on.index,So=on._index,ol=Ct(en),Bl=tt?rn.resizeHeight:0;let Br=ie?me.fixed!==ie:me.fixed&&Qe;const Mn=f.eqNull(el)?Me===null?Ot.padding:Me:el,Oo=f.eqNull(Qn)?Le:Qn,sn=Oo==="ellipsis",Do=Oo==="title",ao=Oo===!0||Oo==="tooltip",Vo=ht||Do||ao||sn,nl=f.isBoolean(me.resizable)?me.resizable:st.resizable||je,an=!!vr,cn=Bl>0;let Tn;const $r={},un=Jn||(Pr?Pr.tableCellAlign:"")||mt,Fn=f.eqNull(tl)?rl:tl,_r=Lt[`${oe}:${Ro}`],Qr=ft&&Qt.showMessage&&(Qt.message==="default"?Et||He.length>1:Qt.message==="inline"),co={colid:Ro},qt={$table:t,$grid:Ye,isEdit:!1,seq:ne,rowid:oe,row:Oe,rowIndex:fe,$rowIndex:he,_rowIndex:Te,column:me,columnIndex:Dn,$columnIndex:le,_columnIndex:So,fixed:ie,type:Ai,isHidden:!!Br,level:se,visibleData:Ut,data:He,items:Re};let zr=!1,dn=!1;Wt.drag&&(zr=er.trigger==="row"||me.dragSort&&er.trigger==="cell"),zr&&(dn=!!(ir&&ir(qt))),(Do||ao||Wo||Ae)&&($r.onMouseenter=It=>{Se()||(Do?Rf(It.currentTarget,me):(ao||Wo)&&t.triggerBodyTooltipEvent(It,qt),t.dispatchEvent("cell-mouseenter",Object.assign({cell:It.currentTarget},qt),It))}),(ao||Wo||Ae)&&($r.onMouseleave=It=>{Se()||((ao||Wo)&&t.handleTargetLeaveEvent(It),t.dispatchEvent("cell-mouseleave",Object.assign({cell:It.currentTarget},qt),It))}),(zr||et.range||Ne)&&($r.onMousedown=It=>{t.triggerCellMousedownEvent(It,qt)}),zr&&($r.onMouseup=t.triggerCellMouseupEvent),$r.onClick=It=>{t.triggerCellClickEvent(It,qt)},$r.onDblclick=It=>{t.triggerCellDblclickEvent(It,qt)};let fn=!1;if(Ie&&Zt.length){const It=Bt[`${Te}:${So}`];if(It){const{rowspan:Sr,colspan:Vr}=It;if(!Sr||!Vr)return null;Sr>1&&(fn=!0,co.rowspan=Sr),Vr>1&&(fn=!0,co.colspan=Vr)}}else if(Je){const{rowspan:It=1,colspan:Sr=1}=Je(qt)||{};if(!It||!Sr)return null;It>1&&(co.rowspan=It),Sr>1&&(co.colspan=Sr)}Br&&fn&&(co.colspan>1||co.rowspan>1)&&(Br=!1),!Br&&Ue&&(en||Zn)&&(Ht.showStatus||Ht.showUpdateStatus)&&(Tn=t.isUpdateByRow(Oe,me.field));const $l=re&&!Vo,In=rn.resizeHeight||Ot.height||Wt.height||rn.height||Rr,zl=le===Fe.length-1,Wl=!me.resizeWidth&&(me.minWidth==="auto"||me.width==="auto");let Wr=!1;fn||(!gt||qe(t,gt)!==oe)&&(re&&!bt&&!kt.immediate&&(Te<ar.visibleStartIndex-ar.preloadSize||Te>ar.visibleEndIndex+ar.preloadSize)||be&&!cr.immediate&&!me.fixed&&(So<Yt.visibleStartIndex-Yt.preloadSize||So>Yt.visibleEndIndex+Yt.preloadSize))&&(Wr=!0);const eo={};if(Vo&&lt){let It=co.colspan||0;if(It>1)for(let Sr=1;Sr<It;Sr++){const Vr=Pt[Dn+Sr];Vr&&(It+=Vr.renderWidth)}eo.width=`${me.renderWidth-so*It}px`}re||Vo||an||cn?eo.height=`${In}px`:eo.minHeight=`${In}px`;const Hr=[];if(Br&&ht)Hr.push(C("div",{key:"tc",class:["vxe-cell",{"c--title":Do,"c--tooltip":ao,"c--ellipsis":sn}],style:eo}));else if(Hr.push(...Ee(oe,qt,In),C("div",{key:"tc",class:["vxe-cell",{"c--title":Do,"c--tooltip":ao,"c--ellipsis":sn}],style:eo,title:Do?t.getCellLabel(Oe,me):null},Wr?[]:[C("div",{colid:Ro,rowid:oe,class:"vxe-cell--wrapper"},me.renderCell(qt))])),Qr&&_r){const It=_r.rule,Sr=h?h.valid:null,Vr=Object.assign(Object.assign(Object.assign({},qt),_r),{rule:_r});Hr.push(C("div",{key:"tcv",class:["vxe-cell--valid-error-tip",bn(Qt.className,Vr)],style:It&&It.maxWidth?{width:`${It.maxWidth}px`}:null},[C("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${Qt.theme||"normal"}`},[Sr?t.callSlot(Sr,Vr):[C("span",{class:"vxe-cell--valid-error-msg"},_r.content)]])]))}let hn=!1;return Ne&&fr.area&&yr&&(!So&&yr===!0||yr===me.field)&&(hn=!0),!Br&&nl&&lr&&Hr.push(C("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!nt||nt==="none"}],onMousedown:It=>t.handleColResizeMousedownEvent(It,ie,qt),onDblclick:It=>t.handleColResizeDblclickEvent(It,qt)})),(Pl||gr)&&Wt.resizable&&Hr.push(C("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:It=>t.handleRowResizeMousedownEvent(It,qt),onDblclick:It=>t.handleRowResizeDblclickEvent(It,qt)})),C("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",Ro,Fn?`col--vertical-${Fn}`:"",un?`col--${un}`:"",Qo?`col--${Qo}`:"",{"col--last":zl,"col--tree-node":Nl,"col--edit":ol,"col--ellipsis":Vo,"col--cs-height":an,"col--rs-height":cn,"col--to-row":hn,"col--auto-height":$l,"fixed--width":!Wl,"fixed--hidden":Br,"is--padding":Mn,"is--progress":Br&&ht||Wr,"is--drag-cell":zr&&(wr||wt||!se),"is--drag-disabled":dn,"col--dirty":Tn,"col--active":Ue&&ol&&tn.row===Oe&&(tn.column===me||Ht.mode==="row"),"col--valid-error":!!_r,"col--current":ae===me},bn(ln,qt),bn(_l,qt),bn(ut,qt)],key:Ge||be||re||st.useKey||Wt.useKey||st.drag?Ro:le},co),{style:Object.assign({},f.isFunction(On)?On(qt):On,f.isFunction(it)?it(qt):it)}),$r),we&&Br?[]:Hr)},de=(ne,oe,ie,we)=>{const se=t.xeGrid,{stripe:Oe,rowKey:fe,highlightHoverRow:he,rowClassName:Te,rowStyle:me,editConfig:le,treeConfig:Fe}=n,{hasFixedColumn:Re,treeExpandedFlag:Ye,isColLoading:Ge,scrollXLoad:je,scrollYLoad:Le,isAllOverflow:nt,rowExpandedFlag:Et,expandColumn:bt,selectRadioRow:ut,pendingRowFlag:it,isDragColMove:mt,rowExpandHeightFlag:Je,isRowGroupStatus:Ne}=c,{fullAllDataRowIdData:Ue,fullColumnIdData:ft,treeExpandedMaps:Ae,pendingRowMaps:Me,rowExpandedMaps:He}=d,gt=A.value,Qe=S.value,ae=q.value,be=v.value,re=U.value,Ie=te.value,Be=D.value,{transform:tt,seqMode:lt}=ae,xt=ae.children||ae.childrenField,ht=[],{handleGetRowId:Lt}=pr(t),Tt=Fe||Ne;return ie.forEach(($e,Bt)=>{const Pt=Lt($e),Ut=Ue[Pt]||{};let Zt=Bt,Yt=0,ar=-1,Ot=-1;const Qt=Ne&&$e.isAggregate,et={};(re.isHover||he)&&(et.onMouseenter=Wt=>{Se()||t.triggerHoverEvent(Wt,{row:$e,rowIndex:Zt})},et.onMouseleave=()=>{Se()||t.clearHoverRow()}),Ut&&(Yt=Ut.level,Qt||Fe&&tt&&lt==="increasing"?ar=Ut._index+1:ar=Ut.seq,Zt=Ut.index,Ot=Ut._index);const Ht={$table:t,seq:ar,rowid:Pt,fixed:ne,type:Ai,level:Yt,row:$e,rowIndex:Zt,$rowIndex:Bt,_rowIndex:Ot},dr=bt&&!!Et&&!!He[Pt];let Ft=!1,cr=[],kt=!1;le&&(kt=t.isInsertByRow($e)),Fe&&!Le&&!tt&&(cr=$e[xt],Ft=!!Ye&&cr&&cr.length>0&&!!Ae[Pt]),re.drag&&!Ne&&(!Fe||tt)&&(et.onDragstart=t.handleRowDragDragstartEvent,et.onDragend=t.handleRowDragDragendEvent,et.onDragover=t.handleRowDragDragoverEvent);const lr=["vxe-body--row",Tt?`row--level-${Yt}`:"",{"row--stripe":Oe&&(Ot+1)%2===0,"is--new":kt,"is--expand-row":dr,"is--expand-tree":Ft,"row--new":kt&&(be.showStatus||be.showInsertStatus),"row--radio":Qe.highlight&&t.eqRow(ut,$e),"row--checked":gt.highlight&&t.isCheckedByCheckboxRow($e),"row--pending":!!it&&!!Me[Pt],"row--group":Qt},bn(Te,Ht)],gr=we.map((Wt,er)=>G(ar,Pt,ne,oe,Yt,$e,Zt,Bt,Ot,Wt,er,we,ie));if(ht.push(!Ge&&Ie.drag&&Be.animation?C(Ml,Object.assign({name:`vxe-header--col-list${mt?"":"-disabled"}`,tag:"tr",class:lr,rowid:Pt,style:me?f.isFunction(me)?me(Ht):me:null,key:fe||je||Le||re.useKey||re.drag||Ie.drag||Ne||Fe?Pt:Bt},et),{default:()=>gr}):C("tr",Object.assign({class:lr,rowid:Pt,style:me?f.isFunction(me)?me(Ht):me:null,key:fe||je||Le||re.useKey||re.drag||Ie.drag||Ne||Fe?Pt:Bt},et),gr)),dr){const Wt=T.value,{height:er,padding:Rr,mode:vr}=Wt;if(vr==="fixed")ht.push(C("tr",{class:"vxe-body--row-expanded-place",key:`expand_${Pt}`,rowid:Pt},[C("td",{class:"vxe-body--row-expanded-place-column",colspan:we.length,style:{height:`${Je?Ut.expandHeight||er:0}px`}})]));else{const ir={};er&&(ir.height=`${er}px`),Fe&&(ir.paddingLeft=`${Yt*ae.indent+30}px`);const{showOverflow:wr}=bt||{},wt=bt.id,st=ft[wt]||{},fr=f.isUndefined(wr)||f.isNull(wr)?nt:wr;let io=-1,so=-1,yr=-1;st&&(io=st.index,so=st.$index,yr=st._index);const Qo={$grid:se,$table:t,seq:ar,column:bt,columnIndex:io,$columnIndex:so,_columnIndex:yr,fixed:ne,type:Ai,level:Yt,row:$e,rowid:Pt,rowIndex:Zt,$rowIndex:Bt,_rowIndex:Ot,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};ht.push(C("tr",{class:["vxe-body--expanded-row",{"is--padding":Rr}],key:`expand_${Pt}`},[C("td",{class:["vxe-body--expanded-column",{"fixed--hidden":ne&&!Re,"col--ellipsis":fr}],colspan:we.length},[C("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":er}],style:ir},[bt.renderData(Qo)])])]))}}Ft&&ht.push(...de(ne,oe,cr,we))}),ht};return jn(()=>{ge(()=>{const{fixedType:ne}=e,{elemStore:oe}=d,ie=`${ne||"main"}-body-`;oe[`${ie}wrapper`]=K,oe[`${ie}scroll`]=k,oe[`${ie}table`]=X,oe[`${ie}colgroup`]=J,oe[`${ie}list`]=Ce,oe[`${ie}xSpace`]=xe,oe[`${ie}ySpace`]=ue,oe[`${ie}emptyBlock`]=pe})}),Un(()=>{const{fixedType:ne}=e,{elemStore:oe}=d,ie=`${ne||"main"}-body-`;oe[`${ie}wrapper`]=null,oe[`${ie}scroll`]=null,oe[`${ie}table`]=null,oe[`${ie}colgroup`]=null,oe[`${ie}list`]=null,oe[`${ie}xSpace`]=null,oe[`${ie}ySpace`]=null,oe[`${ie}emptyBlock`]=null}),()=>{const{slots:ne}=u,oe=t.xeGrid,{fixedColumn:ie,fixedType:we,tableColumn:se}=e,{spanMethod:Oe,footerSpanMethod:fe,mouseConfig:he}=n,{isGroup:Te,tableData:me,isRowLoading:le,isColLoading:Fe,overflowX:Re,scrollXLoad:Ye,scrollYLoad:Ge,isAllOverflow:je,isDragRowMove:Le,expandColumn:nt,dragRow:Et,dragCol:bt}=c,{visibleColumn:ut,fullAllDataRowIdData:it,fullColumnIdData:mt}=d,Je=U.value,Ne=y.value,Ue=m.value,ft=Y.value,Ae=T.value;let Me=me,He=se,gt=!1;if((Ye||Ge||je)&&(nt&&Ae.mode!=="fixed"||Oe||fe||(gt=!0)),!Fe&&(we||!Re)&&(He=ut),we&&gt&&(He=ie||[]),Ge&&Et&&Me.length>2){const re=it[qe(t,Et)];if(re){const Ie=re._index,Be=Me[0],tt=Me[Me.length-1],lt=it[qe(t,Be)],xt=it[qe(t,tt)];if(lt&&xt){const ht=lt._index,Lt=xt._index;Ie<ht?Me=[Et].concat(Me):Ie>Lt&&(Me=Me.concat([Et]))}}}if(!we&&!Te&&Ye&&bt&&He.length>2){const re=mt[bt.id];if(re){const Ie=re._index,Be=He[0],tt=He[He.length-1],lt=mt[Be.id],xt=mt[tt.id];if(lt&&xt){const ht=lt._index,Lt=xt._index;Ie<ht?He=[bt].concat(He):Ie>Lt&&(He=He.concat([bt]))}}}let Qe;const ae=ne?ne.empty:null;if(ae)Qe=t.callSlot(ae,{$table:t,$grid:oe});else{const re=Ne.name?Em.get(Ne.name):null,Ie=re?re.renderTableEmpty||re.renderTableEmptyView||re.renderEmpty:null;Ie?Qe=Ar(Ie(Ne,{$table:t})):Qe=n.emptyText||hR("vxe.table.emptyText")}const be={onScroll(re){t.triggerBodyScrollEvent(re,we)}};return C("div",{ref:K,class:["vxe-table--body-wrapper",we?`fixed-${we}--wrapper`:"body--wrapper"],xid:o},[C("div",Object.assign({ref:k,class:"vxe-table--body-inner-wrapper"},be),[we?Bd(t):C("div",{ref:xe,class:"vxe-body--x-space"}),C("div",{ref:ue,class:"vxe-body--y-space"}),C("table",{ref:X,class:"vxe-table--body",xid:o,cellspacing:0,cellpadding:0,border:0},[C("colgroup",{ref:J},He.map((re,Ie)=>C("col",{name:re.id,key:Ie,style:{width:`${re.renderWidth}px`}}))),!(le||Fe)&&Je.drag&&ft.animation?C(Ml,{ref:Ce,name:`vxe-body--row-list${Le?"":"-disabled"}`,tag:"tbody"},{default:()=>de(we,gt,Me,He)}):C("tbody",{ref:Ce},de(we,gt,Me,He))]),C("div",{class:"vxe-table--checkbox-range"}),he&&Ue.area?C("div",{class:"vxe-table--cell-area"},[C("span",{class:"vxe-table--cell-main-area"},Ue.extension?[C("span",{class:"vxe-table--cell-main-area-btn",onMousedown(re){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(re,{$table:t,fixed:we,type:Ai})}})]:[]),C("span",{class:"vxe-table--cell-copy-area"}),C("span",{class:"vxe-table--cell-extend-area"}),C("span",{class:"vxe-table--cell-multi-area"}),C("span",{class:"vxe-table--cell-active-area"}),C("span",{class:"vxe-table--cell-row-status-area"})]):Bd(t),we?Bd(t):C("div",{class:"vxe-table--empty-block",ref:pe},[C("div",{class:"vxe-table--empty-content"},Qe)])])])}}}),{renderer:pR,renderEmptyElement:$d}=ve,Sm="header",Om=lo({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=Lr("$xeTable",{}),{xID:o,props:n,reactData:u,internalData:c}=t,{computeColumnOpts:d,computeColumnDragOpts:v,computeCellOpts:m,computeMouseOpts:x,computeHeaderCellOpts:i,computeDefaultRowHeight:s,computeVirtualXOpts:y}=t.getComputeMaps(),O=ze([]),S=ze(),T=ze(),q=ze(),A=ze(),_=ze(),W=ze(),U=ze(),te=()=>{const{isGroup:H}=u;O.value=H?XE(e.tableGroupColumn):[]},Y=(H,j,K,k)=>{const X=t.xeGrid,{fixedType:J}=e,{resizable:Ce,columnKey:xe,headerCellClassName:ue,headerCellStyle:pe,showHeaderOverflow:Se,headerAlign:Ee,align:G,mouseConfig:de}=n,{currentColumn:ce,dragCol:ne,scrollXLoad:oe,scrollYLoad:ie,overflowX:we}=u,{fullColumnIdData:se,scrollXStore:Oe}=c,fe=y.value,he=d.value,Te=v.value,me=m.value,le=s.value,Fe=i.value,Re=Xi(Fe.height)||le,{disabledMethod:Ye,isCrossDrag:Ge,isPeerDrag:je}=Te;return K.map((Le,nt)=>{const{type:Et,showHeaderOverflow:bt,headerAlign:ut,align:it,filters:mt,headerClassName:Je,editRender:Ne,cellRender:Ue}=Le,ft=Le.id,Ae=se[ft]||{},Me=Ne||Ue,He=Me?pR.get(Me.name):null,gt=Le.children&&Le.children.length,Qe=J?Le.fixed!==J&&!gt:!!Le.fixed&&we,ae=f.isBoolean(Fe.padding)?Fe.padding:me.padding,be=f.eqNull(bt)?Se:bt,re=ut||(He?He.tableHeaderCellAlign:"")||Ee||it||(He?He.tableCellAlign:"")||G,Ie=be==="ellipsis",Be=be==="title",tt=be===!0||be==="tooltip",lt=Be||tt||Ie;let xt=!1,ht=null;mt&&(ht=mt[0],xt=mt.some(Ht=>Ht.checked));const Lt=Ae.index,Tt=Ae._index,$e={$table:t,$grid:X,$rowIndex:k,column:Le,columnIndex:Lt,$columnIndex:nt,_columnIndex:Tt,firstFilterOption:ht,fixed:J,type:Sm,isHidden:Qe,hasFilter:xt},Bt={colid:ft,colspan:Le.colSpan>1?Le.colSpan:null,rowspan:Le.rowSpan>1?Le.rowSpan:null},Pt={onClick:Ht=>t.triggerHeaderCellClickEvent(Ht,$e),onDblclick:Ht=>t.triggerHeaderCellDblclickEvent(Ht,$e)},Ut=he.drag&&Te.trigger==="cell";let Zt=!1;Ut&&(Zt=!!(Ye&&Ye($e))),(de||Ut)&&(Pt.onMousedown=Ht=>t.triggerHeaderCellMousedownEvent(Ht,$e)),he.drag&&(Pt.onDragstart=t.handleHeaderCellDragDragstartEvent,Pt.onDragend=t.handleHeaderCellDragDragendEvent,Pt.onDragover=t.handleHeaderCellDragDragoverEvent,Ut&&(Pt.onMouseup=t.handleHeaderCellDragMouseupEvent));const Yt=nt===K.length-1,ar=f.isBoolean(Le.resizable)?Le.resizable:he.resizable||Ce,Ot=!Le.resizeWidth&&(Le.minWidth==="auto"||Le.width==="auto");let Qt=!1;j&&!H&&(!ne||ne.id!==ft)&&oe&&!Le.fixed&&!fe.immediate&&(Tt<Oe.visibleStartIndex-Oe.preloadSize||Tt>Oe.visibleEndIndex+Oe.preloadSize)&&(Qt=!0);const et={};return lt?et.height=`${Re}px`:et.minHeight=`${Re}px`,C("th",Object.assign(Object.assign(Object.assign({class:["vxe-header--column",ft,{[`col--${re}`]:re,[`col--${Et}`]:Et,"col--last":Yt,"col--fixed":Le.fixed,"col--group":gt,"col--ellipsis":lt,"fixed--width":!Ot,"fixed--hidden":Qe,"is--padding":ae,"is--sortable":Le.sortable,"col--filter":!!mt,"is--filter-active":xt,"is--drag-active":he.drag&&!Le.fixed&&!Zt&&(Ge||je||!Le.parentId),"is--drag-disabled":he.drag&&Zt,"col--current":ce===Le},Je?f.isFunction(Je)?Je($e):Je:"",ue?f.isFunction(ue)?ue($e):ue:""],style:pe?f.isFunction(pe)?pe($e):pe:null},Bt),Pt),{key:xe||oe||ie||he.useKey||he.drag||gt?ft:nt}),[C("div",{class:["vxe-cell",{"c--title":Be,"c--tooltip":tt,"c--ellipsis":Ie}],style:et},Qt||j&&Qe?[]:[C("div",{colid:ft,class:"vxe-cell--wrapper"},Le.renderHeader($e))]),!Qe&&ar?C("div",{class:"vxe-cell--col-resizable",onMousedown:Ht=>t.handleColResizeMousedownEvent(Ht,J,$e),onDblclick:Ht=>t.handleColResizeDblclickEvent(Ht,$e)}):$d(t)])})},D=(H,j,K)=>{const{fixedType:k}=e,{headerRowClassName:X,headerRowStyle:J}=n,{isColLoading:Ce,isDragColMove:xe}=u,ue=d.value,pe=v.value;return K.map((Se,Ee)=>{const G={$table:t,$rowIndex:Ee,fixed:k,type:Sm};return!Ce&&ue.drag&&pe.animation?C(Ml,{key:Ee,name:`vxe-header--col-list${xe?"":"-disabled"}`,tag:"tr",class:["vxe-header--row",X?f.isFunction(X)?X(G):X:""],style:J?f.isFunction(J)?J(G):J:null},{default:()=>Y(H,j,Se,Ee)}):C("tr",{key:Ee,class:["vxe-header--row",X?f.isFunction(X)?X(G):X:""],style:J?f.isFunction(J)?J(G):J:null},Y(H,j,Se,Ee))})},F=()=>{const{fixedType:H,fixedColumn:j,tableColumn:K}=e,{mouseConfig:k,showHeaderOverflow:X,spanMethod:J,footerSpanMethod:Ce}=n,{isGroup:xe,isColLoading:ue,overflowX:pe,scrollXLoad:Se,dragCol:Ee}=u,{visibleColumn:G,fullColumnIdData:de}=c,ce=x.value;let ne=O.value,oe=K,ie=!1;if(xe?oe=G:(Se&&X&&(J||Ce||(ie=!0)),(!ie||!ue&&(H||!pe))&&(oe=G),H&&ie&&(oe=j||[]),ne=[oe]),!H&&!xe&&Se&&Ee&&oe.length>2){const we=de[Ee.id];if(we){const se=we._index,Oe=oe[0],fe=oe[oe.length-1],he=de[Oe.id],Te=de[fe.id];if(he&&Te){const me=he._index,le=Te._index;se<me?(oe=[Ee].concat(oe),ne=[[Ee].concat(ne[0])].concat(ne.slice(1))):se>le&&(oe=oe.concat([Ee]),ne=[ne[0].concat([Ee])].concat(ne.slice(1)))}}}return C("div",{ref:S,class:["vxe-table--header-wrapper",H?`fixed-${H}--wrapper`:"body--wrapper"],xid:o},[C("div",{ref:T,class:"vxe-table--header-inner-wrapper",onScroll(we){t.triggerHeaderScrollEvent(we,H)}},[H?$d(t):C("div",{ref:W,class:"vxe-body--x-space"}),C("table",{ref:q,class:"vxe-table--header",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:ie?"1":null},[C("colgroup",{ref:A},oe.map((we,se)=>C("col",{name:we.id,key:se,style:{width:`${we.renderWidth}px`}}))),C("thead",{ref:_},D(xe,ie,ne))]),k&&ce.area?C("div",{class:"vxe-table--cell-area"},[C("span",{class:"vxe-table--cell-main-area"}),C("span",{class:"vxe-table--cell-copy-area"}),C("span",{class:"vxe-table--cell-extend-area"}),C("span",{class:"vxe-table--cell-multi-area"}),C("span",{class:"vxe-table--cell-active-area"}),C("span",{class:"vxe-table--cell-col-status-area"})]):$d(t)])])};return Mt(()=>e.tableColumn,te),jn(()=>{ge(()=>{const{fixedType:H}=e,{internalData:j}=t,{elemStore:K}=j,k=`${H||"main"}-header-`;K[`${k}wrapper`]=S,K[`${k}scroll`]=T,K[`${k}table`]=q,K[`${k}colgroup`]=A,K[`${k}list`]=_,K[`${k}xSpace`]=W,K[`${k}repair`]=U,te()})}),Un(()=>{const{fixedType:H}=e,{internalData:j}=t,{elemStore:K}=j,k=`${H||"main"}-header-`;K[`${k}wrapper`]=null,K[`${k}scroll`]=null,K[`${k}table`]=null,K[`${k}colgroup`]=null,K[`${k}list`]=null,K[`${k}xSpace`]=null,K[`${k}repair`]=null}),F}}),{renderer:gR,renderEmptyElement:Dm}=ve,Mm="footer",Tm=lo({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=Lr("$xeTable",{}),{xID:o,props:n,reactData:u,internalData:c}=t,{computeTooltipOpts:d,computeColumnOpts:v,computeColumnDragOpts:m,computeCellOpts:x,computeFooterCellOpts:i,computeDefaultRowHeight:s,computeResizableOpts:y,computeVirtualXOpts:O}=t.getComputeMaps(),S=ze(),T=ze(),q=ze(),A=ze(),_=ze(),W=ze(),U=(D,F,H,j,K,k)=>{const X=t.xeGrid,{fixedType:J}=e,{resizable:Ce,border:xe,footerCellClassName:ue,footerCellStyle:pe,footerAlign:Se,footerSpanMethod:Ee,align:G,columnKey:de,showFooterOverflow:ce}=n,{scrollXLoad:ne,scrollYLoad:oe,overflowX:ie,currentColumn:we}=u,{fullColumnIdData:se,mergeFooterList:Oe,mergeFooterCellMaps:fe,scrollXStore:he}=c,Te=O.value,me=d.value,le=y.value,{isAllColumnDrag:Fe}=le,Re=v.value,Ye=s.value,Ge=x.value,je=i.value,Le=Xi(je.height)||Ye;return F.map((nt,Et)=>{const{type:bt,showFooterOverflow:ut,footerAlign:it,align:mt,footerClassName:Je,editRender:Ne,cellRender:Ue}=nt,ft=nt.id,Ae=se[ft]||{},Me=Ne||Ue,He=Me?gR.get(Me.name):null,gt=me.showAll,Qe=nt.children&&nt.children.length,ae=J?nt.fixed!==J&&!Qe:nt.fixed&&ie,be=f.isBoolean(je.padding)?je.padding:Ge.padding,re=f.eqNull(ut)?ce:ut,Ie=it||(He?He.tableFooterCellAlign:"")||Se||mt||(He?He.tableCellAlign:"")||G,Be=re==="ellipsis",tt=re==="title",lt=re===!0||re==="tooltip",xt=tt||lt||Be,ht=f.isBoolean(nt.resizable)?nt.resizable:Re.resizable||Ce,Lt={colid:ft},Tt={},$e=Ae.index,Bt=Ae._index,Ut={$table:t,$grid:X,row:j,rowIndex:k,_rowIndex:k,$rowIndex:K,column:nt,columnIndex:$e,$columnIndex:Et,_columnIndex:Bt,itemIndex:Bt,items:j,fixed:J,type:Mm,data:H};(tt||lt||gt)&&(Tt.onMouseenter=et=>{tt?Rf(et.currentTarget,nt):(lt||gt)&&t.triggerFooterTooltipEvent(et,Ut)}),(lt||gt)&&(Tt.onMouseleave=et=>{(lt||gt)&&t.handleTargetLeaveEvent(et)}),Tt.onClick=et=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:et.currentTarget},Ut),et)},Tt.onDblclick=et=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:et.currentTarget},Ut),et)};let Zt=!1;if(Oe.length){const et=fe[`${k}:${Bt}`];if(et){const{rowspan:Ht,colspan:dr}=et;if(!Ht||!dr)return null;Ht>1&&(Zt=!0,Lt.rowspan=Ht),dr>1&&(Zt=!0,Lt.colspan=dr)}}else if(Ee){const{rowspan:et=1,colspan:Ht=1}=Ee(Ut)||{};if(!et||!Ht)return null;et>1&&(Lt.rowspan=et),Ht>1&&(Lt.colspan=Ht)}const Yt=Et===F.length-1,ar=!nt.resizeWidth&&(nt.minWidth==="auto"||nt.width==="auto");let Ot=!1;D&&!Zt&&ne&&!nt.fixed&&!Te.immediate&&(Bt<he.visibleStartIndex-he.preloadSize||Bt>he.visibleEndIndex+he.preloadSize)&&(Ot=!0);const Qt={};return xt?Qt.height=`${Le}px`:Qt.minHeight=`${Le}px`,C("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",nt.id,{[`col--${Ie}`]:Ie,[`col--${bt}`]:bt,"col--last":Yt,"fixed--width":!ar,"fixed--hidden":ae,"is--padding":be,"col--ellipsis":xt,"col--current":we===nt},bn(Je,Ut),bn(ue,Ut)]},Lt),{style:pe?f.isFunction(pe)?pe(Ut):pe:null}),Tt),{key:de||ne||oe||Re.useKey||Re.drag?nt.id:Et}),[C("div",{class:["vxe-cell",{"c--title":tt,"c--tooltip":lt,"c--ellipsis":Be}],style:Qt},Ot?[]:[C("div",{colid:ft,class:"vxe-cell--wrapper"},nt.renderFooter(Ut))]),!ae&&ht&&Fe?C("div",{class:["vxe-cell--col-resizable",{"is--line":!xe||xe==="none"}],onMousedown:et=>t.handleColResizeMousedownEvent(et,J,Ut),onDblclick:et=>t.handleColResizeDblclickEvent(et,Ut)}):Dm(t)])})},te=(D,F)=>{const{fixedType:H,footerTableData:j}=e,{footerRowClassName:K,footerRowStyle:k}=n,{isColLoading:X,isDragColMove:J}=u,Ce=v.value,xe=m.value;return j.map((ue,pe)=>{const Se=pe,Ee={$table:t,row:ue,_rowIndex:Se,$rowIndex:pe,fixed:H,type:Mm};return!X&&Ce.drag&&xe.animation?C(Ml,{key:pe,name:`vxe-header--col-list${J?"":"-disabled"}`,tag:"tr",class:["vxe-footer--row",K?f.isFunction(K)?K(Ee):K:""],style:k?f.isFunction(k)?k(Ee):k:null},{default:()=>U(D,F,j,ue,pe,Se)}):C("tr",{key:pe,class:["vxe-footer--row",K?f.isFunction(K)?K(Ee):K:""],style:k?f.isFunction(k)?k(Ee):k:null},U(D,F,j,ue,pe,Se))})},Y=()=>{const{fixedType:D,fixedColumn:F,tableColumn:H}=e,{spanMethod:j,footerSpanMethod:K,showFooterOverflow:k}=n,{visibleColumn:X,fullColumnIdData:J}=c,{isGroup:Ce,isColLoading:xe,overflowX:ue,scrollXLoad:pe,dragCol:Se}=u;let Ee=H,G=!1;if(pe&&k&&(j||K||(G=!0)),(!G||!xe&&(D||!ue))&&(Ee=X),D&&G&&(Ee=F||[]),!D&&!Ce&&pe&&Se&&Ee.length>2){const de=J[Se.id];if(de){const ce=de._index,ne=Ee[0],oe=Ee[Ee.length-1],ie=J[ne.id],we=J[oe.id];if(ie&&we){const se=ie._index,Oe=we._index;ce<se?Ee=[Se].concat(Ee):ce>Oe&&(Ee=Ee.concat([Se]))}}}return C("div",{ref:S,class:["vxe-table--footer-wrapper",D?`fixed-${D}--wrapper`:"body--wrapper"],xid:o},[C("div",{ref:T,class:"vxe-table--footer-inner-wrapper",onScroll(de){t.triggerFooterScrollEvent(de,D)}},[D?Dm(t):C("div",{ref:W,class:"vxe-body--x-space"}),C("table",{ref:q,class:"vxe-table--footer",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:G?"1":null},[C("colgroup",{ref:A},Ee.map((de,ce)=>C("col",{name:de.id,key:ce,style:{width:`${de.renderWidth}px`}}))),C("tfoot",{ref:_},te(G,Ee))])])])};return jn(()=>{ge(()=>{const{fixedType:D}=e,{elemStore:F}=c,H=`${D||"main"}-footer-`;F[`${H}wrapper`]=S,F[`${H}scroll`]=T,F[`${H}table`]=q,F[`${H}colgroup`]=A,F[`${H}list`]=_,F[`${H}xSpace`]=W})}),Un(()=>{const{fixedType:D}=e,{elemStore:F}=c,H=`${D||"main"}-footer-`;F[`${H}wrapper`]=null,F[`${H}scroll`]=null,F[`${H}table`]=null,F[`${H}colgroup`]=null,F[`${H}list`]=null,F[`${H}xSpace`]=null}),Y}}),{getConfig:ur}=ve,Ki={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>ur().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>ur().table.resizable},stripe:{type:Boolean,default:()=>ur().table.stripe},border:{type:[Boolean,String],default:()=>ur().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>ur().table.round},size:{type:String,default:()=>ur().table.size||ur().size},fit:{type:Boolean,default:()=>ur().table.fit},loading:Boolean,align:{type:String,default:()=>ur().table.align},headerAlign:{type:String,default:()=>ur().table.headerAlign},footerAlign:{type:String,default:()=>ur().table.footerAlign},showHeader:{type:Boolean,default:()=>ur().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>ur().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>ur().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>ur().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>ur().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>ur().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>ur().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>ur().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>ur().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>ur().table.emptyText},keepSource:{type:Boolean,default:()=>ur().table.keepSource},autoResize:{type:Boolean,default:()=>ur().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>ur().table.animat},delayHover:{type:Number,default:()=>ur().table.delayHover},params:Object},Df=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],{getI18n:Xt,getIcon:mr,renderEmptyElement:Li}=ve,vR=lo({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const t=ve.getComponent("VxeModal"),o=ve.getComponent("VxeDrawer"),n=ve.getComponent("VxeButton"),u=ve.getComponent("VxeNumberInput"),c=ve.getComponent("VxeRadioGroup"),d=Lr("$xeTable",{}),{props:v,reactData:m,internalData:x}=d,{computeCustomOpts:i,computeColumnDragOpts:s,computeColumnOpts:y,computeIsMaxFixedColumn:O,computeResizableOpts:S}=d.getComputeMaps(),T=ze(),q=ze(),A=ze(),_=ze(),W=ze();let U,te=!1,Y;const D=fe=>{const{customStore:he}=e;he.activeWrapper=!0,d.customOpenEvent(fe)},F=fe=>{const{customStore:he}=e;he.activeWrapper=!1,setTimeout(()=>{!he.activeBtn&&!he.activeWrapper&&d.customCloseEvent(fe)},300)},H=({$event:fe})=>{m.isCustomStatus=!0,d.saveCustom(),d.closeCustom(),d.emitCustomEvent("confirm",fe)},j=({$event:fe})=>{d.closeCustom(),d.emitCustomEvent("close",fe)},K=({$event:fe})=>{d.cancelCustom(),d.closeCustom(),d.emitCustomEvent("cancel",fe)},k=fe=>{d.resetCustom(!0),d.closeCustom(),d.emitCustomEvent("reset",fe)},X=({$event:fe})=>{ve.modal?ve.modal.confirm({content:Xt("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(he=>{he==="confirm"&&k(fe)}):k(fe)},J=fe=>{const{customColumnList:he}=m,Te=f.findTree(he,me=>me===fe);if(Te&&Te.parent){const{parent:me}=Te;me.children&&me.children.length&&(me.renderVisible=me.children.every(le=>le.renderVisible),me.halfVisible=!me.renderVisible&&me.children.some(le=>le.renderVisible||le.halfVisible),J(me))}},Ce=fe=>{const he=!fe.renderVisible;i.value.immediate?(f.eachTree([fe],me=>{me.visible=he,me.renderVisible=he,me.halfVisible=!1}),m.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:visible")):f.eachTree([fe],me=>{me.renderVisible=he,me.halfVisible=!1}),J(fe),d.checkCustomStatus()},xe=fe=>{i.value.immediate&&fe.renderResizeWidth!==fe.renderWidth&&(fe.resizeWidth=fe.renderResizeWidth,fe.renderWidth=fe.renderResizeWidth,m.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:width"))},ue=(fe,he)=>{const Te=O.value;i.value.immediate?(fe.renderFixed===he?f.eachTree([fe],le=>{le.fixed="",le.renderFixed=""}):(!Te||fe.renderFixed)&&f.eachTree([fe],le=>{le.fixed=he,le.renderFixed=he}),m.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:fixed")):fe.renderFixed===he?f.eachTree([fe],le=>{le.renderFixed=""}):(!Te||fe.renderFixed)&&f.eachTree([fe],le=>{le.renderFixed=he})},pe=()=>{d.toggleCustomAllCheckbox()},Se=(fe,he,Te,me)=>{const le=q.value;if(!le)return;const Fe=le.getBoundingClientRect();if(he){const Ye=A.value;if(Ye)if(Te){const Ge=he.getBoundingClientRect();Ye.style.display="block",Ye.style.top=`${Math.max(1,Ge.y+le.scrollTop-Fe.y)}px`,Ye.style.height=`${Ge.height}px`,Ye.style.width=`${Ge.width}px`,Ye.setAttribute("drag-pos",me),Ye.setAttribute("drag-to-child",te?"y":"n")}else Ye.style.display=""}const Re=_.value;Re&&(Re.style.display="block",Re.style.top=`${Math.min(le.clientHeight+le.scrollTop-Re.clientHeight,fe.clientY+le.scrollTop-Fe.y)}px`,Re.style.left=`${Math.min(le.clientWidth+le.scrollLeft-Re.clientWidth,fe.clientX+le.scrollLeft-Fe.x)}px`,Re.setAttribute("drag-status",Te?te?"sub":"normal":"disabled"))},Ee=()=>{const fe=_.value,he=A.value;fe&&(fe.style.display=""),he&&(he.style.display="")},G=fe=>{const le=fe.currentTarget.parentElement.parentElement.parentElement,Fe=le.getAttribute("colid"),Re=d.getColumnById(Fe);le.draggable=!0,W.value=Re,xo(le,"active--drag-origin")},de=fe=>{const le=fe.currentTarget.parentElement.parentElement.parentElement;Ee(),le.draggable=!1,W.value=null,Yr(le,"active--drag-origin")},ce=fe=>{fe.dataTransfer&&fe.dataTransfer.setDragImage(Qd(),0,0)},ne=fe=>{const{mouseConfig:he}=v,{customColumnList:Te}=m,{collectColumn:me}=x,le=i.value,{immediate:Fe}=le,Re=fe.currentTarget,Ye=W.value,Ge=s.value,{isCrossDrag:je,isSelfToChildDrag:Le,isToChildDrag:nt,dragEndMethod:Et}=Ge,bt=Y==="bottom"?1:0;if(U&&Ye&&U!==Ye){const ut=Ye,it=U;Promise.resolve(Et?Et({oldColumn:ut,newColumn:it,dragColumn:ut,dragPos:Y,dragToChild:!!te,offsetIndex:bt}):!0).then(mt=>{if(!mt)return;let Je=-1,Ne=-1;const Ue={};f.eachTree([ut],Ae=>{Ue[Ae.id]=Ae});let ft=!1;if(Fe){if(ut.parentId&&it.parentId){if(!je)return;if(Ue[it.id]&&(ft=!0,!(je&&Le))){ve.modal&&ve.modal.message({status:"error",content:Xt("vxe.error.treeDragChild")});return}}else if(ut.parentId){if(!je)return}else if(it.parentId){if(!je)return;if(Ue[it.id]&&(ft=!0,!(je&&Le))){ve.modal&&ve.modal.message({status:"error",content:Xt("vxe.error.treeDragChild")});return}}const Ae=f.findTree(me,He=>He.id===ut.id);if(ft&&je&&Le){if(Ae){const{items:He,index:gt}=Ae,Qe=ut.children||[];Qe.forEach(ae=>{ae.parentId=ut.parentId}),He.splice(gt,1,...Qe),ut.children=[]}}else if(Ae){const{items:He,index:gt,parent:Qe}=Ae;He.splice(gt,1),Qe||(Je=gt)}const Me=f.findTree(me,He=>He.id===it.id);if(Me){const{items:He,index:gt,parent:Qe}=Me;je&&nt&&te?(ut.parentId=it.id,it.children=(it.children||[]).concat([ut])):(ut.parentId=it.parentId,He.splice(gt+bt,0,ut)),Qe||(Ne=gt)}f.eachTree(me,(He,gt,Qe,ae,be)=>{if(!be){const re=gt+1;He.renderSortNumber=re}})}else Je=f.findIndexOf(Te,Ae=>Ae.id===ut.id),Te.splice(Je,1),Ne=f.findIndexOf(Te,Ae=>Ae.id===it.id),Te.splice(Ne+bt,0,ut);m.isDragColMove=!0,he&&(d.clearSelected&&d.clearSelected(),d.clearCellAreas&&(d.clearCellAreas(),d.clearCopyCellArea())),d.dispatchEvent("column-dragend",{oldColumn:ut,newColumn:it,dragColumn:ut,dragPos:Y,offsetIndex:bt,_index:{newIndex:Ne,oldIndex:Je}},fe),Fe&&(m.customColumnList=me.slice(0),d.handleColDragSwapColumn())}).catch(()=>{})}Ee(),W.value=null,Re.draggable=!1,Re.removeAttribute("drag-pos"),Yr(Re,"active--drag-target"),Yr(Re,"active--drag-origin")},oe=fe=>{const he=i.value,{immediate:Te}=he,me=s.value,{isCrossDrag:le,isToChildDrag:Fe}=me,Re=fe.currentTarget,Ye=si(fe),Ge=Re.getAttribute("colid"),je=d.getColumnById(Ge),Le=W.value;if(je&&(le||je.level===1)){fe.preventDefault();const Et=fe.clientY-Re.getBoundingClientRect().y<Re.clientHeight/2?"top":"bottom";if(Le&&Le.id===je.id||!le&&je.level>1||!Te&&je.level>1||je.renderFixed){Se(fe,Re,!1,Et);return}te=!!(le&&Fe&&Ye&&Te),U=je,Y=Et,Se(fe,Re,!0,Et)}},ie=()=>{const fe=W.value,he=s.value;return C("div",{},[C("div",{ref:A,class:["vxe-table-custom-popup--drag-line",{"is--guides":he.showGuidesStatus}]}),C("div",{ref:_,class:"vxe-table-custom-popup--drag-tip"},[C("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[C("div",{class:"vxe-table-custom-popup--drag-tip-status"},[C("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",mr().TABLE_DRAG_STATUS_ROW]}),C("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",mr().TABLE_DRAG_STATUS_SUB_ROW]}),C("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",mr().TABLE_DRAG_DISABLED]})]),C("div",{class:"vxe-table-custom-popup--drag-tip-content"},Xt("vxe.custom.cstmDragTarget",[fe&&fe.type!=="html"?fe.getTitle():""]))])])])},we=()=>{const fe=d.xeGrid,{customStore:he}=e,{isCustomStatus:Te,customColumnList:me}=m,le=i.value,{immediate:Fe}=le,Re=s.value,{maxHeight:Ye}=he,{checkMethod:Ge,visibleMethod:je,allowVisible:Le,allowSort:nt,allowFixed:Et,trigger:bt,placement:ut}=le,it=O.value,{isCrossDrag:mt}=Re,Je=le.slots||{},Ne=Je.header,Ue=Je.top,ft=Je.bottom,Ae=Je.default,Me=Je.footer,He=[],gt={},Qe=he.isAll,ae=he.isIndeterminate;bt==="hover"&&(gt.onMouseenter=D,gt.onMouseleave=F);const be={$table:d,$grid:fe,columns:me,isAllChecked:Qe,isAllIndeterminate:ae,isCustomStatus:Te};return f.eachTree(me,(re,Ie,Be,tt,lt)=>{if(je?je({$table:d,column:re}):!0){const ht=re.renderVisible,Lt=re.halfVisible,Tt=re.children&&re.children.length,$e=Cr(re.getTitle(),1),Bt=Ge?!Ge({$table:d,column:re}):!1,Pt=!ht;He.push(C("li",{key:re.id,colid:re.id,class:["vxe-table-custom--option",`level--${re.level}`,{"is--hidden":Bt||Pt,"is--group":Tt}],onDragstart:ce,onDragend:ne,onDragover:oe},[Le?C("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ht,"is--indeterminate":Lt,"is--disabled":Bt}],title:Xt("vxe.custom.setting.colVisible"),onClick:()=>{Bt||Ce(re)}},[C("span",{class:["vxe-checkbox--icon",Lt?mr().TABLE_CHECKBOX_INDETERMINATE:ht?mr().TABLE_CHECKBOX_CHECKED:mr().TABLE_CHECKBOX_UNCHECKED]})]):ot(),C("div",{class:"vxe-table-custom--name-option"},[nt&&(mt&&Fe||re.level===1)?C("div",{class:"vxe-table-custom--sort-option"},[C("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":Bt||Pt||re.renderFixed}],title:Xt("vxe.custom.setting.sortHelpTip")},Bt||Pt||re.renderFixed?{}:{onMousedown:G,onMouseup:de}),[C("i",{class:mr().TABLE_CUSTOM_SORT})])]):ot(),re.type==="html"?C("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:$e}):C("div",{key:"0",class:"vxe-table-custom--checkbox-label"},$e)]),!lt&&Et?C("div",{class:"vxe-table-custom--fixed-option"},[n?C(n,{mode:"text",icon:re.renderFixed==="left"?mr().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:mr().TOOLBAR_TOOLS_FIXED_LEFT,status:re.renderFixed==="left"?"primary":"",disabled:Bt||Pt||it&&!re.renderFixed,title:Xt(re.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{ue(re,"left")}}):ot(),n?C(n,{mode:"text",icon:re.renderFixed==="right"?mr().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:mr().TOOLBAR_TOOLS_FIXED_RIGHT,status:re.renderFixed==="right"?"primary":"",disabled:Bt||Pt||it&&!re.renderFixed,title:Xt(re.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{ue(re,"right")}}):ot()]):ot()]))}}),C("div",{ref:T,key:"simple",class:["vxe-table-custom-wrapper",`placement--${ut}`,{"is--active":he.visible}],style:Ye&&!["left","right"].includes(ut)?{maxHeight:`${Ye}px`}:{}},he.visible?[C("div",{class:"vxe-table-custom--header"},Ne?d.callSlot(Ne,be):[C("ul",{class:"vxe-table-custom--panel-list"},[C("li",{class:"vxe-table-custom--option"},[Le?C("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Qe,"is--indeterminate":ae}],title:Xt("vxe.table.allTitle"),onClick:pe},[C("span",{class:["vxe-checkbox--icon",ae?mr().TABLE_CHECKBOX_INDETERMINATE:Qe?mr().TABLE_CHECKBOX_CHECKED:mr().TABLE_CHECKBOX_UNCHECKED]}),C("span",{class:"vxe-checkbox--label"},Xt("vxe.toolbar.customAll"))]):C("span",{class:"vxe-checkbox--label"},Xt("vxe.table.customTitle"))])])]),C("div",{ref:q,class:"vxe-table-custom--body"},[Ue?C("div",{class:"vxe-table-custom--panel-top"},d.callSlot(Ue,be)):Li(d),Ae?C("div",{class:"vxe-table-custom--panel-body"},d.callSlot(Ae,be)):C(Ml,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},gt),{default:()=>He}),ft?C("div",{class:"vxe-table-custom--panel-bottom"},d.callSlot(ft,be)):Li(d),ie()]),le.showFooter?C("div",{class:"vxe-table-custom--footer"},Me?d.callSlot(Me,be):[C("div",{class:"vxe-table-custom--footer-buttons"},[n?C(n,{mode:"text",content:le.resetButtonText||Xt("vxe.table.customRestore"),disabled:!Te,onClick:X}):ot(),Fe?n?C(n,{mode:"text",content:le.closeButtonText||Xt("vxe.table.customClose"),onClick:j}):ot():n?C(n,{mode:"text",content:le.cancelButtonText||Xt("vxe.table.customCancel"),onClick:K}):ot(),Fe?ot():n?C(n,{mode:"text",status:"primary",content:le.confirmButtonText||Xt("vxe.table.customConfirm"),onClick:H}):ot()])]):null]:[])},se=()=>{const fe=d.xeGrid,{customStore:he}=e,{resizable:Te}=v,{isCustomStatus:me,customColumnList:le}=m,Fe=i.value,{immediate:Re}=Fe,Ye=s.value,{mode:Ge,modalOptions:je,drawerOptions:Le,allowVisible:nt,allowSort:Et,allowFixed:bt,allowResizable:ut,checkMethod:it,visibleMethod:mt}=Fe,Je=y.value,{maxFixedSize:Ne}=Je,Ue=S.value,{minWidth:ft,maxWidth:Ae}=Ue,Me=Object.assign({},je),He=Object.assign({},Le),gt=O.value,{isCrossDrag:Qe}=Ye,ae=Fe.slots||{},be=ae.header,re=ae.top,Ie=ae.bottom,Be=ae.default,tt=ae.footer,lt=[],xt=he.isAll,ht=he.isIndeterminate,Lt={$table:d,$grid:fe,columns:le,isAllChecked:xt,isAllIndeterminate:ht,isCustomStatus:me};f.eachTree(le,($e,Bt,Pt,Ut,Zt)=>{if(mt?mt({$table:d,column:$e}):!0){let ar=0,Ot=0;if(ut){const kt={$table:d,column:$e,columnIndex:Bt,$columnIndex:Bt,$rowIndex:-1};ft&&(ar=f.toNumber(f.isFunction(ft)?ft(kt):ft)),Ae&&(Ot=f.toNumber(f.isFunction(Ae)?Ae(kt):Ae))}const Qt=$e.renderVisible,et=$e.halfVisible,Ht=Cr($e.getTitle(),1),dr=$e.children&&$e.children.length,Ft=it?!it({$table:d,column:$e}):!1,cr=!Qt;lt.push(C("tr",{key:$e.id,colid:$e.id,class:[`vxe-table-custom-popup--row level--${$e.level}`,{"is--group":dr}],onDragstart:ce,onDragend:ne,onDragover:oe},[nt?C("td",{class:"vxe-table-custom-popup--column-item col--visible"},[C("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Qt,"is--indeterminate":et,"is--disabled":Ft}],title:Xt("vxe.custom.setting.colVisible"),onClick:()=>{Ft||Ce($e)}},[C("span",{class:["vxe-checkbox--icon",et?mr().TABLE_CHECKBOX_INDETERMINATE:Qt?mr().TABLE_CHECKBOX_CHECKED:mr().TABLE_CHECKBOX_UNCHECKED]})])]):ot(),C("td",{class:"vxe-table-custom-popup--column-item col--name"},[C("div",{class:"vxe-table-custom-popup--name"},[Et?Qe&&Re||$e.level===1?C("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":Ft||cr||$e.renderFixed}],title:Xt("vxe.custom.setting.sortHelpTip")},Ft||cr||$e.renderFixed?{}:{onMousedown:G,onMouseup:de}),[C("i",{class:mr().TABLE_CUSTOM_SORT})]):C("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):ot(),$e.type==="html"?C("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:Ht}):C("div",{key:"0",class:"vxe-table-custom-popup--title",title:Ht},Ht)])]),ut?C("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[$e.children&&$e.children.length||!(f.isBoolean($e.resizable)?$e.resizable:Je.resizable||Te)?C("span","-"):u?C(u,{type:"integer",immediate:!1,disabled:Ft||cr,modelValue:$e.renderResizeWidth,min:ar||void 0,max:Ot||void 0,"onUpdate:modelValue"(kt){const lr=Math.max(0,Number(kt));$e.renderResizeWidth=lr},onChange(){xe($e)}}):ot()]):ot(),bt?C("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[Zt?C("span","-"):c?C(c,{modelValue:$e.renderFixed||"",type:"button",size:"mini",disabled:Ft||cr,options:[{label:Xt("vxe.custom.setting.fixedLeft"),value:"left",disabled:Ft||cr||gt},{label:Xt("vxe.custom.setting.fixedUnset"),value:"",disabled:Ft||cr},{label:Xt("vxe.custom.setting.fixedRight"),value:"right",disabled:Ft||cr||gt}],"onUpdate:modelValue"(kt){ue($e,kt)}}):ot()]):ot()]))}});const Tt={default:()=>Be?d.callSlot(Be,Lt):C("div",{ref:q,class:"vxe-table-custom-popup--body"},[re?C("div",{class:"vxe-table-custom-popup--table-top"},d.callSlot(re,Lt)):Li(d),C("div",{class:"vxe-table-custom-popup--table-wrapper"},[C("table",{},[C("colgroup",{},[nt?C("col",{class:"vxe-table-custom-popup--table-col-seq"}):ot(),C("col",{class:"vxe-table-custom-popup--table-col-title"}),ut?C("col",{class:"vxe-table-custom-popup--table-col-width"}):ot(),bt?C("col",{class:"vxe-table-custom-popup--table-col-fixed"}):ot()]),C("thead",{},[C("tr",{},[nt?C("th",{},[C("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":xt,"is--indeterminate":ht}],title:Xt("vxe.table.allTitle"),onClick:pe},[C("span",{class:["vxe-checkbox--icon",ht?mr().TABLE_CHECKBOX_INDETERMINATE:xt?mr().TABLE_CHECKBOX_CHECKED:mr().TABLE_CHECKBOX_UNCHECKED]}),C("span",{class:"vxe-checkbox--label"},Xt("vxe.toolbar.customAll"))])]):ot(),C("th",{},Xt("vxe.custom.setting.colTitle")),ut?C("th",{},Xt("vxe.custom.setting.colResizable")):ot(),bt?C("th",{},Xt(`vxe.custom.setting.${Ne?"colFixedMax":"colFixed"}`,[Ne])):ot()])]),C(Ml,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>lt})])]),Ie?C("div",{class:"vxe-table-custom-popup--table-bottom"},d.callSlot(Ie,Lt)):Li(d),ie()]),footer:()=>tt?d.callSlot(tt,Lt):C("div",{class:"vxe-table-custom-popup--footer"},[n?C(n,{content:Fe.resetButtonText||Xt("vxe.custom.cstmRestore"),disabled:!me,onClick:X}):ot(),Re?n?C(n,{content:Fe.closeButtonText||Xt("vxe.table.customClose"),onClick:j}):ot():n?C(n,{content:Fe.cancelButtonText||Xt("vxe.table.customCancel"),onClick:K}):ot(),Re?ot():n?C(n,{status:"primary",content:Fe.confirmButtonText||Xt("vxe.custom.cstmConfirm"),onClick:H}):ot()])};return be&&(Tt.header=()=>d.callSlot(be,Lt)),Ge==="drawer"?o?C(o,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",He.className||""].join(" "),modelValue:he.visible,title:He.title||Xt("vxe.custom.cstmTitle"),width:He.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:He.position,resize:!!He.resize,escClosable:!!He.escClosable,maskClosable:!!He.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"($e){he.visible=$e}},Tt):ot():t?C(t,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",Me.className||""].join(" "),modelValue:he.visible,title:Me.title||Xt("vxe.custom.cstmTitle"),width:Me.width||Math.min(880,document.documentElement.clientWidth),minWidth:Me.minWidth||700,height:Me.height||Math.min(680,document.documentElement.clientHeight),minHeight:Me.minHeight||400,showZoom:Me.showZoom,showMaximize:Me.showMaximize,showMinimize:Me.showMinimize,mask:Me.mask,lockView:Me.lockView,resize:Me.resize,escClosable:!!Me.escClosable,maskClosable:!!Me.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"($e){he.visible=$e}},Tt):ot()},Oe=()=>{const fe=i.value;return["modal","drawer","popup"].includes(`${fe.mode}`)?se():we()};return ge(()=>{const fe=i.value,{mode:he}=fe;t||Ze("vxe.error.reqComp",["vxe-modal"]),!o&&he==="drawer"&&Ze("vxe.error.reqComp",["vxe-drawer"]),n||Ze("vxe.error.reqComp",["vxe-button"]),u||Ze("vxe.error.reqComp",["vxe-number-input"]),c||Ze("vxe.error.reqComp",["vxe-radio-group"])}),Oe}}),{getI18n:Hi,getIcon:ti,renderer:Fm}=ve,mR=lo({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e,t){const o=f.uniqueId(),n=Lr("$xeTable",{}),{reactData:u,internalData:c,getComputeMaps:d}=n,{computeFilterOpts:v}=d(),m=ze(),x={refElem:m},i={xID:o,props:e,context:t,getRefMaps:()=>x},s=_e(()=>{const{filterStore:D}=e;return D&&D.options.some(F=>F.checked)}),y=(D,F)=>{const{filterStore:H}=e;H.options.forEach(j=>{j._checked=F,j.checked=F}),H.isAllSelected=F,H.isIndeterminate=!1},O=D=>{n.handleFilterConfirmFilter(D)},S=(D,F,H)=>{n.handleFilterChangeRadioOption(D,F,H)},T=D=>{n.handleFilterResetFilter(D)},q=(D,F,H)=>{n.handleFilterChangeMultipleOption(D,F,H)},A=(D,F,H)=>{n.handleFilterChangeOption(D,F,H)},_=(D,F)=>{const{filterStore:H}=e;H.multiple?y(D,F):T(D)};Object.assign(i,{changeRadioOption:S,changeMultipleOption:q,changeAllOption:_,changeOption:A,confirmFilter:O,resetFilter:T});const U=(D,F)=>{const{filterStore:H}=e,{column:j,multiple:K,maxHeight:k}=H,X=j?j.slots:null,J=X?X.filter:null,Ce=Object.assign({},c._currFilterParams,{$panel:i,$table:n}),xe=F?F.renderTableFilter||F.renderFilter:null;if(J)return[C("div",{class:"vxe-table--filter-template",style:k?{maxHeight:`${k}px`}:{}},n.callSlot(J,Ce))];if(xe)return[C("div",{class:"vxe-table--filter-template",style:k?{maxHeight:`${k}px`}:{}},Ar(xe(D,Ce)))];const ue=K?H.isAllSelected:!H.options.some(Se=>Se._checked),pe=K&&H.isIndeterminate;return[C("ul",{class:"vxe-table--filter-header"},[C("li",{class:["vxe-table--filter-option",{"is--checked":ue,"is--indeterminate":pe}],title:Hi(K?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:Se=>{_(Se,!H.isAllSelected)}},(K?[C("span",{class:["vxe-checkbox--icon",pe?ti().TABLE_CHECKBOX_INDETERMINATE:ue?ti().TABLE_CHECKBOX_CHECKED:ti().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([C("span",{class:"vxe-checkbox--label"},Hi("vxe.table.allFilter"))]))]),C("ul",{class:"vxe-table--filter-body",style:k?{maxHeight:`${k}px`}:{}},H.options.map(Se=>{const Ee=Se._checked;return C("li",{class:["vxe-table--filter-option",{"is--checked":Se._checked}],title:Se.label,onClick:G=>{A(G,!Se._checked,Se)}},(K?[C("span",{class:["vxe-checkbox--icon",Ee?ti().TABLE_CHECKBOX_CHECKED:ti().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([C("span",{class:"vxe-checkbox--label"},Cr(Se.label,1))]))}))]},te=()=>{const{filterStore:D}=e,{column:F,multiple:H}=D,j=v.value,K=s.value,{filterRender:k}=F,X=Ct(k)?Fm.get(k.name):null,J=!K&&!D.isAllSelected&&!D.isIndeterminate;return H&&(!X||!(X.showTableFilterFooter===!1||X.showFilterFooter===!1||X.isFooter===!1))?[C("div",{class:"vxe-table--filter-footer"},[C("button",{class:{"is--disabled":J},disabled:J,onClick:O},j.confirmButtonText||Hi("vxe.table.confirmFilter")),C("button",{onClick:T},j.resetButtonText||Hi("vxe.table.resetFilter"))])]:[]},Y=()=>{const{filterStore:D}=e,{initStore:F}=u,{visible:H,multiple:j,column:K}=D,k=K?K.filterRender:null,X=Ct(k)?Fm.get(k.name):null,J=X?X.tableFilterClassName||X.filterClassName:"",Ce=Object.assign({},c._currFilterParams,{$panel:i,$table:n}),xe=n.props,{computeSize:ue}=n.getComputeMaps(),pe=ue.value,Se=v.value,{transfer:Ee,destroyOnClose:G}=Se;return C(Km,{to:"body",disabled:!Ee},[C("div",{ref:m,class:["vxe-table--filter-wrapper","filter--prevent-default",bn(J,Ce),{[`size--${pe}`]:pe,"is--animat":xe.animat,"is--multiple":j,"is--active":H}],style:D.style},F.filter&&(!G||H)&&K?U(k,X).concat(te()):[])])};return i.renderVN=Y,i},render(){return this.renderVN()}}),{getI18n:Nn,getIcon:bR}=ve,xR=lo({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=ve.getComponent("VxeModal"),o=ve.getComponent("VxeButton"),n=ve.getComponent("VxeSelect"),u=Lr("$xeTable",{}),{computeImportOpts:c}=u.getComputeMaps(),d=Co({loading:!1}),v=ze(),m=_e(()=>{const{storeData:A}=e;return`${A.filename}.${A.type}`}),x=_e(()=>{const{storeData:A}=e;return A.file&&A.type}),i=_e(()=>{const{storeData:A}=e,{type:_,typeList:W}=A;if(_){const U=f.find(W,te=>_===te.value);return U?U.label:"*.*"}return`*.${W.map(U=>U.value).join(", *.")}`}),s=()=>{const{storeData:A}=e;Object.assign(A,{filename:"",sheetName:"",type:""})},y=()=>{const{storeData:A,defaultOptions:_}=e;u.readFile(_).then(W=>{const{file:U}=W;Object.assign(A,Dx(U),{file:U})}).catch(W=>W)},O=()=>{ge(()=>{const A=v.value;A&&A.focus()})},S=()=>{const{storeData:A}=e;A.visible=!1},T=()=>{const{storeData:A,defaultOptions:_}=e,W=c.value;d.loading=!0,u.importByFile(A.file,Object.assign({},W,_)).then(()=>{d.loading=!1,A.visible=!1}).catch(()=>{d.loading=!1})},q=()=>{const A=u.xeGrid,{defaultOptions:_,storeData:W}=e,U=m.value,te=x.value,Y=i.value,D=_.slots||{},F=D.top,H=D.bottom,j=D.default,K=D.footer;return t?C(t,{id:"VXE_IMPORT_MODAL",modelValue:W.visible,title:Nn("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:d.loading,"onUpdate:modelValue"(k){W.visible=k},onShow:O},{default:()=>{const k={$table:u,$grid:A,options:_,params:_.params};return C("div",{class:"vxe-table-export--panel"},[F?C("div",{class:"vxe-table-export--panel-top"},u.callSlot(F,k)):ot(),C("div",{class:"vxe-table-export--panel-body"},j?u.callSlot(j,k):[C("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[C("tbody",[C("tr",[C("td",Nn("vxe.import.impFile")),C("td",[te?C("div",{class:"vxe-table-export--selected--file",title:U},[C("span",U),C("i",{class:bR().INPUT_CLEAR,onClick:s})]):C("button",{ref:v,class:"vxe-table-export--select--file",onClick:y},Nn("vxe.import.impSelect"))])]),C("tr",[C("td",Nn("vxe.import.impType")),C("td",Y)]),C("tr",[C("td",Nn("vxe.import.impMode")),C("td",[n?C(n,{modelValue:_.mode,options:W.modeList,"onUpdate:modelValue"(X){_.mode=X}}):ot()])])])])]),H?C("div",{class:"vxe-table-export--panel-bottom"},u.callSlot(H,k)):ot()])},footer(){const k={$table:u,$grid:A,options:_,params:_.params};return C("div",{class:"vxe-table-export--panel-footer"},K?u.callSlot(K,k):[C("div",{class:"vxe-table-export--panel-btns"},[o?C(o,{content:Nn("vxe.import.impCancel"),onClick:S}):ot(),o?C(o,{status:"primary",disabled:!te||d.loading,content:Nn("vxe.import.impConfirm"),onClick:T}):ot()])])}}):ot()};return ge(()=>{t||Ze("vxe.error.reqComp",["vxe-modal"]),o||Ze("vxe.error.reqComp",["vxe-button"]),n||Ze("vxe.error.reqComp",["vxe-select"])}),q}}),{getI18n:Jt,getIcon:hl}=ve,CR=lo({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=ve.getComponent("VxeModal"),o=ve.getComponent("VxeButton"),n=ve.getComponent("VxeSelect"),u=ve.getComponent("VxeInput"),c=ve.getComponent("VxeCheckbox"),d=Lr("$xeTable",{}),{computeExportOpts:v,computePrintOpts:m}=d.getComputeMaps(),x=Co({isAll:!1,isIndeterminate:!1,loading:!1}),i=ze(),s=ze(),y=ze(),O=_e(()=>{const{storeData:k}=e;return k.columns.every(X=>X.checked)}),S=_e(()=>{const{defaultOptions:k}=e;return["html","xml","xlsx","pdf"].indexOf(k.type)>-1}),T=_e(()=>{const{storeData:k,defaultOptions:X}=e;return!X.original&&X.mode==="current"&&(k.isPrint||["html","xlsx"].indexOf(X.type)>-1)}),q=_e(()=>{const{defaultOptions:k}=e;return!k.original&&["xlsx"].indexOf(k.type)>-1}),A=k=>{const{storeData:X}=e,J=f.findTree(X.columns,Ce=>Ce===k);if(J&&J.parent){const{parent:Ce}=J;Ce.children&&Ce.children.length&&(Ce.checked=Ce.children.every(xe=>xe.checked),Ce.halfChecked=!Ce.checked&&Ce.children.some(xe=>xe.checked||xe.halfChecked),A(Ce))}},_=()=>{const{storeData:k}=e,X=k.columns;x.isAll=X.every(J=>J.disabled||J.checked),x.isIndeterminate=!x.isAll&&X.some(J=>!J.disabled&&(J.checked||J.halfChecked))},W=k=>{const X=!k.checked;f.eachTree([k],J=>{J.checked=X,J.halfChecked=!1}),A(k),_()},U=()=>{const{storeData:k}=e,X=!x.isAll;f.eachTree(k.columns,J=>{J.disabled||(J.checked=X,J.halfChecked=!1)}),x.isAll=X,_()},te=()=>{ge(()=>{const k=s.value,X=y.value,J=i.value,Ce=k||X||J;Ce&&Ce.focus()}),_()},Y=()=>{const{storeData:k,defaultOptions:X}=e,{hasMerge:J,columns:Ce}=k,xe=O.value,ue=T.value,pe=f.searchTree(Ce,Se=>Se.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},X,{columns:pe,isMerge:J&&ue&&xe?X.isMerge:!1})},D=()=>{const{storeData:k}=e,X=m.value;k.visible=!1,d.print(Object.assign({},X,Y()))},F=()=>{const{storeData:k}=e,X=v.value;x.loading=!0,d.exportData(Object.assign({},X,Y())).then(()=>{x.loading=!1,k.visible=!1}).catch(()=>{x.loading=!1})},H=()=>{const{storeData:k}=e;k.visible=!1},j=()=>{const{storeData:k}=e;k.isPrint?D():F()},K=()=>{const k=d.xeGrid,{defaultOptions:X,storeData:J}=e,{isAll:Ce,isIndeterminate:xe}=x,{hasTree:ue,hasMerge:pe,isPrint:Se,hasColgroup:Ee,columns:G}=J,{isHeader:de}=X,ce=[],ne=O.value,oe=S.value,ie=T.value,we=q.value,se=X.slots||{},Oe=se.top,fe=se.bottom,he=se.default,Te=se.footer,me=se.parameter;return f.eachTree(G,le=>{const Fe=Cr(le.getTitle(),1),Re=le.children&&le.children.length,Ye=le.checked,Ge=le.halfChecked,je=le.type==="html";ce.push(C("li",{key:le.id,class:["vxe-table-export--panel-column-option",`level--${le.level}`,{"is--group":Re,"is--checked":Ye,"is--indeterminate":Ge,"is--disabled":le.disabled}],title:je?"":Fe,onClick:()=>{le.disabled||W(le)}},[C("span",{class:["vxe-checkbox--icon",Ge?hl().TABLE_CHECKBOX_INDETERMINATE:Ye?hl().TABLE_CHECKBOX_CHECKED:hl().TABLE_CHECKBOX_UNCHECKED]}),je?C("span",{key:"1",class:"vxe-checkbox--label",innerHTML:Fe}):C("span",{key:"0",class:"vxe-checkbox--label"},Fe)]))}),t?C(t,{id:"VXE_EXPORT_MODAL",modelValue:J.visible,title:Jt(Se?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:x.loading,"onUpdate:modelValue"(le){J.visible=le},onShow:te},{default:()=>{const le={$table:d,$grid:k,options:X,columns:G,params:X.params},Fe=X.mode==="empty";return C("div",{class:"vxe-table-export--panel"},[Oe?C("div",{class:"vxe-table-export--panel-top"},d.callSlot(Oe,le)):ot(),C("div",{class:"vxe-table-export--panel-body"},he?d.callSlot(he,le):[C("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[C("tbody",[[Se?ot():C("tr",[C("td",Jt("vxe.export.expName")),C("td",[u?C(u,{ref:s,modelValue:X.filename,type:"text",clearable:!0,placeholder:Jt("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(Re){X.filename=Re}}):ot()])]),Se?ot():C("tr",[C("td",Jt("vxe.export.expType")),C("td",[n?C(n,{modelValue:X.type,options:J.typeList,"onUpdate:modelValue"(Re){X.type=Re}}):ot()])]),Se||oe?C("tr",[C("td",Jt("vxe.export.expSheetName")),C("td",[u?C(u,{ref:y,modelValue:X.sheetName,type:"text",clearable:!0,placeholder:Jt("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(Re){X.sheetName=Re}}):ot()])]):ot(),C("tr",[C("td",Jt("vxe.export.expMode")),C("td",[n?C(n,{modelValue:X.mode,options:J.modeList.map(Re=>({value:Re.value,label:Jt(Re.label)})),"onUpdate:modelValue"(Re){X.mode=Re}}):ot()])]),C("tr",[C("td",[Jt("vxe.export.expColumn")]),C("td",[C("div",{class:"vxe-table-export--panel-column"},[C("ul",{class:"vxe-table-export--panel-column-header"},[C("li",{class:["vxe-table-export--panel-column-option",{"is--checked":Ce,"is--indeterminate":xe}],title:Jt("vxe.table.allTitle"),onClick:U},[C("span",{class:["vxe-checkbox--icon",xe?hl().TABLE_CHECKBOX_INDETERMINATE:Ce?hl().TABLE_CHECKBOX_CHECKED:hl().TABLE_CHECKBOX_UNCHECKED]}),C("span",{class:"vxe-checkbox--label"},Jt("vxe.export.expCurrentColumn"))])]),C("ul",{class:"vxe-table-export--panel-column-body"},ce)])])]),C("tr",[C("td",Jt("vxe.export.expOpts")),me?C("td",[C("div",{class:"vxe-table-export--panel-option-row"},d.callSlot(me,le))]):C("td",[C("div",{class:"vxe-table-export--panel-option-row"},[c?C(c,{modelValue:Fe||de,disabled:Fe,title:Jt("vxe.export.expHeaderTitle"),content:Jt("vxe.export.expOptHeader"),"onUpdate:modelValue"(Re){X.isHeader=Re}}):ot(),c?C(c,{modelValue:de?X.isTitle:!1,disabled:!de,title:Jt("vxe.export.expTitleTitle"),content:Jt("vxe.export.expOptTitle"),"onUpdate:modelValue"(Re){X.isTitle=Re}}):ot(),c?C(c,{modelValue:de&&Ee&&ie?X.isColgroup:!1,title:Jt("vxe.export.expColgroupTitle"),disabled:!de||!Ee||!ie,content:Jt("vxe.export.expOptColgroup"),"onUpdate:modelValue"(Re){X.isColgroup=Re}}):ot()]),C("div",{class:"vxe-table-export--panel-option-row"},[c?C(c,{modelValue:Fe?!1:X.original,disabled:Fe,title:Jt("vxe.export.expOriginalTitle"),content:Jt("vxe.export.expOptOriginal"),"onUpdate:modelValue"(Re){X.original=Re}}):ot(),c?C(c,{modelValue:pe&&ie&&ne?X.isMerge:!1,title:Jt("vxe.export.expMergeTitle"),disabled:Fe||!pe||!ie||!ne,content:Jt("vxe.export.expOptMerge"),"onUpdate:modelValue"(Re){X.isMerge=Re}}):ot(),Se||!c?ot():C(c,{modelValue:we?X.useStyle:!1,disabled:!we,title:Jt("vxe.export.expUseStyleTitle"),content:Jt("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(Re){X.useStyle=Re}}),c?C(c,{modelValue:ue?X.isAllExpand:!1,disabled:Fe||!ue,title:Jt("vxe.export.expAllExpandTitle"),content:Jt("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(Re){X.isAllExpand=Re}}):ot()]),C("div",{class:"vxe-table-export--panel-option-row"},[c?C(c,{modelValue:X.isFooter,disabled:!J.hasFooter,title:Jt("vxe.export.expFooterTitle"),content:Jt("vxe.export.expOptFooter"),"onUpdate:modelValue"(Re){X.isFooter=Re}}):ot()])])])]])])]),fe?C("div",{class:"vxe-table-export--panel-bottom"},d.callSlot(fe,le)):ot()])},footer(){const le={$table:d,$grid:k,options:X,columns:G,params:X.params};return C("div",{class:"vxe-table-export--panel-footer"},Te?d.callSlot(Te,le):[C("div",{class:"vxe-table-export--panel-btns"},[o?C(o,{content:Jt("vxe.export.expCancel"),onClick:H}):ot(),o?C(o,{ref:i,status:"primary",content:Jt(Se?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:j}):ot()])])}}):ot()};return ge(()=>{t||Ze("vxe.error.reqComp",["vxe-modal"]),o||Ze("vxe.error.reqComp",["vxe-button"]),n||Ze("vxe.error.reqComp",["vxe-select"]),u||Ze("vxe.error.reqComp",["vxe-input"]),c||Ze("vxe.error.reqComp",["vxe-checkbox"])}),K}}),{getIcon:wR}=ve,yR=lo({name:"VxeTableMenuPanel",setup(e,t){const o=f.uniqueId(),n=Lr("$xeTable",{}),{reactData:u}=n,c=ze(),d={refElem:c},v={xID:o,props:e,context:t,getRefMaps:()=>d},m=()=>{const{ctxMenuStore:x}=u,{computeMenuOpts:i}=n.getComputeMaps(),s=i.value;return C(Km,{to:"body",disabled:!1},[C("div",{ref:c,class:["vxe-table--context-menu-wrapper",s.className,{"is--visible":x.visible}],style:x.style},x.list.map((y,O)=>y.every(S=>S.visible===!1)?ot():C("ul",{class:"vxe-context-menu--option-wrapper",key:O},y.map((S,T)=>{const q=S.children&&S.children.some(U=>U.visible!==!1),A=Object.assign({},S.prefixConfig),_=Object.assign({},S.suffixConfig),W=Po(S.name);return S.visible===!1?null:C("li",{class:[S.className,{"link--disabled":S.disabled,"link--active":S===x.selected}],key:`${O}_${T}`},[C("a",{class:"vxe-context-menu--link",onClick(U){n.ctxMenuLinkEvent(U,S)},onMouseover(U){n.ctxMenuMouseoverEvent(U,S)},onMouseout(U){n.ctxMenuMouseoutEvent(U,S)}},[C("div",{class:["vxe-context-menu--link-prefix",A.className||""]},[C("i",{class:A.icon||S.prefixIcon}),A.content?C("span",{},`${A.content}`):ot()]),C("div",{class:"vxe-context-menu--link-content",title:W},W),C("div",{class:["vxe-context-menu--link-suffix",_.className||""]},[C("i",{class:_.icon||S.suffixIcon||(q?wR().TABLE_MENU_OPTIONS:"")}),_.content?C("span",`${_.content}`):ot()])]),q?C("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":S===x.selected&&x.showChild}]},S.children.map((U,te)=>{const Y=Object.assign({},U.prefixConfig),D=Object.assign({},U.suffixConfig),F=Po(U.name);return U.visible===!1?null:C("li",{class:[U.className,{"link--disabled":U.disabled,"link--active":U===x.selectChild}],key:`${O}_${T}_${te}`},[C("a",{class:"vxe-context-menu--link",onClick(H){n.ctxMenuLinkEvent(H,U)},onMouseover(H){n.ctxMenuMouseoverEvent(H,S,U)},onMouseout(H){n.ctxMenuMouseoutEvent(H,S)}},[C("div",{class:["vxe-context-menu--link-prefix",Y.className||""]},[C("i",{class:Y.icon||U.prefixIcon}),Y.content?C("span",`${Y.content}`):ot()]),C("div",{class:"vxe-context-menu--link-content",title:F},F),C("div",{class:["vxe-context-menu--link-suffix",D.className||""]},[C("i",{class:D.icon}),D.content?C("span",`${D.content}`):ot()])])])})):null])}))))])};return v.renderVN=m,v},render(){return this.renderVN()}}),{getConfig:Dt,getIcon:qi,getI18n:Fo,renderer:Im,formats:km,createEvent:ER,globalResize:RR,interceptor:Am,hooks:SR,globalEvents:Kt,GLOBAL_EVENT_KEYS:oo,useFns:OR,renderEmptyElement:kr}=ve,Lm=5e6,Hm="VXE_CUSTOM_STORE",Pn=5e6,pl=5e6,Vn=lo({name:"VxeTable",props:Ki,emits:Df,setup(e,t){const{slots:o,emit:n}=t,u=f.uniqueId(),c=f.browse(),d=ve.getComponent("VxeLoading"),v=ve.getComponent("VxeTooltip"),m=Lr("$xeTabs",null),{computeSize:x}=OR.useSize(e),i=Co({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),s={tZindex:0,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeBodyList:[],mergeBodyMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeBodyCellMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let y={},O={};const S=ze(),T=ze(),q=ze(),A=ze(),_=ze(),W=ze(),U=ze(),te=ze(),Y=ze(),D=ze(),F=ze(),H=ze(),j=ze(),K=ze(),k=ze(),X=ze(),J=ze(),Ce=ze(),xe=ze(),ue=ze(),pe=ze(),Se=ze(),Ee=ze(),G=ze(),de=ze(),ce=ze(),ne=ze(),oe=ze(),ie=ze(),we=ze(),se=ze(),Oe=ze(),fe=ze(),he=ze(),Te=ze(),me=ze(),le=ze(),Fe=ze(),Re=ze(),Ye=ze(),Ge=Lr("$xeGrid",null);let je;const Le=_e(()=>{const{id:r}=e;return r?f.isFunction(r)?`${r({$table:h,$grid:Ge})||""}`:`${r}`:""}),nt=_e(()=>Object.assign({},Dt().table.validConfig,e.validConfig)),Et=_e(()=>it.value),bt=_e(()=>{const r=it.value,{threshold:l}=r;return l?f.toNumber(l):0}),ut=_e(()=>mt.value),it=_e(()=>Object.assign({},Dt().table.scrollX,Dt().table.virtualXConfig,e.scrollX,e.virtualXConfig)),mt=_e(()=>Object.assign({},Dt().table.scrollY,Dt().table.virtualYConfig,e.scrollY,e.virtualYConfig)),Je=_e(()=>Object.assign({},Dt().table.scrollbarConfig,e.scrollbarConfig)),Ne=_e(()=>{const r=Je.value;return!!(r.x&&r.x.position==="top")}),Ue=_e(()=>{const r=Je.value;return!!(r.y&&r.y.position==="left")}),ft=_e(()=>{const r=mt.value,{threshold:l}=r;return l?f.toNumber(l):0}),Ae=_e(()=>i.rowHeightStore),Me=_e(()=>{const r=x.value;return Ae.value[r||"default"]||18}),He=_e(()=>Object.assign({},Dt().table.columnConfig,e.columnConfig)),gt=_e(()=>Object.assign({},Dt().table.currentColumnConfig,e.currentColumnConfig)),Qe=_e(()=>{const r=Object.assign({},Dt().table.cellConfig,e.cellConfig);return r.height&&(r.height=f.toNumber(r.height)),r}),ae=_e(()=>{const r=Object.assign({},Dt().table.headerCellConfig,e.headerCellConfig),l=Qe.value;return r.height=f.toNumber(Xi(r.height||l.height)),r}),be=_e(()=>{const r=Object.assign({},Dt().table.footerCellConfig,e.footerCellConfig),l=Qe.value;return r.height=f.toNumber(Xi(r.height||l.height)),r}),re=_e(()=>Object.assign({},Dt().table.rowConfig,e.rowConfig)),Ie=_e(()=>Object.assign({},Dt().table.rowGroupConfig,e.rowGroupConfig)),Be=_e(()=>Object.assign({},Dt().table.currentRowConfig,e.currentRowConfig)),tt=_e(()=>Object.assign({},Dt().table.rowDragConfig,e.rowDragConfig)),lt=_e(()=>Object.assign({},Dt().table.columnDragConfig,e.columnDragConfig)),xt=_e(()=>Object.assign({},Dt().table.resizeConfig,e.resizeConfig)),ht=_e(()=>Object.assign({},Dt().table.resizableConfig,e.resizableConfig)),Lt=_e(()=>Object.assign({startIndex:0},Dt().table.seqConfig,e.seqConfig)),Tt=_e(()=>Object.assign({},Dt().table.radioConfig,e.radioConfig)),$e=_e(()=>Object.assign({},Dt().table.checkboxConfig,e.checkboxConfig)),Bt=_e(()=>Object.assign({},Dt().tooltip,Dt().table.tooltipConfig,e.tooltipConfig)),Pt=_e(()=>{const{tooltipStore:r}=i,l=Bt.value;return Object.assign({},l,r.currOpts)}),Ut=_e(()=>{const r=Bt.value;return Object.assign({},r)}),Zt=_e(()=>Object.assign({},Dt().table.editConfig,e.editConfig)),Yt=_e(()=>Object.assign({orders:["asc","desc",null]},Dt().table.sortConfig,e.sortConfig)),ar=_e(()=>Object.assign({},Dt().table.filterConfig,e.filterConfig)),Ot=_e(()=>Object.assign({},Dt().table.mouseConfig,e.mouseConfig)),Qt=_e(()=>Object.assign({},Dt().table.areaConfig,e.areaConfig)),et=_e(()=>Object.assign({},Dt().table.keyboardConfig,e.keyboardConfig)),Ht=_e(()=>Object.assign({},Dt().table.clipConfig,e.clipConfig)),dr=_e(()=>Object.assign({},Dt().table.fnrConfig,e.fnrConfig)),Ft=_e(()=>Object.assign({},Dt().table.menuConfig,e.menuConfig)),cr=_e(()=>{const{columnStore:r}=i,{leftList:l}=r;let a=0;for(let p=0;p<l.length;p++){const g=l[p];a+=g.renderWidth}return a}),kt=_e(()=>{const{columnStore:r}=i,{rightList:l}=r;let a=0;for(let p=0;p<l.length;p++){const g=l[p];a+=g.renderWidth}return a}),lr=_e(()=>{const l=Ft.value.header;return l&&l.options?l.options:[]}),gr=_e(()=>{const l=Ft.value.body;return l&&l.options?l.options:[]}),Wt=_e(()=>{const l=Ft.value.footer;return l&&l.options?l.options:[]}),er=_e(()=>{const r=Ft.value,l=lr.value,a=gr.value,p=Wt.value;return!!(e.menuConfig&&Ct(r)&&(l.length||a.length||p.length))}),Rr=_e(()=>{const{ctxMenuStore:r}=i,l=[];return r.list.forEach(a=>{a.forEach(p=>{l.push(p)})}),l}),vr=_e(()=>Object.assign({},Dt().table.exportConfig,e.exportConfig)),ir=_e(()=>Object.assign({},Dt().table.importConfig,e.importConfig)),wr=_e(()=>Object.assign({},Dt().table.printConfig,e.printConfig)),wt=_e(()=>Object.assign({},Dt().table.expandConfig,e.expandConfig)),st=_e(()=>Object.assign({},Dt().table.treeConfig,e.treeConfig)),fr=_e(()=>Object.assign({},Dt().table.emptyRender,e.emptyRender)),io=_e(()=>Object.assign({},Dt().table.loadingConfig,e.loadingConfig)),so=_e(()=>e.border?Math.max(2,Math.ceil(i.scrollbarWidth/i.tableColumn.length)):1),yr=_e(()=>Object.assign({},Dt().table.customConfig,e.customConfig)),Qo=_e(()=>{const{treeConfig:r}=e,{rowExpandedFlag:l,expandColumn:a,rowGroupExpandedFlag:p,treeExpandedFlag:g,isRowGroupStatus:b}=i,{visibleDataRowIdData:w,rowExpandedMaps:E}=s,R=st.value,{transform:M}=R,I=[];if(a&&l&&p&&g)if(b||r&&M)f.each(E,(N,P)=>{w[P]&&I.push(N)});else return f.values(E);return I}),Zn=_e(()=>{const{visibleColumn:r}=s,{tableColumn:l}=i;return l.length||r.length?r.filter(a=>a.width==="auto"||a.minWidth==="auto"):[]}),en=_e(()=>{const{tableColumn:r}=i,{collectColumn:l}=s;let a=0;return r.length&&l.length&&l.forEach(p=>{p.renderFixed&&a++}),a}),Jn=_e(()=>{const r=en.value,l=He.value,{maxFixedSize:a}=l;return a?r>=a:!1}),Qn=_e(()=>{const{border:r}=e;return r===!0?"full":r||"default"}),_l=_e(()=>{const{treeConfig:r}=e,{tableData:l}=i,{tableFullData:a}=s,p=$e.value,{strict:g,checkMethod:b}=p;return g?l.length||a.length?b?a.every(w=>!b({$table:h,row:w})):!1:!0:!1}),Nl=_e(()=>{const{overflowX:r,scrollXLoad:l,overflowY:a,scrollYLoad:p}=i;return{x:r&&l,y:a&&p}}),Pl=_e(()=>Ie.value.groupFields),el={refElem:S,refTooltip:q,refValidTooltip:_,refTableFilter:U,refTableCustom:te,refTableMenu:W,refTableHeader:D,refTableBody:F,refTableFooter:H,refTableLeftHeader:j,refTableLeftBody:K,refTableLeftFooter:k,refTableRightHeader:X,refTableRightBody:J,refTableRightFooter:Ce,refLeftContainer:xe,refRightContainer:ue,refColResizeBar:pe,refRowResizeBar:Se,refScrollXVirtualElem:ie,refScrollYVirtualElem:we,refScrollXHandleElem:se,refScrollYHandleElem:he,refScrollXSpaceElem:Re,refScrollYSpaceElem:Ye},tl={computeSize:x,computeTableId:Le,computeValidOpts:nt,computeVirtualXOpts:it,computeVirtualYOpts:mt,computeScrollbarOpts:Je,computeScrollbarXToTop:Ne,computeScrollbarYToLeft:Ue,computeColumnOpts:He,computeCurrentColumnOpts:gt,computeScrollXThreshold:bt,computeScrollYThreshold:ft,computeRowHeightMaps:Ae,computeDefaultRowHeight:Me,computeCellOpts:Qe,computeHeaderCellOpts:ae,computeFooterCellOpts:be,computeRowOpts:re,computeRowGroupOpts:Ie,computeCurrentRowOpts:Be,computeRowDragOpts:tt,computeColumnDragOpts:lt,computeResizeOpts:xt,computeResizableOpts:ht,computeSeqOpts:Lt,computeRadioOpts:Tt,computeCheckboxOpts:$e,computeTooltipOpts:Bt,computeEditOpts:Zt,computeSortOpts:Yt,computeFilterOpts:ar,computeMouseOpts:Ot,computeAreaOpts:Qt,computeKeyboardOpts:et,computeClipOpts:Ht,computeFNROpts:dr,computeHeaderMenu:lr,computeBodyMenu:gr,computeFooterMenu:Wt,computeIsMenu:er,computeMenuList:Rr,computeMenuOpts:Ft,computeExportOpts:vr,computeImportOpts:ir,computePrintOpts:wr,computeExpandOpts:wt,computeTreeOpts:st,computeEmptyOpts:fr,computeLoadingOpts:io,computeCellOffsetWidth:so,computeCustomOpts:yr,computeLeftFixedWidth:cr,computeRightFixedWidth:kt,computeFixedColumnSize:en,computeIsMaxFixedColumn:Jn,computeIsAllCheckboxDisabled:_l,computeVirtualScrollBars:Nl,computeSXOpts:Et,computeSYOpts:ut},h={xID:u,props:e,context:t,reactData:i,internalData:s,getRefMaps:()=>el,getComputeMaps:()=>tl,xeGrid:Ge,xegrid:Ge},rl=(r,l,a)=>{const p=f.get(r,a),g=f.get(l,a);return _o(p)&&_o(g)?!0:f.isString(p)||f.isNumber(p)?""+p==""+g:f.isEqual(p,g)},tn=r=>{const l=Yt.value,{orders:a}=l,p=r.order||null,g=a.indexOf(p)+1;return a[g<a.length?g:0]},rn=r=>{const l=Dt().version,a=f.toStringJSON(localStorage.getItem(Hm)||""),p=a&&a._v===l?a:{_v:l};return(r?p[r]:p)||{}},Ro=(r,l)=>{const a=Dt().version,p=rn();p[r]=l||void 0,p._v=a,localStorage.setItem(Hm,f.toJSONString(p))},on=r=>{const{fullAllDataRowIdData:l}=s,a={};return f.each(r,(p,g)=>{l[g]&&(a[g]=p)}),a},nn=r=>{const{fullDataRowIdData:l}=s,a=[];return f.each(r,(p,g)=>{l[g]&&h.findRowIndexOf(a,l[g].row)===-1&&a.push(l[g].row)}),a},Pr=()=>{const{isScrollXBig:r,scrollXWidth:l}=i,{elemStore:a,visibleColumn:p,fullColumnIdData:g}=s,b=cr.value,w=kt.value,E=rt(a["main-body-scroll"]);if(E){const R=E.clientWidth;let M=E.scrollLeft;r&&(M=Math.ceil((l-R)*Math.min(1,M/(pl-R))));const I=M+b,N=M+R-w;let P=0,$=p.length;for(;P<$;){const z=Math.floor((P+$)/2),ee=p[z].id;(g[ee]||{}).oLeft<=I?P=z+1:$=z}let V=0;const Q=Math.max(0,P<p.length?P-2:0);for(let z=Q,B=p.length;z<B;z++){const Z=p[z].id,L=g[Z]||{};if(V++,L.oLeft>N||V>=60)break}return{toVisibleIndex:Math.max(0,Q),visibleSize:Math.max(1,V)}}return{toVisibleIndex:0,visibleSize:6}},ln=(r,l)=>{const{rowHeightStore:a}=i;l&&l.clientHeight&&(a[r]=l.clientHeight)},On=()=>{const{isAllOverflow:r}=i,l=D.value,a=F.value,p=a?a.$el:null,g=Me.value;let b=0;if(r){if(p){const w=l?l.$el:null;let E;E=p.querySelector("tr"),!E&&w&&(E=w.querySelector("tr")),E&&(b=E.clientHeight)}b||(b=g)}else b=g;return Math.max(18,b)},Wo=()=>{const{isAllOverflow:r,expandColumn:l,isScrollYBig:a,scrollYHeight:p}=i,{elemStore:g,isResizeCellHeight:b,afterFullData:w,fullAllDataRowIdData:E}=s,R=re.value,M=Qe.value,I=Me.value,N=rt(g["main-body-scroll"]);if(N){const P=N.clientHeight;let $=N.scrollTop;a&&($=Math.ceil((p-P)*Math.min(1,$/(Pn-P))));const V=$,Q=$+P;let z=-1,B=0;if(!(b||M.height||R.height)&&!l&&r)z=Math.floor(V/I)-1,B=Math.ceil(P/I)+1;else{const{handleGetRowId:Z}=pr(h);let L=0,ke=w.length;for(;L<ke;){const ye=Math.floor((L+ke)/2),De=w[ye],Xe=Z(De);(E[Xe]||{}).oTop<=V?L=ye+1:ke=ye}z=Math.max(0,L<w.length?L-2:0);for(let ye=z,De=w.length;ye<De;ye++){const Xe=w[ye],Pe=Z(Xe),We=E[Pe]||{};if(B++,We.oTop>Q||B>=100)break}}return{toVisibleIndex:Math.max(0,z),visibleSize:Math.max(6,B)}}return{toVisibleIndex:0,visibleSize:6}},Dn=(r,l,a)=>{for(let p=0,g=r.length;p<g;p++){const b=r[p],{startIndex:w,endIndex:E}=l,R=b[a],M=b[a+"span"],I=R+M;R<w&&w<I&&(l.startIndex=R),R<E&&E<I&&(l.endIndex=I),(l.startIndex!==w||l.endIndex!==E)&&(p=-1)}};function So(r){const l={};if(r&&r.length)for(let a=0;a<r.length;a++){const{row:p,col:g,rowspan:b,colspan:w}=r[a];for(let E=0;E<b;E++)for(let R=0;R<w;R++)l[`${p+E}:${g+R}`]=!E&&!R?{rowspan:b,colspan:w}:{rowspan:0,colspan:0}}return l}const ol=r=>{const{fullAllDataRowIdData:l,fullColumnIdData:a,visibleColumn:p,afterFullData:g,mergeBodyList:b,mergeBodyMaps:w}=s;if(r){const{handleGetRowId:E}=pr(h);f.isArray(r)||(r=[r]),r.forEach(R=>{let{row:M,col:I,rowspan:N,colspan:P}=R,$=-1,V=-1;if(f.isNumber(M))$=M;else{const Q=M?E(M):null,z=Q?l[Q]:null;z&&($=z._index)}if(f.isNumber(I))V=I;else{const Q=I?I.id:null,z=Q?a[Q]:null;z&&(V=z._index)}if($>-1&&V>-1&&(N||P)&&(N=f.toNumber(N)||1,P=f.toNumber(P)||1,N>1||P>1)){const Q=g[$],z=p[V];let B=w[`${$}:${V}`];B?(B.rowspan=N,B.colspan=P,B._rowspan=N,B._colspan=P):(B={row:$,col:V,rowspan:N,colspan:P,_row:Q,_col:z,_rowspan:N,_colspan:P},w[`${$}:${V}`]=B,b.push(B))}})}},Bl=r=>{const{footerTableData:l}=i,{mergeFooterList:a,mergeFooterMaps:p}=s;if(r){const{visibleColumn:g}=s;f.isArray(r)||(r=[r]),r.forEach(b=>{let{row:w,col:E,rowspan:R,colspan:M}=b;const I=f.isNumber(w)?w:-1;let N=-1;if(f.isNumber(E)&&(N=E),I>-1&&N>-1&&(R||M)&&(R=f.toNumber(R)||1,M=f.toNumber(M)||1,R>1||M>1)){const P=l[I],$=g[N];let V=p[`${I}:${N}`];V?(V.rowspan=R,V.colspan=M,V._rowspan=R,V._colspan=M):(V={row:I,col:N,rowspan:R,colspan:M,_row:P,_col:$,_rowspan:R,_colspan:M},p[`${I}:${N}`]=V,a.push(V))}})}},Br=(r,l,a)=>{const p=[];if(r){const{visibleColumn:g}=s;f.isArray(r)||(r=[r]),r.forEach(b=>{let{row:w,col:E}=b;a&&f.isNumber(w)&&(w=a[w]),f.isNumber(E)&&(E=g[E]);const R=f.findIndexOf(l,M=>(M._row===w||qe(h,M._row)===qe(h,w))&&(M._col.id===E||M._col.id===E.id));if(R>-1){const M=l.splice(R,1);p.push(M[0])}})}return p},Mn=()=>{const{tableFullColumn:r}=s;r.forEach(l=>{l.order=null})},Oo=r=>{const{parentHeight:l}=i,a=e[r];let p=0;if(a)if(a==="100%"||a==="auto")p=l;else{const g=h.getExcludeHeight();wl(a)?p=Math.floor((f.toInteger(a)||1)/100*l):p=f.toNumber(a),p=Math.max(40,p-g)}return p},sn=r=>{let{collectColumn:l}=s;const{resizableData:a,sortData:p,visibleData:g,fixedData:b}=r;let w=!1;a||p||g||b?(f.eachTree(l,(E,R,M,I,N)=>{const P=E.getKey();N||(b&&b[P]!==void 0&&(E.fixed=b[P]),p&&f.isNumber(p[P])&&(w=!0,E.renderSortNumber=p[P])),a&&f.isNumber(a[P])&&(E.resizeWidth=a[P]),g&&f.isBoolean(g[P])&&(E.visible=g[P])}),w&&(l=f.orderBy(l,"renderSortNumber"),s.collectColumn=l,s.tableFullColumn=Oi(l)),i.isCustomStatus=!0):i.isCustomStatus=!1},Do=()=>{const{customConfig:r}=e,l=Le.value,a=yr.value,{storage:p,restoreStore:g}=a,b=p===!0,w=b?{}:Object.assign({},p||{}),E=b||w.resizable,R=b||w.visible,M=b||w.fixed,I=b||w.sort;if((r?Ct(a):a.enabled)&&(E||R||M||I)){if(!l){Ze("vxe.error.reqProp",["id"]);return}const N=rn(l);return g?Promise.resolve(g({$table:h,id:l,type:"restore",storeData:N})).then(P=>{if(P)return sn(P)}).catch(P=>P):sn(N)}},ao=()=>{const{tableFullColumn:r,collectColumn:l}=s,a=s.fullColumnIdData={},p=s.fullColumnFieldData={},g=Ot.value,b=wt.value,w=He.value,E=lt.value,R=mt.value,{isCrossDrag:M,isSelfToChildDrag:I}=E,N=yr.value,{storage:P}=N,$=re.value,V=l.some(El);let Q=!!e.showOverflow,z,B,ee,Z,L,ke;const ye=(De,Xe,Pe,We,Ke)=>{const{id:Ve,field:ct,fixed:vt,type:at,treeNode:dt,rowGroupNode:Rt}=De,Vt={$index:-1,_index:-1,column:De,colid:Ve,index:Xe,items:Pe,parent:Ke||null,width:0,oLeft:0};ct?(p[ct]&&Ze("vxe.error.colRepet",["field",ct]),p[ct]=Vt):(P&&!at||w.drag&&(M||I))&&Ze("vxe.error.reqProp",[`${De.getTitle()||at||""} -> column.field=?`]),!ke&&at==="html"&&(ke=De),dt&&(ee&&yt("vxe.error.colRepet",["tree-node",dt]),ee||(ee=De)),Rt&&(ee&&yt("vxe.error.colRepet",["row-group-node",Rt]),z||(z=De)),at==="expand"&&(B&&yt("vxe.error.colRepet",["type",at]),B||(B=De)),at==="checkbox"?(Z&&yt("vxe.error.colRepet",["type",at]),Z||(Z=De)):at==="radio"&&(L&&yt("vxe.error.colRepet",["type",at]),L||(L=De)),Q&&De.showOverflow===!1&&(Q=!1),a[Ve]&&Ze("vxe.error.colRepet",["colId",Ve]),a[Ve]=Vt};V?f.eachTree(l,(De,Xe,Pe,We,Ke,Ve)=>{De.level=Ve.length,ye(De,Xe,Pe,We,Ke)}):r.forEach(ye),B&&b.mode!=="fixed"&&R.enabled&&yt("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),B&&b.mode!=="fixed"&&g.area&&Ze("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),ke&&(w.useKey||Ze("vxe.error.reqProp",["column-config.useKey & column.type=html"]),$.useKey||Ze("vxe.error.reqProp",["row-config.useKey & column.type=html"])),i.isGroup=V,i.rowGroupColumn=z,i.treeNodeColumn=ee,i.expandColumn=B,i.isAllOverflow=Q},Vo=()=>{s.customHeight=Oo("height"),s.customMinHeight=Oo("minHeight"),s.customMaxHeight=Oo("maxHeight"),i.scrollYLoad&&!(s.customHeight||s.customMinHeight)&&(s.customHeight=300)},nl=(r,l)=>{const a=l.querySelectorAll(`.vxe-cell--wrapper[colid="${r.id}"]`);let p=0;const g=a[0];if(g&&g.parentElement){const w=getComputedStyle(g.parentElement);p=Math.ceil(f.toNumber(w.paddingLeft)+f.toNumber(w.paddingRight))}let b=r.renderAutoWidth-p;for(let w=0;w<a.length;w++){const E=a[w];b=Math.max(b,E?Math.ceil(E.scrollWidth)+4:0)}return b+p},an=()=>{const r=Zn.value,{fullColumnIdData:l}=s,a=S.value;a&&(a.setAttribute("data-calc-col","Y"),r.forEach(p=>{const g=p.id,b=l[g],w=nl(p,a);b&&(b.width=Math.max(w,b.width)),p.renderAutoWidth=w}),h.analyColumnWidth(),a.removeAttribute("data-calc-col"))},cn=()=>{const{elemStore:r}=s,l=rt(r["main-body-wrapper"]);if(!l||!he.value||!se.value)return;let g=0;const b=40,w=l.clientWidth;let E=w,R=E/100;const{fit:M}=e,{columnStore:I}=i,{resizeList:N,pxMinList:P,autoMinList:$,pxList:V,scaleList:Q,scaleMinList:z,autoList:B,remainList:ee}=I;if(P.forEach(Z=>{const L=f.toInteger(Z.minWidth);g+=L,Z.renderWidth=L}),$.forEach(Z=>{const L=Math.max(60,f.toInteger(Z.renderAutoWidth));g+=L,Z.renderWidth=L}),z.forEach(Z=>{const L=Math.floor(f.toInteger(Z.minWidth)*R);g+=L,Z.renderWidth=L}),Q.forEach(Z=>{const L=Math.floor(f.toInteger(Z.width)*R);g+=L,Z.renderWidth=L}),V.forEach(Z=>{const L=f.toInteger(Z.width);g+=L,Z.renderWidth=L}),B.forEach(Z=>{const L=Math.max(60,f.toInteger(Z.renderAutoWidth));g+=L,Z.renderWidth=L}),N.forEach(Z=>{const L=f.toInteger(Z.resizeWidth);g+=L,Z.renderWidth=L}),E-=g,R=E>0?Math.floor(E/(z.length+P.length+$.length+ee.length)):0,M?E>0&&z.concat(P).concat($).forEach(Z=>{g+=R,Z.renderWidth+=R}):R=b,ee.forEach(Z=>{const L=Math.max(R,b);Z.renderWidth=L,g+=L}),M){const Z=Q.concat(z).concat(P).concat($).concat(ee);let L=Z.length-1;if(L>0){let ke=w-g;if(ke>0){for(;ke>0&&L>=0;)ke--,Z[L--].renderWidth++;g=w}}}i.scrollXWidth=g,i.resizeWidthFlag++,Bf(),Vo()},Tn=(r,l)=>{const a=l.querySelectorAll(`.vxe-cell--wrapper[rowid="${r.rowid}"]`);let p=r.height;for(let g=0;g<a.length;g++){const b=a[g],w=b.parentElement,E=Math.ceil(f.toNumber(w.style.paddingTop)+f.toNumber(w.style.paddingBottom)),R=b?b.clientHeight:0;p=Math.max(p-E,Math.ceil(R))}return p},$r=()=>{const{tableData:r,isAllOverflow:l,scrollYLoad:a,scrollXLoad:p}=i,{fullAllDataRowIdData:g}=s,b=Me.value,w=S.value;if(!l&&a&&w){const{handleGetRowId:E}=pr(h);w.setAttribute("data-calc-row","Y"),r.forEach(R=>{const M=E(R),I=g[M];if(I){const N=Tn(I,w);I.height=Math.max(b,p?Math.max(I.height,N):N)}w.removeAttribute("data-calc-row")}),i.calcCellHeightFlag++}},un=r=>{const{sortBy:l,sortType:a}=r;return p=>{let g;return l?g=f.isFunction(l)?l({row:p,column:r}):f.get(p,l):g=y.getCellLabel(p,r),!a||a==="auto"?isNaN(g)?g:f.toNumber(g):a==="number"?f.toNumber(g):a==="string"?f.toValueString(g):g}},Fn=()=>{const{treeConfig:r}=e,{afterFullData:l,fullDataRowIdData:a,fullAllDataRowIdData:p}=s,{handleGetRowId:g}=pr(h),b={};l.forEach((w,E)=>{const R=g(w),M=p[R],I=E+1;if(M)r||(M.seq=I),M._index=E;else{const N={row:w,rowid:R,seq:I,index:-1,$index:-1,_index:E,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};p[R]=N,a[R]=N}b[R]=w}),s.afterFullRowMaps=b},_r=()=>{const{treeConfig:r}=e,{fullDataRowIdData:l,fullAllDataRowIdData:a,afterTreeFullData:p}=s,g=st.value,{transform:b}=g,w=g.children||g.childrenField,E={};if(r){const{handleGetRowId:R}=pr(h);f.eachTree(p,(M,I,N,P)=>{const $=R(M),V=a[$],Q=P.map((z,B)=>B%2===0?Number(z)+1:".").join("");if(V)V.seq=Q,V.treeIndex=I;else{const z={row:M,rowid:$,seq:Q,index:-1,$index:-1,_index:-1,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};a[$]=z,l[$]=z}E[$]=M},{children:b?g.mapChildrenField:w}),s.afterFullRowMaps=E,Fn()}else Fn()},Qr=()=>{const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{fullAllDataRowIdData:a,treeExpandedMaps:p,rowGroupExpandedMaps:g}=s,b=Ie.value,w=st.value,{handleGetRowId:E}=pr(h),R=[],M={};if(r&&w.transform){const I=w.children||w.childrenField;return f.eachTree(s.afterTreeFullData,(N,P,$,V,Q)=>{const z=E(N),B=E(Q);if(!Q||M[B]&&p[B]){const ee=a[z];ee&&(ee._index=R.length),M[z]=1,R.push(N)}},{children:I}),s.afterFullData=R,Vl(R),R}else if(l){const{childrenField:I}=b;return f.eachTree(s.afterGroupFullData,(N,P,$,V,Q)=>{const z=E(N),B=E(Q);if(!Q||M[B]&&g[B]){const ee=a[z];ee&&(ee._index=R.length),M[z]=1,R.push(N)}},{children:I}),s.afterFullData=R,Vl(R),R}return s.afterFullData},co=()=>{const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{tableFullColumn:a,tableFullData:p,tableFullTreeData:g,tableFullGroupData:b}=s,w=ar.value,E=Yt.value,R=Ie.value,M=st.value,I=M.children||M.childrenField,{transform:N,rowField:P,parentField:$,mapChildrenField:V}=M,{isEvery:Q,remote:z,filterMethod:B}=w,{remote:ee,sortMethod:Z,multiple:L,chronological:ke}=E;let ye=[],De=[];if(!z||!ee){const Xe=[];let Pe=[];if(a.forEach(We=>{const{field:Ke,sortable:Ve,order:ct,filters:vt}=We;if(!z&&vt&&vt.length){const at=[],dt=[];vt.forEach(Rt=>{Rt.checked&&(dt.push(Rt),at.push(Rt.value))}),dt.length&&Xe.push({column:We,valueList:at,itemList:dt})}!ee&&Ve&&ct&&Pe.push({column:We,field:Ke,property:Ke,order:ct,sortTime:We.sortTime})}),L&&ke&&Pe.length>1&&(Pe=f.orderBy(Pe,"sortTime")),!z&&Xe.length){const We=Ke=>Xe.every(({column:Ve,valueList:ct,itemList:vt})=>{const{filterMethod:at,filterRender:dt}=Ve,Rt=Ct(dt)?Im.get(dt.name):null,Vt=Rt?Rt.tableFilterMethod||Rt.filterMethod:null,_t=Rt?Rt.tableFilterDefaultMethod||Rt.defaultTableFilterMethod||Rt.defaultFilterMethod:null,tr=br(Ke,Ve);return at?vt.some(St=>at({value:St.value,option:St,cellValue:tr,row:Ke,column:Ve,$table:h})):Vt?vt.some(St=>Vt({value:St.value,option:St,cellValue:tr,row:Ke,column:Ve,$table:h})):B?B({$table:h,options:vt,values:ct,cellValue:tr,row:Ke,column:Ve}):_t?vt.some(St=>_t({value:St.value,option:St,cellValue:tr,row:Ke,column:Ve,$table:h})):ct.indexOf(f.get(Ke,Ve.field))>-1});l?(De=f.searchTree(b,We,{original:!0,isEvery:!0,children:R.mapChildrenField,mapChildren:R.childrenField}),ye=De):r&&N?(De=f.searchTree(g,We,{original:!0,isEvery:Q,children:V,mapChildren:I}),ye=De):(ye=r?g.filter(We):p.filter(We),De=ye)}else l?(De=f.searchTree(b,()=>!0,{original:!0,isEvery:!0,children:R.mapChildrenField,mapChildren:R.childrenField}),ye=De):r&&N?(De=f.searchTree(g,()=>!0,{original:!0,isEvery:Q,children:V,mapChildren:I}),ye=De):(ye=r?g.slice(0):p.slice(0),De=ye);if(!ee&&Pe.length)if(l){if(Z){const We=Z({data:De,sortList:Pe,$table:h});De=f.isArray(We)?We:De}else{const We=f.toTreeArray(De,{key:R.rowField,parentKey:R.parentField,children:R.mapChildrenField});De=f.toArrayTree(f.orderBy(We,Pe.map(({column:Ke,order:Ve})=>[un(Ke),Ve])),{key:R.rowField,parentKey:R.parentField,children:R.childrenField,mapChildren:R.mapChildrenField})}ye=De}else if(r&&N){if(Z){const We=Z({data:De,sortList:Pe,$table:h});De=f.isArray(We)?We:De}else{const We=f.toTreeArray(De,{children:V});De=f.toArrayTree(f.orderBy(We,Pe.map(({column:Ke,order:Ve})=>[un(Ke),Ve])),{key:P,parentKey:$,children:I,mapChildren:V})}ye=De}else{if(Z){const We=Z({data:ye,sortList:Pe,$table:h});ye=f.isArray(We)?We:ye}else ye=f.orderBy(ye,Pe.map(({column:We,order:Ke})=>[un(We),Ke]));De=ye}}else l?(De=f.searchTree(b,()=>!0,{original:!0,isEvery:!0,children:R.mapChildrenField,mapChildren:R.childrenField}),ye=De):r&&N?(De=f.searchTree(g,()=>!0,{original:!0,isEvery:Q,children:V,mapChildren:I}),ye=De):(ye=r?g.slice(0):p.slice(0),De=ye);s.afterFullData=ye,s.afterTreeFullData=De,s.afterGroupFullData=De,_r()},qt=()=>{const{showHeaderOverflow:r,showFooterOverflow:l,mouseConfig:a,spanMethod:p,footerSpanMethod:g}=e,{isGroup:b,currentRow:w,tableColumn:E,scrollXLoad:R,scrollYLoad:M,overflowX:I,scrollbarWidth:N,overflowY:P,scrollbarHeight:$,scrollXWidth:V,columnStore:Q,editStore:z,isAllOverflow:B,expandColumn:ee,isColLoading:Z}=i,{visibleColumn:L,tableHeight:ke,headerHeight:ye,footerHeight:De,elemStore:Xe,customHeight:Pe,customMinHeight:We,customMaxHeight:Ke}=s,Ve=S.value;if(!Ve)return;const ct=["main","left","right"],vt=P?N:0,at=I?$:0,dt=Ee.value,Rt=Ot.value,Vt=wt.value,_t=rt(Xe["main-body-wrapper"]),tr=rt(Xe["main-body-table"]);dt&&(dt.style.top=`${ye}px`,dt.style.height=_t?`${_t.offsetHeight-at}px`:"");let St=0,xr=0;const nr=We-ye-De-at;Ke&&(xr=Math.max(nr,Ke-ye-De-at)),Pe&&(St=Pe-ye-De-at),St||tr&&(St=tr.clientHeight),St&&(xr&&(St=Math.min(xr,St)),St=Math.max(nr,St));const Or=Ne.value,Er=Oe.value,Fr=fe.value,Gt=ie.value;Gt&&(Gt.style.height=`${at}px`,Gt.style.visibility=I?"visible":"hidden");const sr=me.value;sr&&(sr.style.left=Or?`${vt}px`:"",sr.style.width=`${Ve.clientWidth-vt}px`),Er&&(Er.style.width=Or?`${vt}px`:"",Er.style.display=Or&&I&&at?"block":""),Fr&&(Fr.style.width=Or?"":`${vt}px`,Fr.style.display=Or?"":I&&at?"block":"");const Gr=we.value;Gr&&(Gr.style.width=`${vt}px`,Gr.style.height=`${St+ye+De}px`,Gr.style.visibility=P?"visible":"hidden");const Ir=Te.value;Ir&&(Ir.style.height=`${ye}px`,Ir.style.display=P&&ye?"block":"");const to=le.value;to&&(to.style.height=`${St}px`,to.style.top=`${ye}px`);const uo=Fe.value;uo&&(uo.style.height=`${De}px`,uo.style.top=`${ye+St}px`,uo.style.display=P&&De?"block":"");const ul=ne.value;return ul&&(ul.style.height=`${St}px`,ul.style.top=`${ye}px`),ct.forEach((Go,Ii)=>{const mo=Ii>0?Go:"",BC=["header","body","footer"],Xf=mo==="left";let Yl=[],Xl;mo&&(Yl=Xf?Q.leftList:Q.rightList,Xl=Xf?xe.value:ue.value),BC.forEach(Ln=>{const Dr=rt(Xe[`${Go}-${Ln}-wrapper`]),pn=rt(Xe[`${Go}-${Ln}-scroll`]),Hn=rt(Xe[`${Go}-${Ln}-table`]);if(Ln==="header"){let fo=E,ro=!1;b?fo=L:(R&&r&&(p||g||(ro=!0)),(!ro||!Z&&(mo||!I))&&(fo=L),mo&&ro&&(fo=Yl||[]));const qr=fo.reduce((dl,qn)=>dl+qn.renderWidth,0);mo&&(b?Dr&&(Dr.style.width=V?`${V}px`:""):ro?Dr&&(Dr.style.width=qr?`${qr}px`:""):Dr&&(Dr.style.width=V?`${V}px`:"")),pn&&(pn.style.height=`${ye}px`),Hn&&(Hn.style.width=qr?`${qr}px`:"")}else if(Ln==="body"){pn&&(pn.style.maxHeight=Ke?`${xr}px`:"",pn.style.height=Pe?`${St}px`:"",pn.style.minHeight=`${nr}px`),Xl&&(Dr&&(Dr.style.top=`${ye}px`),Xl.style.height=`${Pe>0?Pe:ke+ye+De+at}px`,Xl.style.width=`${Yl.reduce((qn,Ms)=>qn+Ms.renderWidth,0)}px`);let fo=E,ro=!1;(R||M||B)&&(ee&&Vt.mode!=="fixed"||p||g||(ro=!0)),mo&&(fo=L,ro&&(fo=Yl||[]));const qr=fo.reduce((qn,Ms)=>qn+Ms.renderWidth,0);mo&&(ro?Dr&&(Dr.style.width=qr?`${qr}px`:""):Dr&&(Dr.style.width=V?`${V}px`:"")),Hn&&(Hn.style.width=qr?`${qr}px`:"",Hn.style.paddingRight=vt&&mo&&(c.firefox||c.safari)?`${vt}px`:"");const dl=rt(Xe[`${Go}-${Ln}-emptyBlock`]);dl&&(dl.style.width=qr?`${qr}px`:"")}else if(Ln==="footer"){let fo=E,ro=!1;R&&l&&(p||g||(ro=!0)),(!ro||!Z&&(mo||!I))&&(fo=L),mo&&ro&&(fo=Yl||[]);const qr=fo.reduce((dl,qn)=>dl+qn.renderWidth,0);mo&&(ro?Dr&&(Dr.style.width=qr?`${qr}px`:""):Dr&&(Dr.style.width=V?`${V}px`:"")),pn&&(pn.style.height=`${De}px`,Xl&&Dr&&(Dr.style.top=`${Pe>0?Pe-De-at:ke+ye}px`)),Hn&&(Hn.style.width=qr?`${qr}px`:"")}})}),w&&h.setCurrentRow(w),a&&Rt.selected&&z.selected.row&&z.selected.column&&h.addCellSelectedClass(),ge()},zr=r=>h.triggerValidate?h.triggerValidate(r):ge(),dn=(r,l)=>{zr("blur").catch(a=>a).then(()=>{h.handleEdit(l,r).then(()=>zr("change")).catch(a=>a)})},fn=()=>{const{sortConfig:r}=e;if(r){const l=Yt.value;let{defaultSort:a}=l;a&&(f.isArray(a)||(a=[a]),a.length&&((r.multiple?a:a.slice(0,1)).forEach((p,g)=>{const{field:b,order:w}=p;if(b&&w){const E=h.getColumnByField(b);E&&E.sortable&&(E.order=w,E.sortTime=Date.now()+g)}}),l.remote||h.handleTableData(!0).then(qt)))}},$l=()=>{const{checkboxConfig:r}=e;if(r){const{fullDataRowIdData:l}=s,a=$e.value,{checkAll:p,checkRowKeys:g}=a;if(p)hn(!0,!0);else if(g){const b=[];g.forEach(w=>{l[w]&&b.push(l[w].row)}),Hr(b,!0,!0)}}},In=()=>{const{radioConfig:r}=e;if(r){const{fullDataRowIdData:l}=s,a=Tt.value,{checkRowKey:p,reserve:g}=a;if(p&&(l[p]&&eo(l[p].row,!0),g)){const b=Ao(h);s.radioReserveRow={[b]:p}}}},zl=()=>{const{expandConfig:r}=e;if(r){const{fullDataRowIdData:l}=s,a=wt.value,{expandAll:p,expandRowKeys:g}=a;if(p)h.setAllRowExpand(!0);else if(g){const b=[];g.forEach(w=>{l[w]&&b.push(l[w].row)}),h.setRowExpand(b,!0)}}},Wl=r=>{Tt.value.reserve&&(s.radioReserveRow=r)},Wr=(r,l)=>{const{checkboxReserveRowMap:a}=s;if($e.value.reserve){const g=qe(h,r);l?a[g]=r:a[g]&&delete a[g]}},eo=(r,l)=>{const a=Tt.value,{checkMethod:p}=a;return r&&(l||!p||p({$table:h,row:r}))&&(i.selectRadioRow=r,Wl(r)),ge()},Hr=(r,l,a)=>(r&&!f.isArray(r)&&(r=[r]),h.handleBatchSelectRows(r,!!l,a),h.checkSelectionStatus(),ge()),hn=(r,l)=>{const{treeConfig:a}=e,{isRowGroupStatus:p}=i,{afterFullData:g,afterTreeFullData:b,afterGroupFullData:w,checkboxReserveRowMap:E,selectCheckboxMaps:R}=s,M=st.value,I=Ie.value,N=M.children||M.childrenField,P=$e.value,{checkField:$,reserve:V,checkMethod:Q}=P,{handleGetRowId:z}=pr(h),B=P.indeterminateField||P.halfField,ee={};if($){const Z=L=>{(l||!Q||Q({$table:h,row:L}))&&(r&&(ee[z(L)]=L),f.set(L,$,r)),(a||p)&&B&&f.set(L,B,!1)};a||p?f.eachTree(g,Z,{children:N}):g.forEach(Z)}else p?r?f.eachTree(w,Z=>{if(l||!Q||Q({$table:h,row:Z})){const L=z(Z);ee[L]=Z}},{children:I.mapChildrenField}):!l&&Q&&f.eachTree(w,Z=>{const L=z(Z);!Q({$table:h,row:Z})&&R[L]&&(ee[L]=Z)},{children:I.mapChildrenField}):a?r?f.eachTree(b,Z=>{if(l||!Q||Q({$table:h,row:Z})){const L=z(Z);ee[L]=Z}},{children:N}):!l&&Q&&f.eachTree(b,Z=>{const L=z(Z);!Q({$table:h,row:Z})&&R[L]&&(ee[L]=Z)},{children:N}):r?!l&&Q?g.forEach(Z=>{const L=z(Z);(R[L]||Q({$table:h,row:Z}))&&(ee[L]=Z)}):g.forEach(Z=>{const L=z(Z);ee[L]=Z}):!l&&Q&&g.forEach(Z=>{const L=z(Z);!Q({$table:h,row:Z})&&R[L]&&(ee[L]=Z)});return V&&(r?f.each(ee,(Z,L)=>{E[L]=Z}):g.forEach(Z=>Wr(Z,!1))),i.updateCheckboxFlag++,s.selectCheckboxMaps=$?{}:ee,i.isAllSelected=r,i.isIndeterminate=!1,s.treeIndeterminateRowMaps={},h.checkSelectionStatus(),ge()},It=()=>{const{treeConfig:r}=e,{expandColumn:l,currentRow:a,selectRadioRow:p}=i,{fullDataRowIdData:g,fullAllDataRowIdData:b,radioReserveRow:w,selectCheckboxMaps:E,treeExpandedMaps:R,rowExpandedMaps:M}=s,I=wt.value,N=st.value,P=Tt.value,$=$e.value;if(p&&!b[qe(h,p)]&&(i.selectRadioRow=null),P.reserve&&w){const V=qe(h,w);g[V]&&eo(g[V].row,!0)}s.selectCheckboxMaps=on(E),i.updateCheckboxFlag++,$.reserve&&Hr(nn(s.checkboxReserveRowMap),!0,!0),a&&!b[qe(h,a)]&&(i.currentRow=null),s.rowExpandedMaps=l?on(M):{},i.rowExpandedFlag++,l&&I.reserve&&h.setRowExpand(nn(s.rowExpandedReserveRowMap),!0),s.treeExpandedMaps=r?on(R):{},i.treeExpandedFlag++,r&&N.reserve&&h.setTreeExpand(nn(s.treeExpandedReserveRowMap),!0)},Sr=()=>{const{treeConfig:r}=e;if(r){const{tableFullData:l}=s,a=st.value,{expandAll:p,expandRowKeys:g}=a,b=a.children||a.childrenField;if(p)h.setAllTreeExpand(!0);else if(g){const w=[],E=Ao(h);g.forEach(R=>{const M=f.findTree(l,I=>R===f.get(I,E),{children:b});M&&w.push(M.item)}),h.setTreeExpand(w,!0)}}},Vr=r=>{const l=st.value,a=$e.value,{transform:p,loadMethod:g}=l,{checkStrictly:b}=a;return new Promise(w=>{if(g){const{fullAllDataRowIdData:E,treeExpandLazyLoadedMaps:R}=s,M=qe(h,r),I=E[M];R[M]=r,Promise.resolve(g({$table:h,row:r})).then(N=>{if(I&&(I.treeLoaded=!0),R[M]&&delete R[M],f.isArray(N)||(N=[]),N)return h.loadTreeChildren(r,N).then(P=>{const{treeExpandedMaps:$}=s;return P.length&&!$[M]&&($[M]=r),i.treeExpandedFlag++,!b&&h.isCheckedByCheckboxRow(r)&&Hr(P,!0),ge().then(()=>{if(p)return h.handleTableData(),_r(),ge()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:N}=s;I&&(I.treeLoaded=!1),N[M]&&delete N[M]}).finally(()=>{i.treeExpandedFlag++,ge().then(()=>h.recalculate()).then(()=>w())})}else w()})},Ci=(r,l)=>{const{treeExpandedReserveRowMap:a}=s;if(st.value.reserve){const g=qe(h,r);l?a[g]=r:a[g]&&delete a[g]}},wi=r=>new Promise(l=>{const a=wt.value,{loadMethod:p}=a;if(p){const{fullAllDataRowIdData:g,rowExpandLazyLoadedMaps:b}=s,w=qe(h,r),E=g[w];b[w]=r,p({$table:h,row:r,rowIndex:h.getRowIndex(r),$rowIndex:h.getVMRowIndex(r)}).then(()=>{const{rowExpandedMaps:R}=s;E&&(E.expandLoaded=!0),R[w]=r,i.rowExpandedFlag++}).catch(()=>{E&&(E.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:R}=s;R[w]&&delete R[w],i.rowExpandedFlag++,ge().then(()=>h.recalculate()).then(()=>h.updateCellAreas()).then(()=>l())})}else l()}),yi=(r,l)=>{const{rowExpandedReserveRowMap:a}=s;if(wt.value.reserve){const g=qe(h,r);l?a[g]=r:a[g]&&delete a[g]}},cC=()=>{const{mergeCells:r}=e;r&&h.setMergeCells(r)},uC=()=>{const{mergeFooterItems:r}=e;r&&h.setMergeFooterItems(r)},gs=()=>ge().then(()=>{const{scrollXLoad:r,scrollYLoad:l}=i,{scrollXStore:a,scrollYStore:p}=s,g=mt.value,b=it.value;if(r){const{toVisibleIndex:M,visibleSize:I}=Pr(),N=Math.max(0,b.oSize?f.toNumber(b.oSize):0);a.preloadSize=f.toNumber(b.preSize),a.offsetSize=N,a.visibleSize=I,a.endIndex=Math.max(a.startIndex+a.visibleSize+N,a.endIndex),a.visibleStartIndex=Math.max(a.startIndex,M),a.visibleEndIndex=Math.min(a.endIndex,M+I),h.updateScrollXData().then(()=>{kn()})}else h.updateScrollXSpace();const w=On();p.rowHeight=w,i.rowHeight=w;const{toVisibleIndex:E,visibleSize:R}=Wo();if(l){const M=Math.max(0,g.oSize?f.toNumber(g.oSize):0);p.preloadSize=f.toNumber(g.preSize),p.offsetSize=M,p.visibleSize=R,p.endIndex=Math.max(p.startIndex+R+M,p.endIndex),p.visibleStartIndex=Math.max(p.startIndex,E),p.visibleEndIndex=Math.min(p.endIndex,E+R),h.updateScrollYData().then(()=>{Gl()})}else h.updateScrollYSpace()}),Ei=()=>{const{scrollXWidth:r,scrollYHeight:l}=i,{elemStore:a}=s,p=Je.value,g=rt(a["main-body-wrapper"]),b=rt(a["main-header-table"]),w=rt(a["main-footer-table"]),E=se.value,R=he.value;let M=!1,I=!1;if(g){M=l>g.clientHeight,R&&(i.scrollbarWidth=p.width||R.offsetWidth-R.clientWidth||14),i.overflowY=M,I=r>g.clientWidth,E&&(i.scrollbarHeight=p.height||E.offsetHeight-E.clientHeight||14);const N=b?b.clientHeight:0,P=w?w.clientHeight:0;s.tableHeight=g.offsetHeight,s.headerHeight=N,s.footerHeight=P,i.overflowX=I,i.parentHeight=Math.max(s.headerHeight+P+20,h.getParentHeight())}I&&h.checkScrolling()},ll=r=>{const l=S.value;if(s.rceRunTime=Date.now(),!l||!l.clientWidth)return ge();const a=T.value;if(a){const[p,g,b,w]=a.children;ln("default",p),ln("medium",g),ln("small",b),ln("mini",w)}return an(),cn(),Ei(),qt(),An(),gs().then(()=>{if(an(),r&&cn(),Ei(),qt(),r&&Mo(),An(),r)return gs()})},Ri=r=>{i.rowGroupList=r?(f.isArray(r)?r:[r]).map(l=>({field:l})):[]},Af=(r,l)=>{let a=r,p=r;if(l){const g=Ie.value,{rowField:b,parentField:w,childrenField:E,mapChildrenField:R}=g,M=$e.value,{checkField:I}=M,N=M.indeterminateField||M.halfField,P=l[0];if(P&&b&&w&&E&&R){a=[],p=[];const $=P.field,V=h.getColumnByField($),Q={},z=Ao(h);r.forEach(B=>{const ee=V?h.getCellLabel(B,V):f.get(B,$),Z=f.eqNull(ee)?"":ee;let L=Q[Z];L||(L=[],Q[Z]=L),B.isAggregate&&(B.isAggregate=void 0),L.push(B)}),f.objectEach(Q,(B,ee)=>{const{fullData:Z,treeData:L}=Af(B,l.slice(1)),ke={isAggregate:!0,groupContent:ee,groupField:$,[b]:ai(),[w]:null,[z]:ai(),[E]:L,[R]:L};I&&(ke[I]=!1),N&&(ke[N]=!1),p.push(ke),a.push(ke),Z.length&&a.push(...Z)})}}return{treeData:p,fullData:a}},il=(r,l)=>{const{keepSource:a,treeConfig:p,rowGroupConfig:g}=e,{rowGroupList:b,scrollYLoad:w}=i,{scrollYStore:E,scrollXStore:R,lastScrollLeft:M,lastScrollTop:I}=s,N=re.value,P=st.value,$=wt.value,{transform:V}=P,Q=P.children||P.childrenField;let z=[],B=Co(r?r.slice(0):[]);if(B.length>Lm&&Ze("vxe.error.errMaxRow",[Lm]),p&&b.length)return Ze("vxe.error.noTree",["row-group-config"]),ge();if(N.drag&&b.length)return Ze("vxe.error.errConflicts",["row-config.drag","row-group-config"]),ge();let ee=!1;if(p)V?(P.rowField||Ze("vxe.error.reqProp",["tree-config.rowField"]),P.parentField||Ze("vxe.error.reqProp",["tree-config.parentField"]),Q||Ze("vxe.error.reqProp",["tree-config.childrenField"]),P.mapChildrenField||Ze("vxe.error.reqProp",["tree-config.mapChildrenField"]),Q===P.mapChildrenField&&Ze("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),z=f.toArrayTree(B,{key:P.rowField,parentKey:P.parentField,children:Q,mapChildren:P.mapChildrenField}),B=z.slice(0)):z=B.slice(0);else if(g&&b.length){const L=Af(B,b);z=L.treeData,B=L.fullData,ee=!0}i.isRowGroupStatus=ee,E.startIndex=0,E.endIndex=1,R.startIndex=0,R.endIndex=1,s.cvCacheMaps={},i.isRowLoading=!0,i.scrollVMLoading=!1,s.treeExpandedMaps={},i.treeExpandedFlag++,s.rowExpandedMaps={},i.rowExpandedFlag++,s.insertRowMaps={},i.insertRowFlag++,s.removeRowMaps={},i.removeRowFlag++;const Z=Vl(B);return i.isDragColMove=!1,i.isDragRowMove=!1,s.tableFullData=B,s.tableFullTreeData=ee?[]:z,s.tableFullGroupData=ee?z:[],h.cacheRowMap(l),s.tableSynchData=r,l&&(s.isResizeCellHeight=!1),a&&h.cacheSourceMap(B),h.clearCellAreas&&e.mouseConfig&&(h.clearCellAreas(),h.clearCopyCellArea()),h.clearMergeCells(),h.clearMergeFooterItems(),h.handleTableData(!0),h.updateFooter(),h.handleUpdateBodyMerge(),ge().then(()=>{Vo(),qt()}).then(()=>{gs()}).then(()=>(Z&&(E.endIndex=E.visibleSize),Z&&(i.expandColumn&&$.mode!=="fixed"&&Ze("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),e.height||e.maxHeight||Ze("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"]),e.spanMethod&&Ze("vxe.error.scrollErrProp",["table.span-method"])),It(),h.checkSelectionStatus(),new Promise(L=>{ge().then(()=>ll(!1)).then(()=>($r(),Mo(),ll(!1))).then(()=>{let ke=M,ye=I;const De=it.value,Xe=mt.value;De.scrollToLeftOnChange&&(ke=0),Xe.scrollToTopOnChange&&(ye=0),i.isRowLoading=!1,ll(!1),w===Z?Pd(h,ke,ye).then(()=>{L()}):setTimeout(()=>{Pd(h,ke,ye).then(()=>{L()})})})})))},Si=()=>{$l(),In(),zl(),Sr(),cC(),uC(),ge(()=>setTimeout(()=>h.recalculate()))},dC=()=>{fn()},vs=()=>{const{scrollXLoad:r}=i,{visibleColumn:l,scrollXStore:a,fullColumnIdData:p}=s,g=r?l.slice(a.startIndex,a.endIndex):l.slice(0);g.forEach((b,w)=>{const E=b.id,R=p[E];R&&(R.$index=w)}),i.tableColumn=g},Lf=()=>{const r=f.orderBy(s.collectColumn,"renderSortNumber");s.collectColumn=r;const l=Oi(r);s.tableFullColumn=l,ao()},kn=()=>{const{isScrollXBig:r}=i,{mergeBodyList:l,mergeFooterList:a,scrollXStore:p}=s,{preloadSize:g,startIndex:b,endIndex:w,offsetSize:E}=p,{toVisibleIndex:R,visibleSize:M}=Pr(),I={startIndex:Math.max(0,r?R-1:R-1-E-g),endIndex:r?R+M:R+M+E+g};p.visibleStartIndex=R-1,p.visibleEndIndex=R+M+1,Dn(l.concat(a),I,"col");const{startIndex:N,endIndex:P}=I;(R<=b||R>=w-M-1)&&(b!==N||w!==P)&&(p.startIndex=N,p.endIndex=P,h.updateScrollXData()),h.closeTooltip()},Oi=r=>{const l=[];return r.forEach(a=>{l.push(...a.children&&a.children.length?Oi(a.children):[a])}),l},ms=r=>{const l=[],a=[],p=[],{isGroup:g,columnStore:b}=i,w=it.value,{collectColumn:E,tableFullColumn:R,scrollXStore:M,fullColumnIdData:I}=s;if(g){const $=[],V=[],Q=[];f.eachTree(E,(z,B,ee,Z,L)=>{const ke=El(z);L&&L.fixed&&(z.fixed=L.fixed),L&&z.fixed!==L.fixed&&Ze("vxe.error.groupFixed"),ke?z.visible=!!f.findTree(z.children,ye=>El(ye)?!1:ye.visible):z.visible&&(z.fixed==="left"?l.push(z):z.fixed==="right"?p.push(z):a.push(z))}),E.forEach(z=>{z.visible&&(z.fixed==="left"?$.push(z):z.fixed==="right"?Q.push(z):V.push(z))}),i.tableGroupColumn=$.concat(V).concat(Q)}else R.forEach($=>{$.visible&&($.fixed==="left"?l.push($):$.fixed==="right"?p.push($):a.push($))});const N=l.concat(a).concat(p),P=!!w.enabled&&w.gt>-1&&(w.gt===0||w.gt<R.length);if(i.hasFixedColumn=l.length>0||p.length>0,Object.assign(b,{leftList:l,centerList:a,rightList:p}),P&&(e.spanMethod&&yt("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&yt("vxe.error.scrollErrProp",["footer-span-method"]),r)){const{visibleSize:$}=Pr();M.startIndex=0,M.endIndex=$,M.visibleSize=$,M.visibleStartIndex=0,M.visibleEndIndex=$}return(N.length!==s.visibleColumn.length||!s.visibleColumn.every(($,V)=>$===N[V]))&&(h.clearMergeCells(),h.clearMergeFooterItems()),i.scrollXLoad=P,N.forEach(($,V)=>{const Q=$.id,z=I[Q];z&&(z._index=V)}),s.visibleColumn=N,vs(),r?(Bf(),h.updateFooter().then(()=>h.recalculate()).then(()=>(h.updateCellAreas(),h.recalculate()))):h.updateFooter()},fC=()=>{const{collectColumn:r}=s;r.forEach((l,a)=>{const p=a+1;l.sortNumber=p,l.renderSortNumber=p})},Hf=r=>{const l=wt.value;s.collectColumn=r;const a=Oi(r);return s.tableFullColumn=a,i.isColLoading=!0,i.isDragColMove=!1,fC(),Promise.resolve(Do()).then(()=>{const{scrollXLoad:p,scrollYLoad:g,expandColumn:b}=i;return ao(),ms(!0).then(()=>{i.scrollXLoad&&kn()}),h.clearMergeCells(),h.clearMergeFooterItems(),h.handleTableData(!0),(p||g)&&b&&l.mode!=="fixed"&&yt("vxe.error.scrollErrProp",["column.type=expand"]),ge().then(()=>(je&&je.syncUpdate({collectColumn:s.collectColumn,$table:h}),h.handleUpdateCustomColumn&&h.handleUpdateCustomColumn(),i.isColLoading=!1,h.recalculate()))})},Vl=r=>{const{treeConfig:l}=e,a=mt.value,p=st.value,{transform:g}=p,b=r||s.tableFullData,w=(g||!l)&&!!a.enabled&&a.gt>-1&&(a.gt===0||a.gt<b.length);return i.scrollYLoad=w,w},qf=(r,l)=>{const{treeNodeColumn:a}=i,{fullAllDataRowIdData:p,tableFullTreeData:g,treeExpandedMaps:b,treeExpandLazyLoadedMaps:w}=s,E=st.value,{reserve:R,lazy:M,accordion:I,toggleMethod:N}=E,P=E.children||E.childrenField,$=E.hasChild||E.hasChildField,V=[],Q=h.getColumnIndex(a),z=h.getVMColumnIndex(a),{handleGetRowId:B}=pr(h);let ee=N?r.filter(Z=>N({$table:h,expanded:l,column:a,columnIndex:Q,$columnIndex:z,row:Z})):r;if(I){ee=ee.length?[ee[ee.length-1]]:[];const Z=f.findTree(g,L=>L===ee[0],{children:P});Z&&Z.items.forEach(L=>{const ke=B(L);b[ke]&&delete b[ke]})}return l?ee.forEach(Z=>{const L=B(Z);if(!b[L]){const ke=p[L];ke&&(M&&Z[$]&&!ke.treeLoaded&&!w[L]?V.push(Vr(Z)):Z[P]&&Z[P].length&&(b[L]=Z))}}):ee.forEach(Z=>{const L=B(Z);b[L]&&delete b[L]}),R&&ee.forEach(Z=>Ci(Z,l)),i.treeExpandedFlag++,Promise.all(V).then(()=>h.recalculate())},hC=(r,l)=>qf(r,l).then(()=>(Qr(),h.handleTableData(),i.treeExpandedFlag++,_r(),ge())).then(()=>h.recalculate(!0)).then(()=>{setTimeout(()=>{h.updateCellAreas()},30)}),pC=(r,l)=>{const{fullAllDataRowIdData:a,tableFullGroupData:p,rowGroupExpandedMaps:g}=s,b=Ie.value,{mapChildrenField:w,accordion:E}=b,{handleGetRowId:R}=pr(h);let M=r;if(w){if(E){M=M.length?[M[M.length-1]]:[];const I=f.findTree(p,N=>qe(h,N)===qe(h,M[0]),{children:w});I&&I.items.forEach(N=>{const P=R(N);g[P]&&delete g[P]})}l?M.forEach(I=>{const N=R(I);g[N]||a[N]&&I[w]&&I[w].length&&(g[N]=I)}):M.forEach(I=>{const N=R(I);g[N]&&delete g[N]})}return i.rowGroupExpandedFlag++,h.recalculate()},gC=(r,l)=>pC(r,l).then(()=>(Qr(),h.handleTableData(),i.rowGroupExpandedFlag++,_r(),ge())).then(()=>h.recalculate(!0)).then(()=>{setTimeout(()=>{h.updateCellAreas()},30)}),_f=(r,l)=>{hn(l),r&&$t("checkbox-all",{records:()=>h.getCheckboxRecords(),reserves:()=>h.getCheckboxReserveRecords(),indeterminates:()=>h.getCheckboxIndeterminateRecords(),checked:l},r)},Gl=()=>{const{isAllOverflow:r,isScrollYBig:l}=i,{mergeBodyList:a,scrollYStore:p}=s,{preloadSize:g,startIndex:b,endIndex:w,offsetSize:E}=p,R=r?E:E+1,{toVisibleIndex:M,visibleSize:I}=Wo(),N={startIndex:Math.max(0,l?M-1:M-1-E-g),endIndex:l?M+I:M+I+R+g};p.visibleStartIndex=M-1,p.visibleEndIndex=M+I+1,Dn(a,N,"row");const{startIndex:P,endIndex:$}=N;(M<=b||M>=w-I-1)&&(b!==P||w!==$)&&(p.startIndex=P,p.endIndex=$,h.updateScrollYData())},Di=r=>{const{handleGetRowId:l}=pr(h);return function(a){const{fullAllDataRowIdData:p}=s;if(a){const g=l(a),b=p[g];if(b)return b[r]}return-1}},bs=r=>function(l){const{fullColumnIdData:a}=s;if(l){const p=a[l.id];if(p)return p[r]}return-1},vC=()=>{const{lxTimeout:r,lxRunTime:l,scrollXStore:a}=s,{visibleSize:p}=a,g=p>26?26:p>16?14:6;r&&clearTimeout(r),(!l||l+g<Date.now())&&(s.lxRunTime=Date.now(),kn()),s.lxTimeout=setTimeout(()=>{s.lxTimeout=void 0,s.lxRunTime=void 0,kn()},g)},mC=()=>{const{lyTimeout:r,lyRunTime:l,scrollYStore:a}=s,{visibleSize:p}=a,g=p>30?32:p>20?18:8;r&&clearTimeout(r),(!l||l+g<Date.now())&&(s.lyRunTime=Date.now(),Gl()),s.lyTimeout=setTimeout(()=>{s.lyTimeout=void 0,s.lyRunTime=void 0,Gl()},g)},bC=(r,l)=>{const{scrollXLoad:a,scrollYLoad:p}=i,{lcsTimeout:g}=s;g&&clearTimeout(g),s.lcsTimeout=setTimeout(()=>{s.lcsRunTime=Date.now(),s.lcsTimeout=void 0,s.intoRunScroll=!1,s.inVirtualScroll=!1,s.inWheelScroll=!1,s.inHeaderScroll=!1,s.inBodyScroll=!1,s.inFooterScroll=!1,s.scrollRenderType="",$r(),r&&a&&h.updateScrollXData(),l&&p&&h.updateScrollYData().then(()=>{$r(),h.updateScrollYSpace()}),An(),h.updateCellAreas()},200)},xC=r=>{let l=1;const a=Date.now();return r+25>a?l=1.18:r+30>a?l=1.15:r+40>a?l=1.12:r+55>a?l=1.09:r+75>a?l=1.06:r+100>a&&(l=1.03),l},CC=(r,l)=>{requestAnimationFrame(()=>{l(r)})},wC=(r,l)=>{const a=Math.abs(r),p=performance.now();let g=0;const b=w=>{let E=(w-p)/a;E>1&&(E=1);const R=Math.pow(E,2),M=Math.floor(r*R)-g;g+=M,l(M),E<1&&requestAnimationFrame(b)};requestAnimationFrame(b)},$t=(r,l,a)=>{n(r,ER(a,{$table:h,$grid:Ge},l))},yC=(r,l)=>{const{fullColumnIdData:a}=s,p=hr(h,r);return p&&a[p.id]?xm(h,p,l):ge()},xs=()=>{const r=S.value;r&&r.clientWidth&&r.clientHeight&&y.recalculate()},Nf=(r,l)=>{h.analyColumnWidth(),h.recalculate().then(()=>{h.saveCustomStore("update:width"),h.updateCellAreas(),h.dispatchEvent("column-resizable-change",l,r),h.dispatchEvent("resizable-change",l,r),setTimeout(()=>h.recalculate(!0),300)})},Pf=(r,l)=>{i.resizeHeightFlag++,h.recalculate().then(()=>{h.updateCellAreas(),h.dispatchEvent("row-resizable-change",l,r),setTimeout(()=>h.recalculate(!0),300)})},Bf=()=>{const{visibleColumn:r,fullColumnIdData:l}=s;let a=0;for(let p=0,g=r.length;p<g;p++){const b=r[p],w=b.id,E=l[w];E.oLeft=a,a+=b.renderWidth}},Mo=()=>{const{expandColumn:r}=i,{afterFullData:l,fullAllDataRowIdData:a,rowExpandedMaps:p}=s,g=wt.value,b=re.value,w=Qe.value,E=Me.value,{handleGetRowId:R}=pr(h);let M=0;for(let I=0,N=l.length;I<N;I++){const P=l[I],$=R(P),V=a[$]||{};V.oTop=M,M+=V.resizeHeight||w.height||b.height||V.height||E,r&&p[$]&&(M+=V.expandHeight||g.height||0)}},An=()=>{const{expandColumn:r,scrollYLoad:l,scrollYTop:a,isScrollYBig:p}=i,g=wt.value,b=re.value,w=Qe.value,E=Me.value,{mode:R}=g;if(r&&R==="fixed"){const{elemStore:M,fullAllDataRowIdData:I}=s,N=ne.value,P=rt(M["main-body-scroll"]);if(N&&P){let $=!1;f.arrayEach(N.children,V=>{const Q=V,z=Q.getAttribute("rowid")||"",B=I[z];if(B){const ee=Q.offsetHeight+1,Z=P.querySelector(`.vxe-body--row[rowid="${z}"]`);let L=0;l?p&&Z?L=Z.offsetTop+Z.offsetHeight:L=B.oTop+(B.resizeHeight||w.height||b.height||B.height||E):Z&&(L=Z.offsetTop+Z.offsetHeight),p&&(L+=a),Q.style.top=ui(L),$||B.expandHeight!==ee&&($=!0),B.expandHeight=ee}}),$&&(i.rowExpandHeightFlag++,ge(()=>{Mo()}))}}},$f=()=>{const{elemStore:r}=s,l=ne.value,a=rt(r["main-body-scroll"]);l&&a&&(l.scrollTop=a.scrollTop)};y={dispatchEvent:$t,getEl(){return S.value},clearAll(){return oR(h)},syncData(){return Ze("vxe.error.delFunc",["syncData","getData"]),ge().then(()=>(i.tableData=[],n("update:data",s.tableFullData),ge()))},updateData(){const{scrollXLoad:r,scrollYLoad:l}=i;return O.handleTableData(!0).then(()=>{if(y.updateFooter(),r||l)return r&&O.updateScrollXSpace(),l&&O.updateScrollYSpace(),y.refreshScroll()}).then(()=>(y.updateCellAreas(),y.recalculate(!0))).then(()=>{setTimeout(()=>h.recalculate(),50)})},loadData(r){const{initStatus:l}=s;return il(r,!1).then(()=>(s.inited=!0,s.initStatus=!0,l||Si(),y.recalculate()))},reloadData(r){return y.clearAll().then(()=>(s.inited=!0,s.initStatus=!0,il(r,!0))).then(()=>(Si(),y.recalculate()))},setRow(r,l){if(r&&l){let a=r;f.isArray(r)||(a=[r]);const p=Ao(h);a.forEach(g=>{const b=qe(h,g),w=f.clone(Object.assign({},l),!0);f.set(w,p,b),Object.assign(g,w)})}return ge()},reloadRow(r,l,a){const{keepSource:p}=e,{tableData:g}=i,{tableSourceData:b}=s;if(p){const w=y.getRowIndex(r),E=b[w];if(E&&r)if(a){const R=f.clone(f.get(l||r,a),!0);f.set(r,a,R),f.set(E,a,R)}else{const R=Ao(h),M=qe(h,r),I=f.clone(Object.assign({},l),!0);f.set(I,R,M),f.destructuring(E,Object.assign(r,I))}i.tableData=g.slice(0)}return ge()},getParams(){return e.params},loadTreeChildren(r,l){const{keepSource:a}=e,{tableSourceData:p,fullDataRowIdData:g,fullAllDataRowIdData:b,sourceDataRowIdData:w}=s,E=st.value,{transform:R,mapChildrenField:M}=E,I=E.children||E.childrenField,N=b[qe(h,r)],P=N?N.level:0;return y.createData(l).then($=>{if(a){const V=qe(h,r),Q=f.findTree(p,z=>V===qe(h,z),{children:I});Q&&(Q.item[I]=f.clone($,!0)),$.forEach(z=>{const B=qe(h,z);w[B]=f.clone(z,!0)})}return f.eachTree($,(V,Q,z,B,ee,Z)=>{const L=qe(h,V),ke=ee||N.row,ye={row:V,rowid:L,seq:-1,index:Q,_index:-1,$index:-1,treeIndex:-1,items:z,parent:ke,level:P+Z.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};g[L]=ye,b[L]=ye},{children:I}),r[I]=$,R&&(r[M]=f.clone($,!1)),_r(),$})},loadColumn(r){const l=f.mapTree(r,a=>Co(pt.createColumn(h,a)));return Hf(l)},reloadColumn(r){return y.clearAll().then(()=>y.loadColumn(r))},getRowNode(r){if(r){const{fullAllDataRowIdData:l}=s,a=r.getAttribute("rowid");if(a){const p=l[a];if(p)return{rowid:p.rowid,item:p.row,index:p.index,items:p.items,parent:p.parent}}}return null},getColumnNode(r){if(r){const{fullColumnIdData:l}=s,a=r.getAttribute("colid");if(a){const p=l[a];if(p)return{colid:p.colid,item:p.column,index:p.index,items:p.items,parent:p.parent}}}return null},getRowSeq:Di("seq"),getRowIndex:Di("index"),getVTRowIndex:Di("_index"),getVMRowIndex:Di("$index"),getColumnIndex:bs("index"),getVTColumnIndex:bs("_index"),getVMColumnIndex:bs("$index"),createData(r){return ge().then(()=>Co(O.defineField(r)))},createRow(r){const l=f.isArray(r);return l||(r=[r||{}]),y.createData(r).then(a=>l?a:a[0])},revertData(r,l){const{keepSource:a,treeConfig:p}=e,{fullAllDataRowIdData:g,fullDataRowIdData:b,tableSourceData:w,sourceDataRowIdData:E,tableFullData:R,afterFullData:M,removeRowMaps:I}=s,N=st.value,{transform:P}=N,{handleGetRowId:$}=pr(h);if(!a)return ge();let V=r;r?f.isArray(r)||(V=[r]):V=f.toArray(h.getUpdateRecords());let Q=!1;return V.length&&V.forEach(z=>{const B=$(z),ee=g[B];if(ee){const Z=ee.row;if(!h.isInsertByRow(Z)){const L=E[B];L&&Z&&(l?f.set(Z,l,f.clone(f.get(L,l),!0)):f.destructuring(Z,f.clone(L,!0)),!b[B]&&h.isRemoveByRow(Z)&&(I[B]&&delete I[B],R.unshift(Z),M.unshift(Z),Q=!0))}}}),r?(Q&&(i.removeRowFlag++,h.updateFooter(),h.cacheRowMap(!1),h.handleTableData(p&&P),p&&P||h.updateAfterDataIndex(),h.checkSelectionStatus(),i.scrollYLoad&&h.updateScrollYSpace()),ge().then(()=>(h.updateCellAreas(),h.recalculate()))):h.reloadData(w)},clearData(r,l){const{tableFullData:a,visibleColumn:p}=s;return arguments.length?r&&!f.isArray(r)&&(r=[r]):r=a,l?r.forEach(g=>f.set(g,l,null)):r.forEach(g=>{p.forEach(b=>{b.field&&Ho(g,b,null)})}),ge()},getCellElement(r,l){const{elemStore:a}=s,p=hr(h,l);if(!p)return null;const g=qe(h,r),b=rt(a["main-body-scroll"]),w=rt(a["left-body-scroll"]),E=rt(a["right-body-scroll"]);let R;return p&&(p.fixed&&(p.fixed==="left"?w&&(R=w):E&&(R=E)),R||(R=b),R)?R.querySelector(`.vxe-body--row[rowid="${g}"] .${p.id}`):null},getCellLabel(r,l){const a=hr(h,l);if(!a)return null;const{formatter:p}=a,g=br(r,a);let b=g;if(p){let w;const{fullAllDataRowIdData:E}=s,R=qe(h,r),M=a.id,I=E[R];if(I&&(w=I.formatData,w||(w=E[R].formatData={}),I&&w[M]&&w[M].value===g))return w[M].label;const N={cellValue:g,row:r,rowIndex:y.getRowIndex(r),column:a,columnIndex:y.getColumnIndex(a)};if(f.isString(p)){const P=km.get(p),$=P?P.tableCellFormatMethod||P.cellFormatMethod:null;b=$?$(N):""}else if(f.isArray(p)){const P=km.get(p[0]),$=P?P.tableCellFormatMethod||P.cellFormatMethod:null;b=$?$(N,...p.slice(1)):""}else b=p(N);w&&(w[M]={value:g,label:b})}return b},isInsertByRow(r){const l=qe(h,r);return!!i.insertRowFlag&&!!s.insertRowMaps[l]},isRemoveByRow(r){const l=qe(h,r);return!!i.removeRowFlag&&!!s.removeRowMaps[l]},removeInsertRow(){return s.insertRowMaps={},h.remove(h.getInsertRecords())},isUpdateByRow(r,l){const{keepSource:a}=e,{tableFullColumn:p,fullDataRowIdData:g,sourceDataRowIdData:b}=s;if(a){const w=f.isString(r)||f.isNumber(r)?r:qe(h,r),E=g[w];if(!E)return!1;const R=E.row,M=b[w];if(M){if(arguments.length>1)return!rl(M,R,l);for(let I=0,N=p.length;I<N;I++){const P=p[I].field;if(P&&!rl(M,R,P))return!0}}}return!1},getColumns(r){const{visibleColumn:l}=s;return f.isUndefined(r)?l.slice(0):l[r]},getColid(r){const l=hr(h,r);return l?l.id:null},getColumnById(r){const{fullColumnIdData:l}=s;return r&&l[r]?l[r].column:null},getColumnByField(r){const l=s.fullColumnFieldData;return r&&l[r]?l[r].column:null},getParentColumn(r){const{fullColumnIdData:l}=s,a=hr(h,r);return a&&a.parentId&&l[a.parentId]?l[a.parentId].column:null},getTableColumn(){return{collectColumn:s.collectColumn.slice(0),fullColumn:s.tableFullColumn.slice(0),visibleColumn:s.visibleColumn.slice(0),tableColumn:i.tableColumn.slice(0)}},moveColumnTo(r,l,a){const{fullColumnIdData:p,visibleColumn:g}=s,{dragToChild:b,dragPos:w,isCrossDrag:E}=Object.assign({},a),R=hr(h,r);let M=null;const I=R?p[R.id]:null;let N="left";if(f.isNumber(l)){if(I&&l){let P=I.items,$=I._index+l;E&&(P=g,$=I._index+l),$>0&&$<P.length-1&&(M=P[$]),l>0&&(N="right")}}else{M=hr(h,l);const P=M?p[M.id]:null;I&&P&&P._index>I._index&&(N="right")}return h.handleColDragSwapEvent(null,!0,R,M,w||N,b===!0)},moveRowTo(r,l,a){const{treeConfig:p}=e,{fullAllDataRowIdData:g,afterFullData:b}=s,{dragToChild:w,dragPos:E,isCrossDrag:R}=Object.assign({},a),M=st.value,I=pm(h,r);let N=null,P="top";const $=I?g[qe(h,I)]:null;if(f.isNumber(l)){if($&&l){let V=b,Q=$._index+l;p&&(V=$.items,M.transform&&(Q=$.treeIndex+l,R&&(V=b,Q=$._index+l))),Q>=0&&Q<=V.length-1&&(N=V[Q]),l>0&&(P="bottom")}}else{N=pm(h,l);const V=N?g[qe(h,N)]:null;$&&V&&V._index>$._index&&(P="bottom")}return h.handleRowDragSwapEvent(null,!0,I,N,E||P,w===!0)},getFullColumns(){const{collectColumn:r}=s;return r.slice(0)},getData(r){const l=e.data||s.tableSynchData;return f.isUndefined(r)?l.slice(0):l[r]},getCheckboxRecords(r){const{treeConfig:l}=e,{updateCheckboxFlag:a}=i,{tableFullData:p,afterFullData:g,tableFullTreeData:b,fullDataRowIdData:w,afterFullRowMaps:E,selectCheckboxMaps:R}=s,M=st.value,I=$e.value,{transform:N,mapChildrenField:P}=M,{checkField:$}=I,V=M.children||M.childrenField;let Q=[];if(a)if($)if(l){const z=r?N?b:p:N?b:g;Q=f.filterTree(z,B=>f.get(B,$),{children:N?P:V})}else Q=(r?p:g).filter(B=>f.get(B,$));else{const z=r||l&&!N?w:E;f.each(R,(B,ee)=>{z[ee]&&Q.push(w[ee].row)})}return Q},getTreeRowChildren(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a}=s,p=st.value,{transform:g,mapChildrenField:b}=p,w=p.children||p.childrenField;if(r&&l){let E;if(f.isString(r)?E=r:E=qe(h,r),E){const R=a[E],M=R?R.row:null;if(M)return M[g?b:w]||[]}}return[]},getTreeParentRow(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a}=s;if(r&&l){let p;if(f.isString(r)?p=r:p=qe(h,r),p){const g=a[p];return g?g.parent:null}}return null},getParentRow(r){return yt("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),h.getTreeParentRow(r)},getRowById(r){const{fullAllDataRowIdData:l}=s,a=f.eqNull(r)?"":encodeURIComponent(r||"");return l[a]?l[a].row:null},getRowid(r){return qe(h,r)},getTableData(){const{tableData:r,footerTableData:l}=i,{tableFullData:a,afterFullData:p,tableFullTreeData:g}=s;return{fullData:e.treeConfig?g.slice(0):a.slice(0),visibleData:p.slice(0),tableData:r.slice(0),footerData:l.slice(0)}},getFullData(){const{treeConfig:r}=e,{tableFullData:l,tableFullTreeData:a}=s;if(r){const p=st.value,{transform:g,mapChildrenField:b,rowField:w,parentField:E}=p,R=p.children||p.childrenField;return g?f.toArrayTree(f.toTreeArray(a,{children:b}),{key:w,parentKey:E,children:R,mapChildren:b}):a.slice(0)}return l.slice(0)},setColumnFixed(r,l){let a=!1;const p=f.isArray(r)?r:[r],g=He.value,b=Jn.value;for(let w=0;w<p.length;w++){const E=p[w],R=hr(h,E),M=mm(h,R);if(M&&M.fixed!==l){if(!M.fixed&&b)return ve.modal&&ve.modal.message({status:"error",content:Fo("vxe.table.maxFixedCol",[g.maxFixedSize])}),ge();f.eachTree([M],I=>{I.fixed=l}),O.saveCustomStore("update:fixed"),a||(a=!0)}}return a?y.refreshColumn():ge()},clearColumnFixed(r){let l=!1;return(f.isArray(r)?r:[r]).forEach(p=>{const g=hr(h,p),b=mm(h,g);b&&b.fixed&&(f.eachTree([b],w=>{w.fixed=null}),O.saveCustomStore("update:fixed"),l||(l=!0))}),l?y.refreshColumn():ge()},hideColumn(r){let l=!1;return(f.isArray(r)?r:[r]).forEach(p=>{const g=hr(h,p);g&&g.visible&&(g.visible=!1,l||(l=!0))}),l?O.handleCustom():ge()},showColumn(r){let l=!1;return(f.isArray(r)?r:[r]).forEach(p=>{const g=hr(h,p);g&&!g.visible&&(g.visible=!0,l||(l=!0))}),l?O.handleCustom():ge()},setColumnWidth(r,l){const{elemStore:a}=s;let p=!1;const g=f.isArray(r)?r:[r];let b=f.toInteger(l);if(wl(l)){const w=rt(a["main-body-scroll"]),E=w?w.clientWidth-1:0;b=Math.floor(b*E)}return b&&(g.forEach(w=>{const E=hr(h,w);E&&(E.resizeWidth=b,p||(p=!0))}),p)?h.refreshColumn().then(()=>({status:p})):ge().then(()=>({status:p}))},getColumnWidth(r){const l=hr(h,r);return l?l.renderWidth:0},resetColumn(r){return yt("vxe.error.delFunc",["resetColumn","resetCustom"]),h.resetCustom(r)},refreshColumn(r){return r&&Lf(),ms(!0).then(()=>y.refreshScroll()).then(()=>y.recalculate())},setRowHeightConf(r){const{fullAllDataRowIdData:l}=s;let a=!1;return r&&(f.each(r,(p,g)=>{const b=l[g];if(b){const w=f.toInteger(p);w&&(b.resizeHeight=w,a||(a=!0))}}),a&&(s.isResizeCellHeight=!0,i.resizeHeightFlag++)),ge().then(()=>(Mo(),{status:a}))},getRowHeightConf(r){const{fullAllDataRowIdData:l,afterFullData:a}=s,{handleGetRowId:p}=pr(h),g=re.value,b=Qe.value,w=Me.value,E={};return a.forEach(R=>{const M=p(R),I=l[M];if(I){const N=I.resizeHeight;if(N||r){const P=N||b.height||g.height||I.height||w;E[M]=P}}}),E},setRowHeight(r,l){const{fullAllDataRowIdData:a}=s;let p=!1;const g=f.isArray(r)?r:[r];let b=f.toInteger(l);if(wl(l)){const w=F.value,E=w?w.$el:null,R=E?E.clientHeight-1:0;b=Math.floor(b*R)}if(b){const{handleGetRowId:w}=pr(h);g.forEach(E=>{const R=f.isString(E)||f.isNumber(E)?E:w(E),M=a[R];M&&(M.resizeHeight=b,p||(p=!0))}),p&&(s.isResizeCellHeight=!0,i.resizeHeightFlag++)}return ge().then(()=>({status:p}))},getRowHeight(r){const{fullAllDataRowIdData:l}=s,a=re.value,p=Qe.value,g=Me.value,b=f.isString(r)||f.isNumber(r)?r:qe(h,r),w=l[b];return w?w.resizeHeight||p.height||a.height||w.height||g:0},refreshScroll(){const{elemStore:r,lastScrollLeft:l,lastScrollTop:a}=s,p=rt(r["main-header-scroll"]),g=rt(r["main-body-scroll"]),b=rt(r["main-footer-scroll"]),w=rt(r["left-body-scroll"]),E=rt(r["right-body-scroll"]),R=se.value,M=he.value;return new Promise(I=>{if(l||a)return Pd(h,l,a).then().then(()=>{setTimeout(I,10)});s.intoRunScroll=!0,zt(M,a),zt(g,a),zt(w,a),zt(E,a),jt(R,l),jt(g,l),jt(p,l),jt(b,l),setTimeout(()=>{s.intoRunScroll=!1,I()},10)})},recalculate(r){return new Promise(l=>{const{rceTimeout:a,rceRunTime:p}=s,b=xt.value.refreshDelay||20,w=S.value;w&&w.clientWidth&&(cn(),An()),a?(clearTimeout(a),p&&p+(b-5)<Date.now()?l(ll(!!r)):ge(()=>{l()})):l(ll(!!r)),s.rceTimeout=setTimeout(()=>{s.rceTimeout=void 0,ll(!!r)},b)})},openTooltip(r,l){const a=A.value;return a&&a.open?a.open(r,l):ge()},closeTooltip(){const{tooltipStore:r}=i,l=q.value,a=A.value;return r.visible&&(Object.assign(r,{row:null,column:null,content:null,visible:!1,currOpts:{}}),l&&l.close&&l.close()),a&&a.close&&a.close(),ge()},isAllCheckboxChecked(){return i.isAllSelected},isAllCheckboxIndeterminate(){return!i.isAllSelected&&i.isIndeterminate},getCheckboxIndeterminateRecords(r){const{treeConfig:l}=e,{fullDataRowIdData:a,treeIndeterminateRowMaps:p}=s;if(l){const g=[],b=[];return f.each(p,(w,E)=>{w&&(g.push(w),a[E]&&b.push(w))}),r?g:b}return[]},setCheckboxRow(r,l){return r&&!f.isArray(r)&&(r=[r]),Hr(r,l,!0)},setCheckboxRowKey(r,l){const{fullAllDataRowIdData:a}=s;f.isArray(r)||(r=[r]);const p=[];return r.forEach(g=>{const b=a[g];b&&p.push(b.row)}),Hr(p,l,!0)},isCheckedByCheckboxRow(r){const{updateCheckboxFlag:l}=i,{selectCheckboxMaps:a}=s,p=$e.value,{checkField:g}=p;return g?f.get(r,g):!!l&&!!a[qe(h,r)]},isCheckedByCheckboxRowKey(r){const{updateCheckboxFlag:l}=i,{fullAllDataRowIdData:a,selectCheckboxMaps:p}=s,g=$e.value,{checkField:b}=g;if(b){const w=a[r];return w?f.get(w.row,b):!1}return!!l&&!!p[r]},isIndeterminateByCheckboxRow(r){const{treeIndeterminateRowMaps:l}=s;return!!l[qe(h,r)]&&!h.isCheckedByCheckboxRow(r)},isIndeterminateByCheckboxRowKey(r){const{treeIndeterminateRowMaps:l}=s;return!!l[r]&&!h.isCheckedByCheckboxRowKey(r)},toggleCheckboxRow(r){const{selectCheckboxMaps:l}=s,a=$e.value,{checkField:p}=a,g=p?!f.get(r,p):!l[qe(h,r)];return O.handleBatchSelectRows([r],g,!0),O.checkSelectionStatus(),ge()},setAllCheckboxRow(r){return hn(r,!0)},getRadioReserveRecord(r){const{treeConfig:l}=e,{fullDataRowIdData:a,radioReserveRow:p,afterFullData:g}=s,b=Tt.value,w=st.value,E=w.children||w.childrenField;if(b.reserve&&p){const R=qe(h,p);if(r){if(!a[R])return p}else{const M=Ao(h);if(l){if(f.findTree(g,N=>R===f.get(N,M),{children:E}))return p}else if(!g.some(I=>R===f.get(I,M)))return p}}return null},clearRadioReserve(){return s.radioReserveRow=null,ge()},getCheckboxReserveRecords(r){const{treeConfig:l}=e,{afterFullData:a,fullDataRowIdData:p,checkboxReserveRowMap:g}=s,b=$e.value,w=st.value,E=w.children||w.childrenField,R=[];if(b.reserve){const{handleGetRowId:M}=pr(h),I={};l?f.eachTree(a,N=>{I[M(N)]=1},{children:E}):a.forEach(N=>{I[M(N)]=1}),f.each(g,(N,P)=>{N&&(r?p[P]||R.push(N):I[P]||R.push(N))})}return R},clearCheckboxReserve(){return s.checkboxReserveRowMap={},ge()},toggleAllCheckboxRow(){return _f(null,!i.isAllSelected),ge()},clearCheckboxRow(){const{treeConfig:r}=e,{tableFullData:l}=s,a=st.value,p=a.children||a.childrenField,g=$e.value,{checkField:b,reserve:w}=g,E=g.indeterminateField||g.halfField;if(b){const R=M=>{r&&E&&f.set(M,E,!1),f.set(M,b,!1)};r?f.eachTree(l,R,{children:p}):l.forEach(R)}return w&&l.forEach(R=>Wr(R,!1)),i.isAllSelected=!1,i.isIndeterminate=!1,s.selectCheckboxMaps={},s.treeIndeterminateRowMaps={},i.updateCheckboxFlag++,ge()},setCurrentRow(r){const l=re.value,a=S.value;return y.clearCurrentRow(),i.currentRow=r,(l.isCurrent||e.highlightCurrentRow)&&a&&f.arrayEach(a.querySelectorAll(`[rowid="${qe(h,r)}"]`),p=>xo(p,"row--current")),ge()},isCheckedByRadioRow(r){const{selectRadioRow:l}=i;return r&&l?h.eqRow(l,r):!1},isCheckedByRadioRowKey(r){const{selectRadioRow:l}=i;return l?r===qe(h,l):!1},setRadioRow(r){return eo(r,!0)},setRadioRowKey(r){const{fullAllDataRowIdData:l}=s,a=l[r];return a?eo(a.row,!0):ge()},clearCurrentRow(){const r=S.value;return i.currentRow=null,s.hoverRow=null,r&&f.arrayEach(r.querySelectorAll(".row--current"),l=>Yr(l,"row--current")),ge()},clearRadioRow(){return i.selectRadioRow=null,ge()},getCurrentRecord(){return re.value.isCurrent||e.highlightCurrentRow?i.currentRow:null},getRadioRecord(r){const{fullDataRowIdData:l,afterFullRowMaps:a}=s,{selectRadioRow:p}=i;if(p){const g=qe(h,p);if(r){if(l[g])return p}else if(a[g])return p}return null},getCurrentColumn(){return He.value.isCurrent||e.highlightCurrentColumn?i.currentColumn:null},setCurrentColumn(r){const{mouseConfig:l}=e,a=Ot.value,p=l&&a.selected,g=hr(h,r);return g&&(h.clearCurrentColumn(),i.currentColumn=g),ge().then(()=>{p&&h.addCellSelectedClass()})},clearCurrentColumn(){return i.currentColumn=null,ge()},setPendingRow(r,l){const{handleGetRowId:a}=pr(h),{pendingRowMaps:p}=s;return r&&!f.isArray(r)&&(r=[r]),l?r.forEach(g=>{const b=a(g);b&&!p[b]&&(p[b]=g)}):r.forEach(g=>{const b=a(g);b&&p[b]&&delete p[b]}),i.pendingRowFlag++,ge()},togglePendingRow(r){const{handleGetRowId:l}=pr(h),{pendingRowMaps:a}=s;return r&&!f.isArray(r)&&(r=[r]),r.forEach(p=>{const g=l(p);g&&(a[g]?delete a[g]:a[g]=p)}),i.pendingRowFlag++,ge()},hasPendingByRow(r){return y.isPendingByRow(r)},isPendingByRow(r){const{pendingRowMaps:l}=s,a=qe(h,r);return!!l[a]},getPendingRecords(){const{fullAllDataRowIdData:r,pendingRowMaps:l}=s,a=[];return f.each(l,(p,g)=>{r[g]&&a.push(p)}),a},clearPendingRow(){return s.pendingRowMaps={},i.pendingRowFlag++,ge()},sort(r,l){const a=Yt.value,{multiple:p,remote:g,orders:b}=a;return r&&f.isString(r)&&(r=[{field:r,order:l}]),f.isArray(r)||(r=[r]),r.length?(p||Mn(),(p?r:[r[0]]).forEach((w,E)=>{let{field:R,order:M}=w,I=R;f.isString(R)&&(I=y.getColumnByField(R)),I&&I.sortable&&(b&&b.indexOf(M)===-1&&(M=tn(I)),I.order!==M&&(I.order=M),I.sortTime=Date.now()+E)}),g||O.handleTableData(!0),ge().then(()=>(Mo(),y.updateCellAreas(),qt()))):ge()},setSort(r,l){const a=Yt.value,{multiple:p,remote:g,orders:b}=a;if(f.isArray(r)||(r=[r]),r&&r.length){p||(r=[r[0]],Mn());let w=null;return r.forEach((E,R)=>{let{field:M,order:I}=E,N=M;f.isString(M)&&(N=y.getColumnByField(M)),w||(w=N),N&&N.sortable&&(b&&b.indexOf(I)===-1&&(I=tn(N)),N.order!==I&&(N.order=I),N.sortTime=Date.now()+R)}),l&&(g||h.handleTableData(!0),h.handleColumnSortEvent(new Event("click"),w)),ge().then(()=>(Mo(),y.updateCellAreas(),qt()))}return ge()},clearSort(r){const l=Yt.value;if(r){const a=hr(h,r);a&&(a.order=null)}else Mn();return l.remote||h.handleTableData(!0),ge().then(()=>(Mo(),qt()))},isSort(r){if(r){const l=hr(h,r);return l?l.sortable&&!!l.order:!1}return y.getSortColumns().length>0},getSortColumns(){const r=Yt.value,{multiple:l,chronological:a}=r,p=[],{tableFullColumn:g}=s;return g.forEach(b=>{const{field:w,order:E}=b;b.sortable&&E&&p.push({column:b,field:w,property:w,order:E,sortTime:b.sortTime})}),l&&a&&p.length>1?f.orderBy(p,"sortTime"):p},closeFilter(){const{filterStore:r}=i,{column:l,visible:a}=r;return r.isAllSelected=!1,r.isIndeterminate=!1,r.options=[],r.visible=!1,a&&$t("filter-visible",{column:l,property:l.field,field:l.field,filterList:()=>h.getCheckedFilters(),visible:!1},null),ge()},isActiveFilterByColumn(r){const l=hr(h,r);return l?l.filters&&l.filters.some(a=>a.checked):h.getCheckedFilters().length>0},isFilter(r){return y.isActiveFilterByColumn(r)},isRowExpandLoaded(r){const{fullAllDataRowIdData:l}=s,a=l[qe(h,r)];return a&&!!a.expandLoaded},clearRowExpandLoaded(r){const{fullAllDataRowIdData:l,rowExpandLazyLoadedMaps:a}=s,p=wt.value,{lazy:g}=p,b=qe(h,r),w=l[b];return g&&w&&(w.expandLoaded=!1,delete a[b]),i.rowExpandedFlag++,ge()},reloadRowExpand(r){const{rowExpandLazyLoadedMaps:l}=s,a=wt.value,{lazy:p}=a,g=qe(h,r);return p&&!l[g]&&h.clearRowExpandLoaded(r).then(()=>wi(r)),ge()},reloadExpandContent(r){return h.reloadRowExpand(r)},toggleRowExpand(r){return h.setRowExpand(r,!h.isRowExpandByRow(r))},setAllRowExpand(r){const l=st.value,{tableFullData:a,tableFullTreeData:p}=s,g=l.children||l.childrenField;let b=[];return e.treeConfig?f.eachTree(p,w=>{b.push(w)},{children:g}):b=a,y.setRowExpand(b,r)},setRowExpand(r,l){const{expandColumn:a}=i;let{fullAllDataRowIdData:p,rowExpandedMaps:g,rowExpandLazyLoadedMaps:b}=s;const{handleGetRowId:w}=pr(h),E=wt.value,{reserve:R,lazy:M,accordion:I,toggleMethod:N}=E,P=[],$=a?h.getColumnIndex(a):-1,V=a?h.getVMColumnIndex(a):-1;if(r){f.isArray(r)||(r=[r]),I&&(g={},s.rowExpandedMaps=g,r=r.slice(r.length-1,r.length));const Q=N?r.filter(z=>N({$table:h,expanded:l,column:a,columnIndex:$,$columnIndex:V,row:z,rowIndex:h.getRowIndex(z),$rowIndex:h.getVMRowIndex(z)})):r;l?Q.forEach(z=>{const B=w(z);if(!g[B]){const ee=p[B];M&&!ee.expandLoaded&&!b[B]?P.push(wi(z)):g[B]=z}}):Q.forEach(z=>{const B=w(z);g[B]&&delete g[B]}),R&&Q.forEach(z=>yi(z,l))}return i.rowExpandedFlag++,Promise.all(P).then(()=>ge()).then(()=>h.recalculate(!0)).then(()=>(Mo(),An(),$f(),h.updateCellAreas()))},isRowExpandByRow(r){const{rowExpandedFlag:l}=i,{rowExpandedMaps:a}=s,p=qe(h,r);return!!l&&!!a[p]},isExpandByRow(r){return y.isRowExpandByRow(r)},clearRowExpand(){const{tableFullData:r}=s,l=wt.value,{reserve:a}=l,p=h.getRowExpandRecords();return s.rowExpandedMaps={},i.rowExpandedFlag++,a&&r.forEach(g=>yi(g,!1)),ge().then(()=>{if(p.length)return h.recalculate(!0)}).then(()=>(Mo(),An(),$f(),h.updateCellAreas()))},clearRowExpandReserve(){return s.rowExpandedReserveRowMap={},ge()},getRowExpandRecords(){const r=[];return f.each(s.rowExpandedMaps,l=>{l&&r.push(l)}),r},setRowGroups(r){const{rowGroupConfig:l}=e;return l?r?(Ri((f.isArray(r)?r:[r]).map(a=>f.isString(a)?a:a.field)),il(s.tableSynchData,!0)):ge():(Ze("vxe.error.reqProp",["row-group-config"]),ge())},clearRowGroups(){const{rowGroupConfig:r}=e;return r?(Ri([]),il(s.tableSynchData,!0)):(Ze("vxe.error.reqProp",["row-group-config"]),ge())},isRowGroupRecord(r){const{isRowGroupStatus:l}=i;return l&&r.isAggregate},isRowGroupExpandByRow(r){const{rowGroupExpandedFlag:l}=i,{rowGroupExpandedMaps:a}=s;return!!l&&!!a[qe(h,r)]},setRowGroupExpand(r,l){return r?(f.isArray(r)||(r=[r]),gC(r,l)):ge()},setAllRowGroupExpand(r){const{tableFullGroupData:l}=s,a=Ie.value,{mapChildrenField:p}=a,g={};return r&&p&&f.eachTree(l,b=>{b[p]&&b[p].length&&(g[qe(h,b)]=b)},{children:p}),s.rowGroupExpandedMaps=g,Qr(),i.rowGroupExpandedFlag++,h.handleTableData()},clearRowGroupExpand(){return s.rowGroupExpandedMaps={},Qr(),i.rowGroupExpandedFlag++,h.handleTableData()},getTreeExpandRecords(){const r=[];return f.each(s.treeExpandedMaps,l=>{l&&r.push(l)}),r},isTreeExpandLoaded(r){const{fullAllDataRowIdData:l}=s,a=l[qe(h,r)];return a&&!!a.treeLoaded},clearTreeExpandLoaded(r){const{fullAllDataRowIdData:l,treeExpandedMaps:a}=s,p=st.value,{transform:g}=p;return r?(f.isArray(r)||(r=[r]),r.forEach(b=>{const w=qe(h,b),E=l[w];E&&(E.treeLoaded=!1,a[w]&&delete a[w])})):f.each(l,b=>{b.treeLoaded=!1}),s.treeExpandedMaps={},g&&(Qr(),h.handleTableData()),i.treeExpandedFlag++,ge()},reloadTreeExpand(r){const{treeExpandLazyLoadedMaps:l}=s,a=st.value,p=a.hasChild||a.hasChildField,{transform:g,lazy:b}=a,w=qe(h,r);return b&&r[p]&&!l[w]?h.clearTreeExpandLoaded(r).then(()=>Vr(r)).then(()=>{g&&(Qr(),h.handleTableData()),i.treeExpandedFlag++}).then(()=>h.recalculate()):ge()},reloadTreeChilds(r){return h.reloadTreeExpand(r)},toggleTreeExpand(r){return h.setTreeExpand(r,!h.isTreeExpandByRow(r))},setAllTreeExpand(r){const{tableFullData:l}=s,a=st.value,{transform:p,lazy:g}=a,b=a.children||a.childrenField,w=[];return f.eachTree(l,E=>{const R=E[b];(g||R&&R.length)&&w.push(E)},{children:b}),h.setTreeExpand(w,r).then(()=>{if(p)return Qr(),i.treeExpandedFlag++,h.recalculate()})},setTreeExpand(r,l){const a=st.value,{transform:p}=a;return r&&(f.isArray(r)||(r=[r]),r.length)?p?hC(r,l):qf(r,l):ge()},isTreeExpandByRow(r){const{treeExpandedFlag:l}=i,{treeExpandedMaps:a}=s;return!!l&&!!a[qe(h,r)]},clearTreeExpand(){const{tableFullTreeData:r}=s,l=st.value,a=l.children||l.childrenField,{transform:p,reserve:g}=l,b=h.getTreeExpandRecords();return s.treeExpandedMaps={},g&&f.eachTree(r,w=>Ci(w,!1),{children:a}),h.handleTableData().then(()=>{p&&(Qr(),h.handleTableData()),i.treeExpandedFlag++}).then(()=>{if(b.length)return h.recalculate()})},clearTreeExpandReserve(){return s.treeExpandedReserveRowMap={},ge()},getScroll(){const{scrollXLoad:r,scrollYLoad:l}=i,{elemStore:a}=s,p=rt(a["main-body-scroll"]);return{virtualX:r,virtualY:l,scrollTop:p?p.scrollTop:0,scrollLeft:p?p.scrollLeft:0}},scrollTo(r,l){const{elemStore:a}=s,p=rt(a["main-header-scroll"]),g=rt(a["main-body-scroll"]),b=rt(a["main-footer-scroll"]),w=rt(a["left-body-scroll"]),E=rt(a["right-body-scroll"]),R=se.value,M=he.value;return s.intoRunScroll=!0,f.isNumber(r)&&(jt(R,r),jt(g,r),jt(p,r),jt(b,r),kn()),f.isNumber(l)&&(zt(M,l),zt(g,l),zt(w,l),zt(E,l),Gl()),i.scrollXLoad||i.scrollYLoad?new Promise(I=>{setTimeout(()=>{ge(()=>{s.intoRunScroll=!1,I()})},30)}):ge()},scrollToRow(r,l){const{isAllOverflow:a,scrollYLoad:p,scrollXLoad:g}=i,b=[];return r&&(e.treeConfig?b.push(h.scrollToTreeRow(r)):b.push(bm(h,r))),l&&b.push(yC(l,r)),Promise.all(b).then(()=>{if(r)return!a&&(p||g)&&($r(),an()),ge()})},scrollToColumn(r){const{fullColumnIdData:l}=s,a=hr(h,r);return a&&l[a.id]?xm(h,a):ge()},clearScroll(){const{elemStore:r,scrollXStore:l,scrollYStore:a}=s,p=rt(r["main-header-scroll"]),g=rt(r["main-body-scroll"]),b=rt(r["main-footer-scroll"]),w=rt(r["left-body-scroll"]),E=rt(r["right-body-scroll"]),R=se.value,M=he.value;return s.intoRunScroll=!0,jt(R,0),jt(g,0),jt(p,0),jt(b,0),zt(M,0),zt(g,0),zt(w,0),zt(E,0),l.startIndex=0,l.visibleStartIndex=0,l.endIndex=l.visibleSize,l.visibleEndIndex=l.visibleSize,a.startIndex=0,a.visibleStartIndex=0,a.endIndex=a.visibleSize,a.visibleEndIndex=a.visibleSize,ge().then(()=>{s.intoRunScroll=!1})},updateFooter(){const{showFooter:r,footerData:l,footerMethod:a}=e,{visibleColumn:p,afterFullData:g}=s;let b=[];return r&&l&&l.length?b=l.slice(0):r&&a&&(b=p.length?a({columns:p,data:g,$table:h,$grid:Ge}):[]),i.footerTableData=b,h.handleUpdateFooterMerge(),ge()},updateStatus(r,l){return ge().then(()=>{const{editRules:a}=e;if(r&&a)return h.handleCellRuleUpdateStatus("change",r,l)})},setMergeCells(r){return e.spanMethod&&Ze("vxe.error.errConflicts",["merge-cells","span-method"]),ol(r),h.handleUpdateBodyMerge(),ge().then(()=>(h.updateCellAreas(),qt()))},removeMergeCells(r){e.spanMethod&&Ze("vxe.error.errConflicts",["merge-cells","span-method"]);const l=Br(r,s.mergeBodyList,s.afterFullData);return ge().then(()=>(h.updateCellAreas(),qt(),l))},getMergeCells(){return s.mergeBodyList.slice(0)},clearMergeCells(){return s.mergeBodyList=[],s.mergeBodyMaps={},s.mergeBodyCellMaps={},ge().then(()=>qt())},setMergeFooterItems(r){return e.footerSpanMethod&&Ze("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Bl(r),h.handleUpdateFooterMerge(),ge().then(()=>(y.updateCellAreas(),qt()))},removeMergeFooterItems(r){e.footerSpanMethod&&Ze("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const l=Br(r,s.mergeFooterList);return ge().then(()=>(y.updateCellAreas(),qt(),l))},getMergeFooterItems(){return s.mergeFooterList.slice(0)},clearMergeFooterItems(){return s.mergeFooterList=[],s.mergeFooterMaps={},s.mergeFooterCellMaps={},ge().then(()=>qt())},updateCellAreas(){const{mouseConfig:r}=e,l=Ot.value;return r&&l.area&&h.handleRecalculateCellAreaEvent?h.handleRecalculateCellAreaEvent():ge()},getCustomStoreData(){const{id:r}=e,l=yr.value,{collectColumn:a}=s,{storage:p,checkMethod:g}=l,b=p===!0,w=b?{}:Object.assign({},p||{}),E=b||w.resizable,R=b||w.visible,M=b||w.fixed,I=b||w.sort,N={},P={},$={},V={},Q={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(!r)return Ze("vxe.error.reqProp",["id"]),Q;let z=0,B=0,ee=0,Z=0;return f.eachTree(a,(L,ke,ye,De,Xe)=>{const Pe=L.getKey();if(!Pe){Ze("vxe.error.reqProp",[`${L.getTitle()||L.type||""} -> column.field=?`]);return}Xe||(I&&(B=1,P[Pe]=L.renderSortNumber),M&&L.fixed!==L.defaultFixed&&(ee=1,V[Pe]=L.fixed)),E&&L.resizeWidth&&(z=1,N[Pe]=L.renderWidth),R&&(!g||g({$table:h,column:L}))&&(!L.visible&&L.defaultVisible?(Z=1,$[Pe]=!1):L.visible&&!L.defaultVisible&&(Z=1,$[Pe]=!0))}),z&&(Q.resizableData=N),B&&(Q.sortData=P),ee&&(Q.fixedData=V),Z&&(Q.visibleData=$),Q},focus(){return s.isActivated=!0,ge()},blur(){return s.isActivated=!1,ge()},connect(r){return r?(je=r,je.syncUpdate({collectColumn:s.collectColumn,$table:h})):Ze("vxe.error.barUnableLink"),ge()}};const EC=r=>{const{editStore:l,ctxMenuStore:a,filterStore:p,customStore:g}=i,{mouseConfig:b,editRules:w}=e,E=S.value,R=Zt.value,M=nt.value,I=Qt.value,{actived:N}=l,P=_.value,$=U.value,V=te.value,Q=W.value;if($&&(Nt(r,E,"vxe-cell--filter").flag||Nt(r,$.getRefMaps().refElem.value).flag||Nt(r,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(r,"event.clearFilter",p.args,y.closeFilter)),V&&(g.btnEl===r.target||Nt(r,document.body,"vxe-toolbar-custom-target").flag||Nt(r,V.$el).flag||Nt(r,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(r,"event.clearCustom",{},()=>{h.closeCustom&&h.closeCustom()})),N.row){if(R.autoClear!==!1){const B=N.args.cell;(!B||!Nt(r,B).flag)&&(P&&Nt(r,P.$el).flag||(!s._lastCallTime||s._lastCallTime+50<Date.now())&&(Nt(r,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(r,"event.clearEdit",N.args,()=>{let ee;if(R.mode==="row"){const Z=Nt(r,E,"vxe-body--row"),L=Z.flag?y.getRowNode(Z.targetElem):null;ee=L?!h.eqRow(L.item,N.args.row):!1}else ee=!Nt(r,E,"col--edit").flag;if(ee||(ee=Nt(r,E,"vxe-header--row").flag),ee||(ee=Nt(r,E,"vxe-footer--row").flag),!ee&&e.height&&!i.overflowY){const Z=r.target;No(Z,"vxe-table--body-wrapper")&&(ee=r.offsetY<Z.clientHeight)}(ee||!Nt(r,E).flag)&&setTimeout(()=>{h.handleClearEdit(r).then(()=>{!s.isActivated&&w&&M.autoClear&&(i.validErrorMaps={})})})})))}}else if(b&&!Nt(r,E).flag&&!(Ge&&Nt(r,Ge.getRefMaps().refElem.value).flag)&&!(Q&&Nt(r,Q.getRefMaps().refElem.value).flag)&&!(je&&Nt(r,je.getRefMaps().refElem.value).flag)&&(h.clearSelected&&h.clearSelected(),I.autoClear&&h.getCellAreas)){const B=h.getCellAreas();B&&B.length&&!Nt(r,document.body,"vxe-table--ignore-areas-clear").flag&&O.preventEvent(r,"event.clearAreas",{},()=>{h.clearCellAreas(),h.clearCopyCellArea(),$t("clear-cell-area-selection",{cellAreas:B},r)})}h.closeMenu&&a.visible&&Q&&!Nt(r,Q.getRefMaps().refElem.value).flag&&h.closeMenu();const z=Nt(r,Ge?Ge.getRefMaps().refElem.value:E).flag;!z&&w&&M.autoClear&&(i.validErrorMaps={}),s.isActivated=z},RC=()=>{y.closeFilter(),h.closeMenu&&h.closeMenu()},SC=()=>{y.closeTooltip(),h.closeMenu&&h.closeMenu()},OC=r=>{const{mouseConfig:l,keyboardConfig:a}=e,{filterStore:p,ctxMenuStore:g,editStore:b}=i,w=Ot.value,E=et.value,{actived:R}=b;Kt.hasKey(r,oo.ESCAPE)&&O.preventEvent(r,"event.keydown",null,()=>{if($t("keydown-start",{},r),a&&l&&w.area&&h.handleKeyboardCellAreaEvent)h.handleKeyboardCellAreaEvent(r);else if((R.row||p.visible||g.visible)&&(r.stopPropagation(),h.closeMenu&&h.closeMenu(),y.closeFilter(),a&&E.isEsc&&R.row)){const I=R.args;h.handleClearEdit(r),w.selected&&ge(()=>h.handleSelected(I,r))}$t("keydown",{},r),$t("keydown-end",{},r)})},DC=r=>{s.isActivated&&h.preventEvent(r,"event.keydown",null,()=>{const{mouseConfig:l,keyboardConfig:a,treeConfig:p,editConfig:g,highlightCurrentRow:b,highlightCurrentColumn:w}=e,{ctxMenuStore:E,editStore:R,currentRow:M}=i,{afterFullData:I}=s,N=er.value,P=gr.value,$=et.value,V=Ot.value,Q=Zt.value,z=st.value,B=Rr.value,ee=re.value,Z=He.value,{selected:L,actived:ke}=R,ye=z.children||z.childrenField,De=r.keyCode,Xe=Kt.hasKey(r,oo.ESCAPE),Pe=Kt.hasKey(r,oo.BACKSPACE),We=Kt.hasKey(r,oo.TAB),Ke=Kt.hasKey(r,oo.ENTER),Ve=Kt.hasKey(r,oo.SPACEBAR),ct=Kt.hasKey(r,oo.ARROW_LEFT),vt=Kt.hasKey(r,oo.ARROW_UP),at=Kt.hasKey(r,oo.ARROW_RIGHT),dt=Kt.hasKey(r,oo.ARROW_DOWN),Rt=Kt.hasKey(r,oo.DELETE),Vt=Kt.hasKey(r,oo.F2),_t=Kt.hasKey(r,oo.CONTEXT_MENU),tr=si(r),St=r.shiftKey,xr=r.altKey,nr=ct||vt||at||dt,Or=N&&E.visible&&(Ke||Ve||nr),Er=Ct(g)&&ke.column&&ke.row,Fr=Q.beforeEditMethod||Q.activeMethod;if(Or)r.preventDefault(),E.showChild&&El(E.selected)?h.moveCtxMenu(r,E,"selectChild",ct,!1,E.selected.children):h.moveCtxMenu(r,E,"selected",at,!0,B);else if(a&&l&&V.area&&h.handleKeyboardCellAreaEvent)h.handleKeyboardCellAreaEvent(r);else if(Xe){if(h.closeMenu&&h.closeMenu(),h.closeFilter(),a&&$.isEsc&&ke.row){const Gt=ke.args;h.handleClearEdit(r),V.selected&&ge(()=>h.handleSelected(Gt,r))}}else if(Ve&&a&&$.isChecked&&L.row&&L.column&&(L.column.type==="checkbox"||L.column.type==="radio"))r.preventDefault(),L.column.type==="checkbox"?O.handleToggleCheckRowEvent(r,L.args):O.triggerRadioRowEvent(r,L.args);else if(Vt&&Ct(g))Er||L.row&&L.column&&(r.preventDefault(),h.handleEdit(L.args,r));else if(_t)s._keyCtx=L.row&&L.column&&P.length,clearTimeout(s.keyCtxTimeout),s.keyCtxTimeout=setTimeout(()=>{s._keyCtx=!1},1e3);else if(Ke&&!xr&&a&&$.isEnter&&(L.row||ke.row||p&&(ee.isCurrent||b)&&M)){const{isLastEnterAppendRow:Gt,beforeEnterMethod:sr,enterMethod:Gr}=$;if(tr){if(ke.row){const Ir=ke.args;h.handleClearEdit(r),V.selected&&ge(()=>{h.handleSelected(Ir,r)})}}else if(L.row||ke.row){const Ir=L.row?L.args:ke.args;if(St)$.enterToTab?h.moveTabSelected(Ir,St,r):h.moveEnterSelected(Ir,ct,!0,at,!1,r);else if($.enterToTab)h.moveTabSelected(Ir,St,r);else{const to=L.row||ke.row,uo=L.column||ke.column,ul=h.getVTRowIndex(to),Go={row:to,rowIndex:h.getRowIndex(to),$rowIndex:h.getVMRowIndex(to),_rowIndex:ul,column:uo,columnIndex:h.getColumnIndex(uo),$columnIndex:h.getVMColumnIndex(uo),_columnIndex:h.getVTColumnIndex(uo),$table:h};if(!sr||sr(Go)!==!1){if(Gt&&ul>=I.length-1){h.insertAt({},-1).then(({row:Ii})=>{h.scrollToRow(Ii,uo),h.handleSelected(Object.assign(Object.assign({},Ir),{row:Ii}),r)}),h.dispatchEvent("enter-append-row",Go,r);return}h.moveEnterSelected(Ir,ct,!1,at,!0,r),Gr&&Gr(Go)}}}else if(p&&(ee.isCurrent||b)&&M){const Ir=M[ye];if(Ir&&Ir.length){r.preventDefault();const to=Ir[0],uo={$table:h,row:to,rowIndex:h.getRowIndex(to),$rowIndex:h.getVMRowIndex(to)};h.setTreeExpand(M,!0).then(()=>h.scrollToRow(to)).then(()=>h.triggerCurrentRowEvent(r,uo))}}}else if(nr&&a&&$.isArrow)Er||(V.selected&&L.row&&L.column?h.moveArrowSelected(L.args,ct,vt,at,dt,r):((vt||dt)&&(ee.isCurrent||b)&&h.moveCurrentRow(vt,dt,r),(ct||at)&&(Z.isCurrent||w)&&h.moveCurrentColumn(ct,at,r)));else if(We&&a&&$.isTab)L.row||L.column?h.moveTabSelected(L.args,St,r):(ke.row||ke.column)&&h.moveTabSelected(ke.args,St,r);else if(a&&$.isDel&&Rt&&Ct(g)&&(L.row||L.column)){if(!Er){const{delMethod:Gt}=$,sr={row:L.row,rowIndex:y.getRowIndex(L.row),column:L.column,columnIndex:y.getColumnIndex(L.column),$table:h,$grid:Ge};(!Fr||Fr(sr))&&(Gt?Gt(sr):Ho(L.row,L.column,null),y.updateFooter(),$t("cell-delete-value",sr,r))}}else if(Pe&&a&&$.isBack&&Ct(g)&&(L.row||L.column)){if(!Er){const{backMethod:Gt}=$;if($.isDel&&Ct(g)&&(L.row||L.column)){const sr={row:L.row,rowIndex:h.getRowIndex(L.row),column:L.column,columnIndex:h.getColumnIndex(L.column),$table:h,$grid:Ge};(!Fr||Fr(sr))&&(Gt?Gt(sr):(Ho(L.row,L.column,null),h.handleEdit(L.args,r)),$t("cell-backspace-value",sr,r))}}}else if(Pe&&a&&p&&$.isBack&&(ee.isCurrent||b)&&M){const{parent:Gt}=f.findTree(s.afterTreeFullData,sr=>sr===M,{children:ye});if(Gt){r.preventDefault();const sr={row:Gt,rowIndex:h.getRowIndex(Gt),$rowIndex:h.getVMRowIndex(Gt),$table:h,$grid:Ge};h.setTreeExpand(Gt,!1).then(()=>h.scrollToRow(Gt)).then(()=>h.triggerCurrentRowEvent(r,sr))}}else if(a&&Ct(g)&&$.isEdit&&!tr&&(Ve||De>=48&&De<=57||De>=65&&De<=90||De>=96&&De<=111||De>=186&&De<=192||De>=219&&De<=222)){const{editMode:Gt,editMethod:sr}=$;if(L.column&&L.row&&Ct(L.column.editRender)){const Gr=Q.beforeEditMethod||Q.activeMethod,Ir={row:L.row,rowIndex:h.getRowIndex(L.row),column:L.column,columnIndex:h.getColumnIndex(L.column),$table:h,$grid:Ge};(!Gr||Gr(Object.assign(Object.assign({},L.args),{$table:h,$grid:Ge})))&&(sr?sr(Ir):(Gt!=="insert"&&Ho(L.row,L.column,null),h.handleEdit(L.args,r)))}}$t("keydown",{},r)})},MC=r=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:p,filterStore:g}=i,{isActivated:b}=s,w=Ot.value,E=et.value,{actived:R}=p;b&&!g.visible&&(R.row||R.column||l&&E.isClip&&a&&w.area&&h.handlePasteCellAreaEvent&&h.handlePasteCellAreaEvent(r),$t("paste",{},r))},TC=r=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:p,filterStore:g}=i,{isActivated:b}=s,w=Ot.value,E=et.value,{actived:R}=p;b&&!g.visible&&(R.row||R.column||l&&E.isClip&&a&&w.area&&h.handleCopyCellAreaEvent&&h.handleCopyCellAreaEvent(r),$t("copy",{},r))},FC=r=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:p,filterStore:g}=i,{isActivated:b}=s,w=Ot.value,E=et.value,{actived:R}=p;b&&!g.visible&&(R.row||R.column||l&&E.isClip&&a&&w.area&&h.handleCutCellAreaEvent&&h.handleCutCellAreaEvent(r),$t("cut",{},r))},zf=()=>{h.closeMenu&&h.closeMenu();const r=S.value;if(!r||!r.clientWidth)return ge();y.recalculate(!0),y.updateCellAreas()},Mi=r=>{const l=q.value;clearTimeout(s.tooltipTimeout),r?y.closeTooltip():l&&l.setActived&&l.setActived(!0)},Wf=()=>{const{dragRow:r,dragCol:l}=i;(r||l)&&(Ti(),Cs(),sl(),i.dragRow=null,i.dragCol=null,i.isDragColMove=!1,i.isDragRowMove=!1)},Cs=()=>{const r=S.value;if(r){const l="row--drag-origin";f.arrayEach(r.querySelectorAll(`.${l}`),a=>{a.draggable=!1,Yr(a,l)})}},IC=r=>{const l=S.value;if(l){const a="row--drag-origin",p=qe(h,r);f.arrayEach(l.querySelectorAll(`[rowid="${p}"]`),g=>{xo(g,a)})}},kC=r=>{const{dragConfig:l}=e,{dragRow:a}=i,p=tt.value,{tooltipMethod:g}=p,b=g||(l?l.rowTooltipMethod:null);let w="";b?w=`${b({$table:h,row:a})||""}`:w=Fo("vxe.table.dragTip",[r.textContent||""]),i.dragTipText=w},AC=r=>{const l=S.value;if(l){const a=[];f.eachTree([r],g=>{a.push(`[colid="${g.id}"]`)});const p="col--drag-origin";f.arrayEach(l.querySelectorAll(a.join(",")),g=>{xo(g,p)})}},Ti=()=>{const r=S.value;if(r){const l="col--drag-origin";f.arrayEach(r.querySelectorAll(`.${l}`),a=>{a.draggable=!1,Yr(a,l)})}},LC=r=>{const{dragCol:l}=i,a=lt.value,{tooltipMethod:p}=a;let g="";p?g=`${p({$table:h,column:l})||""}`:g=Fo("vxe.table.dragTip",[r.textContent||""]),i.dragTipText=g},Fi=(r,l,a,p,g)=>{const b=S.value;if(!b)return;const{overflowX:w,scrollbarWidth:E,overflowY:R,scrollbarHeight:M}=i,{prevDragToChild:I}=s,N=b.getBoundingClientRect(),P=R?E:0,$=w?M:0,V=b.clientWidth,Q=b.clientHeight;if(l){const B=de.value;if(B)if(p){const ee=Ue.value,Z=l.getBoundingClientRect();let L=l.clientHeight;const ke=Math.max(1,Z.y-N.y);ke+L>Q-$&&(L=Q-ke-$),B.style.display="block",B.style.left=`${ee?P:0}px`,B.style.top=`${ke}px`,B.style.height=`${L}px`,B.style.width=`${V-P}px`,B.setAttribute("drag-pos",g),B.setAttribute("drag-to-child",I?"y":"n")}else B.style.display=""}else if(a){const B=ce.value;if(B)if(p){const ee=Ne.value,Z=xe.value,L=Z?Z.clientWidth:0,ke=ue.value,ye=ke?ke.clientWidth:0,De=a.getBoundingClientRect();let Xe=a.clientWidth;const Pe=Math.max(0,De.y-N.y),We=L;let Ke=De.x-N.x;Ke<We&&(Xe-=We-Ke,Ke=We);const Ve=V-ye-(ye?0:P);Ke+Xe>Ve&&(Xe=Ve-Ke),B.style.display="block",B.style.top=`${Pe}px`,B.style.left=`${Ke}px`,B.style.width=`${Xe}px`,I?B.style.height=`${De.height}px`:B.style.height=`${Q-Pe-(ee?0:$)}px`,B.setAttribute("drag-pos",g),B.setAttribute("drag-to-child",I?"y":"n")}else B.style.display=""}const z=G.value;z&&(z.style.display="block",z.style.top=`${Math.min(b.clientHeight-b.scrollTop-z.clientHeight,r.clientY-N.y)}px`,z.style.left=`${Math.min(b.clientWidth-b.scrollLeft-z.clientWidth-16,r.clientX-N.x)}px`,z.setAttribute("drag-status",p?I?"sub":"normal":"disabled"))},sl=()=>{const r=G.value,l=de.value,a=ce.value;r&&(r.style.display=""),l&&(l.style.display=""),a&&(a.style.display="")},ws=(r,l,a,p,g)=>{const b=a||l;if(!b)return ge();g.cell=l;const{tooltipStore:w}=i,E=Bt.value,{column:R,row:M}=g,{showAll:I,contentMethod:N}=E,P=N?N(g):null,$=N&&!f.eqNull(P),V=$?P:f.toString(R.type==="html"?b.innerText:b.textContent).trim(),Q=b.scrollWidth>b.clientWidth;return V&&(I||$||Q)&&(Object.assign(w,{row:M,column:R,visible:!0,currOpts:{}}),ge(()=>{const z=q.value;z&&z.open&&z.open(Q?b:p,Cr(V))})),ge()},jl=(r,l)=>{if(r){if(Ge)return Ge.callSlot(r,l);if(f.isFunction(r))return Ar(r(l))}return[]};O={getSetupOptions(){return Dt()},updateAfterDataIndex:_r,callSlot:jl,getParentElem(){const r=S.value;if(Ge){const l=Ge.getRefMaps().refElem.value;return l?l.parentNode:null}return r?r.parentNode:null},getParentHeight(){const{height:r}=e,l=S.value;if(l){const a=l.parentNode,p=r==="100%"||r==="auto"?tf(a):0;let g=0;return a&&(Ge&&No(a,"vxe-grid--table-wrapper")?g=Ge.getParentHeight():g=a.clientHeight),Math.floor(g-p)}return 0},getExcludeHeight(){return Ge?Ge.getExcludeHeight():0},defineField(r){const{treeConfig:l}=e,a=wt.value,p=st.value,g=Tt.value,b=$e.value,w=p.children||p.childrenField,E=Ao(h);return f.isArray(r)||(r=[r]),r.map(R=>(s.tableFullColumn.forEach(I=>{const{field:N,editRender:P}=I;if(N&&!f.has(R,N)&&!R[N]){let $=null;if(P){const{defaultValue:V}=P;f.isFunction(V)?$=V({column:I}):f.isUndefined(V)||($=V)}f.set(R,N,$)}}),[g.labelField,b.checkField,b.labelField,a.labelField].forEach(I=>{I&&_o(f.get(R,I))&&f.set(R,I,null)}),l&&p.lazy&&f.isUndefined(R[w])&&(R[w]=null),_o(f.get(R,E))&&f.set(R,E,ai()),R))},handleTableData(r){const{scrollYLoad:l}=i,{scrollYStore:a,fullDataRowIdData:p}=s;let g=s.afterFullData;r&&(co(),g=Qr());const b=l?g.slice(a.startIndex,a.endIndex):g.slice(0),w={};return b.forEach((E,R)=>{const M=qe(h,E),I=p[M];I&&(I.$index=R),w[M]=E}),i.tableData=b,s.visibleDataRowIdData=w,ge()},cacheRowMap(r){const{treeConfig:l}=e,{isRowGroupStatus:a}=i,{fullAllDataRowIdData:p,tableFullData:g,tableFullTreeData:b,tableFullGroupData:w,treeExpandedMaps:E}=s,R=r?{}:Object.assign({},p),M={},{handleUpdateRowId:I}=hm(h),N=(P,$,V,Q,z,B,ee,Z)=>{let L=R[B];L||(L={row:P,rowid:B,seq:Z,index:-1,_index:-1,$index:-1,treeIndex:$,items:V,parent:z,level:ee,height:0,resizeHeight:0,oTop:0,expandHeight:0},M[B]=L,R[B]=L),L.treeLoaded=!1,L.expandLoaded=!1,L.row=P,L.items=V,L.parent=z,L.level=ee,L.index=Q,L.treeIndex=$,M[B]=L,R[B]=L};if(l){const P=st.value,{lazy:$}=P,V=P.children||P.childrenField,Q=P.hasChild||P.hasChildField;f.eachTree(b,(z,B,ee,Z,L,ke)=>{const ye=I(z);l&&$&&(z[Q]&&z[V]===void 0&&(z[V]=null),E[ye]&&(!z[V]||!z[V].length)&&delete E[ye]),N(z,B,ee,L?-1:B,L,ye,ke.length-1,gm(Z))},{children:V})}else if(a){const P=Ie.value,{mapChildrenField:$}=P;f.eachTree(w,(V,Q,z,B,ee,Z)=>{const L=I(V);N(V,Q,z,ee?-1:Q,ee,L,Z.length-1,gm(B))},{children:$})}else g.forEach((P,$,V)=>{N(P,$,V,$,null,I(P),0,$+1)});s.fullDataRowIdData=M,s.fullAllDataRowIdData=R,i.treeExpandedFlag++},cacheSourceMap(r){const{treeConfig:l}=e,a=st.value,p=f.clone(r,!0),{handleUpdateRowId:g}=hm(h),b={},w=E=>{const R=g(E);b[R]=E};if(l){const E=a.children||a.childrenField;f.eachTree(p,w,{children:a.transform?a.mapChildrenField:E})}else p.forEach(w);s.sourceDataRowIdData=b,s.tableSourceData=p},analyColumnWidth(){const{tableFullColumn:r}=s,l=He.value,{width:a,minWidth:p}=l,g=[],b=[],w=[],E=[],R=[],M=[],I=[],N=[];r.forEach(P=>{a&&!P.width&&(P.width=a),p&&!P.minWidth&&(P.minWidth=p),P.visible&&(P.resizeWidth?g.push(P):P.width==="auto"?I.push(P):ef(P.width)?b.push(P):wl(P.width)?R.push(P):ef(P.minWidth)?w.push(P):P.minWidth==="auto"?E.push(P):wl(P.minWidth)?M.push(P):N.push(P))}),Object.assign(i.columnStore,{resizeList:g,pxList:b,pxMinList:w,autoMinList:E,scaleList:R,scaleMinList:M,autoList:I,remainList:N})},handleColResizeMousedownEvent(r,l,a){r.stopPropagation(),r.preventDefault();const{column:p}=a,{overflowX:g,scrollbarHeight:b}=i,{elemStore:w,visibleColumn:E}=s,R=ht.value,M=g?b:0,I=S.value,N=xe.value,P=ue.value,$=pe.value;if(!$)return;const V=$.firstElementChild,Q=Ne.value,{clientX:z}=r,B=S.value,ee=r.target;let Z=p;p.children&&p.children.length&&f.eachTree(p.children,Vt=>{Z=Vt});const L=ee.parentNode,ke=Object.assign(a,{cell:L});let ye=0;const De=rt(w["main-body-scroll"]);if(!De)return;const Xe=jE(ee,B),Pe=ee.clientWidth,We=Math.floor(Pe/2),Ke=vm(ke)-We;let Ve=Xe.left-L.clientWidth+Pe+Ke,ct=Xe.left+We;const vt=l==="left",at=l==="right";let dt=0;if(vt||at){const Vt=vt?"nextElementSibling":"previousElementSibling";let _t=L[Vt];for(;_t&&!No(_t,"fixed--hidden");)No(_t,"col--group")||(dt+=_t.offsetWidth),_t=_t[Vt];at&&P&&(ct=P.offsetLeft+dt)}const Rt=Vt=>{Vt.stopPropagation(),Vt.preventDefault();const _t=I.clientHeight,tr=Vt.clientX-z;let St=ct+tr;const xr=l?0:De.scrollLeft;vt?St=Math.min(St,(P?P.offsetLeft:De.clientWidth)-dt-Ke):at?(Ve=(N?N.clientWidth:0)+dt+Ke,St=Math.min(St,ct+L.clientWidth-Ke)):Ve=Math.max(De.scrollLeft,Ve),ye=Math.max(St,Ve);const nr=Math.max(1,ye-xr);if($.style.left=`${nr}px`,$.style.top=`${Q?M:0}px`,$.style.height=`${Q?_t-M:_t}px`,R.showDragTip&&V){V.textContent=Fo("vxe.table.resizeColTip",[Z.renderWidth+(at?ct-ye:ye-ct)]);const Or=I.clientWidth,Er=B.getBoundingClientRect(),Fr=$.clientWidth,Gt=V.clientWidth,sr=V.clientHeight;let Gr=-Gt;nr<Gt+Fr?Gr=0:nr>Or&&(Gr+=Or-nr),V.style.left=`${Gr}px`,V.style.top=`${Math.min(_t-sr,Math.max(0,Vt.clientY-Er.y-sr/2))}px`}i.isDragResize=!0};i.isDragResize=!0,xo(I,"col-drag--resize"),$.style.display="block",document.onmousemove=Rt,document.onmouseup=function(Vt){document.onmousemove=null,document.onmouseup=null,$.style.display="none",s._lastResizeTime=Date.now(),setTimeout(()=>{i.isDragResize=!1},50);const _t=Z.renderWidth+(at?ct-ye:ye-ct),tr=Object.assign(Object.assign({},a),{resizeWidth:_t,resizeColumn:Z});R.dragMode==="fixed"&&E.forEach(St=>{St.id!==Z.id&&(St.resizeWidth||(St.resizeWidth=St.renderWidth))}),h.handleColResizeCellAreaEvent?h.handleColResizeCellAreaEvent(Vt,tr):(Z.resizeWidth=_t,Nf(Vt,tr)),Yr(I,"col-drag--resize")},Rt(r),h.closeMenu&&h.closeMenu()},handleColResizeDblclickEvent(r,l){const a=ht.value,{isDblclickAutoWidth:p}=a,g=S.value;if(p&&g){r.stopPropagation(),r.preventDefault();const{fullColumnIdData:b}=s,{column:w}=l;let E=w;w.children&&w.children.length&&f.eachTree(w.children,z=>{E=z});const R=E.id,M=b[R],N=r.target.parentNode,P=Object.assign(l,{cell:N}),$=vm(P);g.setAttribute("data-calc-col","Y");let V=nl(E,g);g.removeAttribute("data-calc-col"),M&&(V=Math.max(V,M.width)),V=Math.max($,V);const Q=Object.assign(Object.assign({},l),{resizeWidth:V,resizeColumn:E});i.isDragResize=!1,s._lastResizeTime=Date.now(),h.handleColResizeDblclickCellAreaEvent?h.handleColResizeDblclickCellAreaEvent(r,Q):(E.resizeWidth=V,Nf(r,Q))}},handleRowResizeMousedownEvent(r,l){r.stopPropagation(),r.preventDefault();const{row:a}=l,{overflowX:p,scrollbarWidth:g,overflowY:b,scrollbarHeight:w}=i,{elemStore:E,fullAllDataRowIdData:R}=s,M=b?g:0,I=p?w:0,N=Ue.value,P=ht.value,$=re.value,V=Qe.value,Q=S.value,z=Se.value;if(!z)return;const{clientY:B}=r,ee=z.firstElementChild,L=r.currentTarget.parentNode,ke=L.parentNode;if(!rt(E["main-body-scroll"]))return;const De=qe(h,a),Xe=R[De];if(!Xe)return;const Pe=Me.value,We=Xe.resizeHeight||V.height||$.height||Xe.height||Pe,Ke=Q.getBoundingClientRect(),Ve=ke.getBoundingClientRect(),ct=B-Ve.y-ke.clientHeight;let vt=We;const at=L.querySelector(".vxe-cell");let dt=0;if(at){const _t=getComputedStyle(at);dt=Math.max(1,Math.ceil(f.toNumber(_t.paddingTop)+f.toNumber(_t.paddingBottom)))}const Rt=Ve.y-Ke.y+dt,Vt=_t=>{_t.stopPropagation(),_t.preventDefault();const tr=Q.clientWidth-M,St=Q.clientHeight-I;let xr=_t.clientY-Ke.y-ct;if(xr<Rt?xr=Rt:vt=Math.max(dt,We+_t.clientY-B),z.style.left=`${N?M:0}px`,z.style.top=`${xr}px`,z.style.width=`${tr}px`,P.showDragTip&&ee){ee.textContent=Fo("vxe.table.resizeRowTip",[vt]);const nr=ee.clientWidth,Or=ee.clientHeight;let Er=Math.max(2,_t.clientX-Ke.x),Fr=0;Er+nr>=tr-2&&(Er=tr-nr-2),xr+Or>=St&&(Fr=St-(xr+Or)),ee.style.left=`${Er}px`,ee.style.top=`${Fr}px`}i.isDragResize=!0};i.isDragResize=!0,xo(Q,"row-drag--resize"),z.style.display="block",document.onmousemove=Vt,document.onmouseup=function(_t){if(document.onmousemove=null,document.onmouseup=null,z.style.display="none",s._lastResizeTime=Date.now(),setTimeout(()=>{i.isDragResize=!1},50),vt!==We){const tr=Object.assign(Object.assign({},l),{resizeHeight:vt,resizeRow:a});s.isResizeCellHeight=!0,h.handleRowResizeCellAreaEvent?h.handleRowResizeCellAreaEvent(_t,tr):(Xe.resizeHeight=vt,Pf(_t,tr),Mo())}Yr(Q,"row-drag--resize")},Vt(r)},handleRowResizeDblclickEvent(r,l){const a=ht.value,{isDblclickAutoHeight:p}=a,g=S.value;if(p&&g){r.stopPropagation(),r.preventDefault();const{editStore:b}=i,{fullAllDataRowIdData:w}=s,{actived:E}=b,{row:R}=l,M=qe(h,R),I=w[M];if(!I)return;const N=()=>{g.setAttribute("data-calc-row","Y");const P=Tn(I,g);g.removeAttribute("data-calc-row");const $=Object.assign(Object.assign({},l),{resizeHeight:P,resizeRow:R});i.isDragResize=!1,s._lastResizeTime=Date.now(),h.handleRowResizeDblclickCellAreaEvent?h.handleRowResizeDblclickCellAreaEvent(r,$):(I.resizeHeight=P,Pf(r,$))};E.row||E.column?h.clearEdit().then(N):N()}},saveCustomStore(r){const{customConfig:l}=e,a=Le.value,p=yr.value,{updateStore:g,storage:b}=p,w=b===!0,E=w?{}:Object.assign({},b||{}),R=w||E.resizable,M=w||E.visible,I=w||E.fixed,N=w||E.sort;if(r!=="reset"&&(i.isCustomStatus=!0),(l?Ct(p):p.enabled)&&(R||M||I||N)){if(!a)return Ze("vxe.error.reqProp",["id"]),ge();const P=r==="reset"?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:y.getCustomStoreData();if(g)return g({$table:h,id:a,type:r,storeData:P});Ro(a,r==="reset"?null:P)}return ge()},handleCustom(){const{mouseConfig:r}=e;return r&&(h.clearSelected&&h.clearSelected(),h.clearCellAreas&&(h.clearCellAreas(),h.clearCopyCellArea())),O.analyColumnWidth(),y.refreshColumn(!0)},handleUpdateDataQueue(){i.upDataFlag++},handleRefreshColumnQueue(){i.reColumnFlag++},preventEvent(r,l,a,p,g){let b=Am.get(l);!b.length&&l==="event.clearEdit"&&(b=Am.get("event.clearActived"));let w=null,E=!1;for(let R=0;R<b.length;R++){const M=b[R],I=M(Object.assign({$grid:Ge,$table:h,$event:r},a));if(I===!1){E=!0;break}else if(I&&I.status===!1){w=I.result,E=!0;break}}return E||p&&(w=p()),g&&g(),w},updateCheckboxStatus(){const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{afterTreeFullData:a,afterGroupFullData:p,selectCheckboxMaps:g,treeIndeterminateRowMaps:b}=s,w=Ie.value,E=st.value,R=E.children||E.childrenField,M=$e.value,{checkField:I,checkStrictly:N,checkMethod:P}=M;if(!N){if(l||r){const{handleGetRowId:$}=pr(h),V={},Q=[];if(l){const z=w.mapChildrenField;z&&f.eachTree(p,B=>{const ee=$(B),Z=B[z];Z&&Z.length&&!V[ee]&&(V[ee]=1,Q.unshift([B,ee,Z]))},{children:z})}else if(r){const{transform:z,mapChildrenField:B}=E;f.eachTree(a,ee=>{const Z=$(ee),L=ee[z?B:R];L&&L.length&&!V[Z]&&(V[Z]=1,Q.unshift([ee,Z,L]))},{children:z?B:R})}Q.forEach(z=>{const B=z[0],ee=z[1],Z=z[2];let L=0,ke=0,ye=0;Z.forEach(P?Pe=>{const We=$(Pe),Ke=I?f.get(Pe,I):g[We];P({$table:h,row:Pe})?(Ke?L++:b[We]&&ke++,ye++):Ke?L++:b[We]&&ke++}:Pe=>{const We=$(Pe);(I?f.get(Pe,I):g[We])?L++:b[We]&&ke++,ye++});const De=L>=ye,Xe=!De&&(L>=1||ke>=1);I&&f.set(B,I,De),De?(I||(g[ee]=B),b[ee]&&delete b[ee]):(I||g[ee]&&delete g[ee],Xe?b[ee]=B:b[ee]&&delete b[ee])})}i.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{afterFullData:a,afterTreeFullData:p,afterGroupFullData:g,checkboxReserveRowMap:b,selectCheckboxMaps:w,treeIndeterminateRowMaps:E}=s,R=$e.value,{checkField:M,checkMethod:I,showReserveStatus:N}=R,{handleGetRowId:P}=pr(h);let $=0,V=0,Q=0;const z=r?p:l?g:a;z.forEach(I?Z=>{const L=P(Z),ke=M?f.get(Z,M):w[L];I({$table:h,row:Z})?(ke?$++:E[L]&&V++,Q++):ke?$++:E[L]&&V++}:Z=>{const L=P(Z);(M?f.get(Z,M):w[L])?$++:E[L]&&V++,Q++});const B=z.length>0?Q>0?$>=Q:$>=z.length:!1;let ee=!B&&($>=1||V>=1);!B&&!ee&&N&&(ee=!f.isEmpty(b)),i.isAllSelected=B,i.isIndeterminate=ee},checkSelectionStatus(){h.updateCheckboxStatus(),h.updateAllCheckboxStatus()},handleBatchSelectRows(r,l,a){const{treeConfig:p}=e,{isRowGroupStatus:g}=i,{selectCheckboxMaps:b}=s,w=Ie.value,E=st.value,{transform:R,mapChildrenField:M}=E,I=E.children||E.childrenField,N=$e.value,{checkField:P,checkStrictly:$,checkMethod:V}=N,{handleGetRowId:Q}=pr(h),z=N.indeterminateField||N.halfField;if(P){if((p||g)&&!$){f.eachTree(r,B=>{(a||!V||V({$table:h,row:B}))&&(f.set(B,P,l),z&&f.set(B,z,!1),Wr(B,l))},{children:R?M:I}),i.updateCheckboxFlag++;return}r.forEach(B=>{(a||!V||V({$table:h,row:B}))&&(f.set(B,P,l),Wr(B,l))}),i.updateCheckboxFlag++;return}if(!$){if(g){f.eachTree(r,B=>{const ee=Q(B);(a||!V||V({$table:h,row:B}))&&(l?b[ee]=B:b[ee]&&delete b[ee],Wr(B,l))},{children:w.mapChildrenField}),i.updateCheckboxFlag++;return}else if(p){f.eachTree(r,B=>{const ee=Q(B);(a||!V||V({$table:h,row:B}))&&(l?b[ee]=B:b[ee]&&delete b[ee],Wr(B,l))},{children:R?M:I}),i.updateCheckboxFlag++;return}}r.forEach(B=>{const ee=Q(B);(a||!V||V({$table:h,row:B}))&&(l?b[ee]||(b[ee]=B):b[ee]&&delete b[ee],Wr(B,l),i.updateCheckboxFlag++)})},handleSelectRow({row:r},l,a){h.handleBatchSelectRows([r],l,a)},handleUpdateBodyMerge(){const{mergeBodyList:r}=s;s.mergeBodyCellMaps=So(r),i.mergeBodyFlag++},handleUpdateFooterMerge(){const{mergeFooterList:r}=s;s.mergeFooterCellMaps=So(r),i.mergeFootFlag++},triggerHeaderTitleEvent(r,l,a){const p=l.content||l.message;if(p){const{tooltipStore:g}=i,{column:b}=a,w=Po(p);Mi(!0),g.row=null,g.column=b,g.visible=!0,g.currOpts=l,ge(()=>{const E=q.value;E&&E.open&&E.open(r.currentTarget,w)})}},triggerHeaderTooltipEvent(r,l){const{tooltipStore:a}=i,{column:p}=l;Mi(!0);const g=r.currentTarget;if(!g)return;const b=g.parentElement;if(!b)return;const w=b.parentElement;w&&(a.column!==p||!a.visible)&&ws(r,w,w.querySelector(".vxe-cell--wrapper"),w.querySelector(".vxe-cell--title")||b,l)},triggerBodyTooltipEvent(r,l){const{editConfig:a}=e,{editStore:p}=i,{tooltipStore:g}=i,b=Zt.value,{actived:w}=p,{row:E,column:R}=l,M=r.currentTarget;Mi(g.column!==R||g.row!==E),!(R.editRender&&Ct(a)&&(b.mode==="row"&&w.row===E||w.row===E&&w.column===R))&&(g.column!==R||g.row!==E||!g.visible)&&ws(r,M,M.querySelector(".vxe-cell--wrapper"),M.querySelector(".vxe-cell--label")||M.querySelector(".vxe-cell--wrapper"),l)},triggerFooterTooltipEvent(r,l){const{column:a}=l,{tooltipStore:p}=i,g=r.currentTarget;Mi(p.column!==a||!!p.row),(p.column!==a||!p.visible)&&ws(r,g,g.querySelector(".vxe-cell--wrapper"),g.querySelector(".vxe-cell--label")||g.querySelector(".vxe-cell--wrapper"),l)},handleTargetLeaveEvent(){const r=Bt.value;let l=q.value;l&&l.setActived&&l.setActived(!1),r.enterable?s.tooltipTimeout=setTimeout(()=>{l=q.value,l&&l.isActived&&!l.isActived()&&h.closeTooltip()},r.leaveDelay):h.closeTooltip()},triggerHeaderCellClickEvent(r,l){const{_lastResizeTime:a}=s,p=Yt.value,g=He.value,b=gt.value,{column:w}=l,E=r.currentTarget,R=a&&a>Date.now()-300,M=Nt(r,E,"vxe-cell--sort").flag,I=Nt(r,E,"vxe-cell--filter").flag;p.trigger==="cell"&&!(R||M||I)&&h.triggerSortEvent(r,w,tn(w)),$t("header-cell-click",Object.assign({triggerResizable:R,triggerSort:M,triggerFilter:I,cell:E},l),r),(g.isCurrent||e.highlightCurrentColumn)&&(!b.trigger||["header","default"].includes(b.trigger))&&h.triggerCurrentColumnEvent(r,l)},triggerHeaderCellDblclickEvent(r,l){$t("header-cell-dblclick",Object.assign({cell:r.currentTarget},l),r)},triggerCellClickEvent(r,l){const{highlightCurrentRow:a,highlightCurrentColumn:p,editConfig:g}=e,{editStore:b,isDragResize:w}=i;if(w)return;const E=wt.value,R=Zt.value,M=st.value,I=Tt.value,N=$e.value,P=et.value,$=Ie.value,V=re.value,Q=He.value,z=gt.value,{actived:B,focused:ee}=b,{row:Z,column:L}=l,{type:ke,treeNode:ye,rowGroupNode:De}=L,Xe=ke==="radio",Pe=ke==="checkbox",We=ke==="expand",Ke=r.currentTarget,Ve=Xe&&Nt(r,Ke,"vxe-cell--radio").flag,ct=Pe&&Nt(r,Ke,"vxe-cell--checkbox").flag,vt=ye&&Nt(r,Ke,"vxe-cell--tree-btn").flag,at=We&&Nt(r,Ke,"vxe-table--expanded").flag,dt=We&&Nt(r,Ke,"vxe-row-group--node-btn").flag;l=Object.assign({cell:Ke,triggerRadio:Ve,triggerCheckbox:ct,triggerTreeNode:vt,triggerExpandNode:at},l),!ct&&!Ve&&(!at&&(E.trigger==="row"||We&&E.trigger==="cell")&&h.triggerRowExpandEvent(r,l),(M.trigger==="row"||ye&&M.trigger==="cell")&&h.triggerTreeExpandEvent(r,l),($.trigger==="row"||De&&$.trigger==="cell")&&h.triggerRowGroupExpandEvent(r,l)),vt||(!at&&!dt&&((V.isCurrent||a)&&!ct&&!Ve&&h.triggerCurrentRowEvent(r,l),(Q.isCurrent||p)&&(!z.trigger||["cell","default"].includes(z.trigger))&&!ct&&!Ve&&h.triggerCurrentColumnEvent(r,l),!Ve&&(I.trigger==="row"||Xe&&I.trigger==="cell")&&h.triggerRadioRowEvent(r,l),!ct&&(N.trigger==="row"||Pe&&N.trigger==="cell")&&h.handleToggleCheckRowEvent(r,l)),Ct(g)&&(P.arrowCursorLock&&r&&R.mode==="cell"&&r.target&&/^input|textarea$/i.test(r.target.tagName)&&(ee.column=L,ee.row=Z),R.trigger==="manual"?B.args&&B.row===Z&&L!==B.column&&dn(r,l):(!B.args||Z!==B.row||L!==B.column)&&(R.trigger==="click"||R.trigger==="dblclick"&&R.mode==="row"&&B.row===Z)&&dn(r,l))),Ct(g)&&R.trigger==="dblclick"&&B.row&&B.column&&(R.mode==="row"?h.eqRow(B.row,Z)||h.handleClearEdit(r):R.mode==="cell"&&(!h.eqRow(B.row,Z)||B.column.id!==L.id)&&h.handleClearEdit(r)),$t("cell-click",l,r)},triggerCellDblclickEvent(r,l){const{editConfig:a}=e,{editStore:p,isDragResize:g}=i;if(g)return;const b=Zt.value,{actived:w}=p,E=r.currentTarget;l=Object.assign({cell:E},l),Ct(a)&&b.trigger==="dblclick"&&(!w.args||r.currentTarget!==w.args.cell)&&(b.mode==="row"?zr("blur").catch(R=>R).then(()=>{h.handleEdit(l,r).then(()=>zr("change")).catch(R=>R)}):b.mode==="cell"&&h.handleEdit(l,r).then(()=>zr("change")).catch(R=>R)),$t("cell-dblclick",l,r)},handleToggleCheckRowEvent(r,l){const{selectCheckboxMaps:a}=s,p=$e.value,{checkField:g,trigger:b}=p,{row:w}=l;if(b==="manual")return;let E=!1;g?E=!f.get(w,g):E=!a[qe(h,w)],r?h.triggerCheckRowEvent(r,l,E):(h.handleBatchSelectRows([w],E),h.checkSelectionStatus())},triggerCheckRowEvent(r,l,a){const{treeConfig:p}=e,{row:g}=l,{isRowGroupStatus:b}=i,{afterFullData:w}=s,E=$e.value,{checkMethod:R,trigger:M}=E;if(M!=="manual"){if(r.stopPropagation(),E.isShiftKey&&r.shiftKey&&!(p||b)){const I=h.getCheckboxRecords();if(I.length){const N=I[0],P=h.getVTRowIndex(g),$=h.getVTRowIndex(N);if(P!==$){h.setAllCheckboxRow(!1);const V=P<$?w.slice(P,$+1):w.slice($,P+1);ge(()=>{Hr(V,!0,!1)}),$t("checkbox-range-select",Object.assign({rangeRecords:V},l),r);return}}}(!R||R({$table:h,row:g}))&&(h.handleBatchSelectRows([g],a),h.checkSelectionStatus(),$t("checkbox-change",Object.assign({records:()=>h.getCheckboxRecords(),reserves:()=>h.getCheckboxReserveRecords(),indeterminates:()=>h.getCheckboxIndeterminateRecords(),checked:a},l),r))}},triggerCheckAllEvent(r,l){const a=$e.value,{trigger:p}=a;p!=="manual"&&(r&&r.stopPropagation(),_f(r,l))},triggerRadioRowEvent(r,l){const{selectRadioRow:a}=i,{row:p}=l,g=Tt.value,{trigger:b}=g;if(b==="manual")return;r.stopPropagation();let w=p,E=a!==w;E?eo(w):g.strict||(E=a===w,E&&(w=null,h.clearRadioRow())),E&&$t("radio-change",Object.assign({oldValue:a,newValue:w},l),r)},triggerCurrentColumnEvent(r,l){const{currentColumn:a}=i,p=He.value,g=gt.value,b=g.beforeSelectMethod||p.currentMethod,{column:w}=l,{trigger:E}=g;if(E==="manual")return;const R=a!==w;!b||b({column:w,$table:h})?(h.setCurrentColumn(w),R&&$t("current-column-change",Object.assign({oldValue:a,newValue:w},l),r)):$t("current-column-disabled",l,r)},triggerCurrentRowEvent(r,l){const{currentRow:a}=i,p=re.value,g=Be.value,b=g.beforeSelectMethod||p.currentMethod,{row:w}=l,{trigger:E}=g;if(E==="manual")return;const R=a!==w;!b||b({row:w,$table:h})?(h.setCurrentRow(w),R&&($t("current-row-change",Object.assign({oldValue:a,newValue:w},l),r),$t("current-change",Object.assign({oldValue:a,newValue:w},l),r))):$t("current-row-disabled",l,r)},triggerRowExpandEvent(r,l){const{expandColumn:a}=i,{rowExpandLazyLoadedMaps:p}=s,g=wt.value,{row:b}=l,{lazy:w,trigger:E}=g;if(E==="manual")return;r.stopPropagation();const R=qe(h,b);if(!w||!p[R]){const M=!h.isRowExpandByRow(b),I=a?h.getColumnIndex(a):-1,N=a?h.getVMColumnIndex(a):-1;h.setRowExpand(b,M),$t("toggle-row-expand",{expanded:M,column:a,columnIndex:I,$columnIndex:N,row:b,rowIndex:h.getRowIndex(b),$rowIndex:h.getVMRowIndex(b)},r)}},triggerRowGroupExpandEvent(r,l){const{rowGroupExpandedMaps:a}=s,p=Ie.value,{row:g,column:b}=l,{trigger:w}=p;if(w==="manual")return;r.stopPropagation();const E=qe(h,g),R=!a[E],M=h.getColumnIndex(b),I=h.getVMColumnIndex(b);h.setRowGroupExpand(g,R),$t("toggle-row-group-expand",{expanded:R,column:b,columnIndex:M,$columnIndex:I,row:g},r)},triggerTreeExpandEvent(r,l){const{treeExpandLazyLoadedMaps:a,treeEATime:p}=s,g=st.value,{row:b,column:w}=l,{lazy:E,trigger:R,accordion:M}=g;if(R==="manual")return;r.stopPropagation();const I=qe(h,b);if(!E||!a[I]){const N=!h.isTreeExpandByRow(b),P=h.getColumnIndex(w),$=h.getVMColumnIndex(w);p&&clearTimeout(p),h.setTreeExpand(b,N).then(()=>{M&&(s.treeEATime=setTimeout(()=>{s.treeEATime=void 0,h.scrollToRow(b)},30))}),$t("toggle-tree-expand",{expanded:N,column:w,columnIndex:P,$columnIndex:$,row:b},r)}},handleColumnSortEvent(r,l){const{mouseConfig:a}=e,p=Ot.value,{field:g,sortable:b}=l;if(b){const w={$table:h,$event:r,column:l,field:g,property:g,order:l.order,sortList:y.getSortColumns(),sortTime:l.sortTime};a&&p.area&&h.handleSortEvent&&h.handleSortEvent(r,w),$t("sort-change",w,r)}},triggerSortEvent(r,l,a){const p=Yt.value,{multiple:g,allowClear:b}=p,{field:w,sortable:E}=l;E&&(!a||l.order===a?b&&y.clearSort(g?l:null):y.sort({field:w,order:a}),h.handleColumnSortEvent(r,l))},handleCellRuleUpdateStatus(r,l,a){const{validStore:p}=i,{row:g,column:b}=l;if(h.hasCellRules&&h.hasCellRules(r,g,b)){const w=h.getCellElement(g,b);if(w){const E=!f.isUndefined(a);return h.validCellRules(r,g,b,a).then(()=>{E&&p.visible&&Ho(g,b,a),h.clearValidate(g,b)}).catch(({rule:R})=>{E&&Ho(g,b,a),h.showValidTooltip({rule:R,row:g,column:b,cell:w})})}}return ge()},triggerHeaderCellMousedownEvent(r,l){const{mouseConfig:a}=e,p=Ot.value,g=He.value,b=lt.value,{trigger:w,isCrossDrag:E,isPeerDrag:R,disabledMethod:M}=b,I=r.currentTarget,N=I&&I.tagName&&I.tagName.toLowerCase()==="input",P=Nt(r,I,"vxe-cell--checkbox").flag,$=Nt(r,I,"vxe-cell--sort").flag,V=Nt(r,I,"vxe-cell--filter").flag;let Q=!1;const z=g.drag&&w==="cell";if(!(N||P||$||V)){const{column:B}=l;z&&!B.fixed&&(E||R||!B.parentId)&&!(M&&M(l))&&(Q=!0,h.handleHeaderCellDragMousedownEvent(r,l))}!Q&&a&&p.area&&h.handleHeaderCellAreaEvent&&h.handleHeaderCellAreaEvent(r,Object.assign({cell:I,triggerSort:$,triggerFilter:V},l)),h.focus(),h.closeMenu&&h.closeMenu()},triggerCellMousedownEvent(r,l){const{column:a}=l,{type:p,treeNode:g}=a,b=p==="radio",w=p==="checkbox",E=p==="expand",R=re.value,M=tt.value,{trigger:I,isCrossDrag:N,isPeerDrag:P,disabledMethod:$}=M,V=r.currentTarget;l.cell=V;const Q=V&&V.tagName&&V.tagName.toLowerCase()==="input",z=b&&Nt(r,V,"vxe-cell--radio").flag,B=w&&Nt(r,V,"vxe-cell--checkbox").flag,ee=g&&Nt(r,V,"vxe-cell--tree-btn").flag,Z=E&&Nt(r,V,"vxe-table--expanded").flag;let L=!1;R.drag&&(L=I==="row"||a.dragSort&&I==="cell");let ke=!1;Q||z||B||ee||Z||L&&(N||P||!l.level)&&!($&&$(l))&&(ke=!0,h.handleCellDragMousedownEvent(r,l)),!ke&&h.handleCellMousedownEvent&&h.handleCellMousedownEvent(r,l),h.focus(),h.closeFilter(),h.closeMenu&&h.closeMenu()},triggerCellMouseupEvent(){Wf()},handleRowDragDragstartEvent(r){r.dataTransfer&&r.dataTransfer.setDragImage(Qd(),0,0)},handleRowDragSwapEvent(r,l,a,p,g,b){const{treeConfig:w,dragConfig:E}=e,R=tt.value,{afterFullData:M,tableFullData:I,fullAllDataRowIdData:N}=s,{isPeerDrag:P,isCrossDrag:$,isSelfToChildDrag:V,dragEndMethod:Q,dragToChildMethod:z}=R,B=st.value,{transform:ee,rowField:Z,mapChildrenField:L,parentField:ke}=B,ye=B.children||B.childrenField,De=Q||(E?E.dragEndMethod:null),Xe=g==="bottom"?1:0,Pe={status:!1};if(p&&a&&p!==a){const We={oldRow:a,newRow:p,dragRow:a,dragPos:g,dragToChild:!!b,offsetIndex:Xe},Ke=V&&z?z(We):b;return Promise.resolve(De?De(We):!0).then(Ve=>{if(!Ve)return Pe;let ct=-1,vt=-1;if(w){if(ee){const at=qe(h,a),dt=N[at],Rt=qe(h,p),Vt=N[Rt];if(dt&&Vt){const{level:_t}=dt,{level:tr}=Vt,St={};f.eachTree([a],Gt=>{St[qe(h,Gt)]=Gt},{children:L});let xr=!1;if(_t&&tr)if(P&&!$){if(dt.row[ke]!==Vt.row[ke])return Pe}else{if(!$)return Pe;if(St[Rt]&&(xr=!0,!($&&V)))return ve.modal&&ve.modal.message({status:"error",content:Fo("vxe.error.treeDragChild")}),Pe}else if(_t){if(!$)return Pe}else if(tr){if(!$)return Pe;if(St[Rt]&&(xr=!0,!($&&V)))return ve.modal&&ve.modal.message({status:"error",content:Fo("vxe.error.treeDragChild")}),Pe}const nr=f.toTreeArray(s.afterTreeFullData,{key:Z,parentKey:ke,children:L}),Or=h.findRowIndexOf(nr,a);nr.splice(Or,1);const Fr=h.findRowIndexOf(nr,p)+Xe;nr.splice(Fr,0,a),xr&&$&&V&&f.each(a[ye],Gt=>{Gt[ke]=a[ke]}),a[ke]=Ke?p[Z]:p[ke],s.tableFullTreeData=f.toArrayTree(nr,{key:Z,parentKey:ke,children:ye,mapChildren:L})}}}else{ct=h.findRowIndexOf(M,a);const at=h.findRowIndexOf(I,a);M.splice(ct,1),I.splice(at,1);const dt=h.findRowIndexOf(M,p),Rt=h.findRowIndexOf(I,p);vt=dt+Xe;const Vt=Rt+Xe;M.splice(vt,0,a),I.splice(Vt,0,a)}return i.isDragRowMove=!0,h.handleTableData(w&&ee),h.cacheRowMap(!1),Vl(),w&&ee||h.updateAfterDataIndex(),h.checkSelectionStatus(),i.scrollYLoad&&h.updateScrollYSpace(),r&&$t("row-dragend",{oldRow:a,newRow:p,dragRow:a,dragPos:g,dragToChild:Ke,offsetIndex:Xe,_index:{newIndex:vt,oldIndex:ct}},r),ge().then(()=>{h.updateCellAreas(),h.recalculate()}).then(()=>({status:!0}))}).catch(()=>Pe)}return Promise.resolve(Pe)},handleRowDragDragendEvent(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a,prevDragToChild:p}=s,{dragRow:g}=i,b=st.value,{lazy:w}=b,E=b.hasChild||b.hasChildField,{prevDragRow:R,prevDragPos:M}=s;if(l&&w&&p){const I=qe(h,R),N=a[I];R[E]?N&&N.treeLoaded&&h.handleRowDragSwapEvent(r,!0,g,R,M,p):h.handleRowDragSwapEvent(r,!0,g,R,M,p)}else h.handleRowDragSwapEvent(r,!0,g,R,M,p);sl(),Cs(),s.prevDragToChild=!1,i.dragRow=null,i.dragCol=null,setTimeout(()=>{i.isDragRowMove=!1},500)},handleRowDragDragoverEvent(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a}=s,{dragRow:p}=i,g=st.value,{lazy:b,transform:w,parentField:E}=g,R=g.hasChild||g.hasChildField,M=tt.value,{isPeerDrag:I,isCrossDrag:N,isToChildDrag:P}=M;if(!p){r.preventDefault();return}const $=si(r),V=r.currentTarget,Q=V.getAttribute("rowid")||"",z=a[Q];if(z){const B=z.row,ee=qe(h,B),Z=a[ee];r.preventDefault();const{dragRow:L}=i,ye=r.clientY-V.getBoundingClientRect().y<V.clientHeight/2?"top":"bottom";if(s.prevDragToChild=!!(l&&w&&N&&P&&$),s.prevDragRow=B,s.prevDragPos=ye,h.eqRow(L,B)||$&&l&&b&&B[R]&&Z&&!Z.treeLoaded||!N&&l&&w&&(I?L[E]!==B[E]:z.level)){Fi(r,V,null,!1,ye);return}Fi(r,V,null,!0,ye),$t("row-dragover",{oldRow:L,targetRow:B,dragPos:ye},r)}},handleCellDragMousedownEvent(r,l){var a;r.stopPropagation();const{dragConfig:p}=e,g=tt.value,{trigger:b,dragStartMethod:w}=g,{row:E}=l,R=r.currentTarget,M=b==="cell"||b==="row"?R:(a=R.parentElement)===null||a===void 0?void 0:a.parentElement,I=M.parentElement,N=w||(p?p.dragStartMethod:null);if(Cs(),N&&!N(l)){I.draggable=!1,i.dragRow=null,i.dragCol=null,sl();return}i.dragRow=E,i.dragCol=null,I.draggable=!0,IC(E),kC(M),$t("row-dragstart",l,r)},handleCellDragMouseupEvent(){Wf()},handleHeaderCellDragDragstartEvent(r){r.dataTransfer&&r.dataTransfer.setDragImage(Qd(),0,0)},handleColDragSwapColumn(){Lf(),ms(!1).then(()=>{h.updateCellAreas(),h.saveCustomStore("update:sort")})},handleColDragSwapEvent(r,l,a,p,g,b){const{mouseConfig:w}=e,E=lt.value,{isPeerDrag:R,isCrossDrag:M,isSelfToChildDrag:I,isToChildDrag:N,dragEndMethod:P,dragToChildMethod:$}=E,{collectColumn:V}=s,Q=g==="right"?1:0,z={status:!1};if(p&&a&&p!==a){const B=a,ee=p,Z={oldColumn:B,newColumn:ee,dragColumn:B,dragPos:g,dragToChild:!!b,offsetIndex:Q},L=I&&$?$(Z):b;return Promise.resolve(P?P(Z):!0).then(ke=>{if(!ke)return z;let ye=-1,De=-1;const Xe={};f.eachTree([B],Ve=>{Xe[Ve.id]=Ve});let Pe=!1;if(B.parentId&&ee.parentId)if(R&&!M){if(B.parentId!==ee.parentId)return z}else{if(!M)return z;if(Xe[ee.id]&&(Pe=!0,!(M&&I)))return ve.modal&&ve.modal.message({status:"error",content:Fo("vxe.error.treeDragChild")}),z}else if(B.parentId){if(!M)return z}else if(ee.parentId){if(!M)return z;if(Xe[ee.id]&&(Pe=!0,!(M&&I)))return ve.modal&&ve.modal.message({status:"error",content:Fo("vxe.error.treeDragChild")}),z}const We=f.findTree(V,Ve=>Ve.id===B.id);if(Pe&&M&&I){if(We){const{items:Ve,index:ct}=We,vt=B.children||[];vt.forEach(at=>{at.parentId=B.parentId}),Ve.splice(ct,1,...vt),B.children=[]}}else if(We){const{items:Ve,index:ct,parent:vt}=We;Ve.splice(ct,1),vt||(ye=ct)}const Ke=f.findTree(V,Ve=>Ve.id===ee.id);if(Ke){const{items:Ve,index:ct,parent:vt}=Ke;M&&N&&L?(B.parentId=ee.id,ee.children=(ee.children||[]).concat([B])):(B.parentId=ee.parentId,Ve.splice(ct+Q,0,B)),vt||(De=ct)}return f.eachTree(V,(Ve,ct,vt,at,dt)=>{if(!dt){const Rt=ct+1;Ve.renderSortNumber=Rt}}),i.isDragColMove=!0,w&&(h.clearSelected&&h.clearSelected(),h.clearCellAreas&&(h.clearCellAreas(),h.clearCopyCellArea())),r&&$t("column-dragend",{oldColumn:B,newColumn:ee,dragColumn:B,dragPos:g,dragToChild:L,offsetIndex:Q,_index:{newIndex:De,oldIndex:ye}},r),l&&h.handleColDragSwapColumn(),{status:!0}}).catch(()=>z)}return Promise.resolve(z)},handleHeaderCellDragDragendEvent(r){const{dragCol:l}=i,{prevDragCol:a,prevDragPos:p,prevDragToChild:g}=s;h.handleColDragSwapEvent(r,!0,l,a,p,g),sl(),Ti(),s.prevDragToChild=!1,i.dragRow=null,i.dragCol=null,setTimeout(()=>{i.isDragColMove=!1,h.recalculate().then(()=>{kn()})},500)},handleHeaderCellDragDragoverEvent(r){const{dragCol:l}=i,a=lt.value,{isToChildDrag:p,isPeerDrag:g,isCrossDrag:b}=a;if(!l){r.preventDefault();return}const w=si(r),E=r.currentTarget,R=E.getAttribute("colid"),M=h.getColumnById(R);if(M){r.preventDefault();const{clientX:I}=r,P=I-E.getBoundingClientRect().x<E.clientWidth/2?"left":"right";if(s.prevDragToChild=!!(b&&p&&w),s.prevDragCol=M,s.prevDragPos=P,M.fixed||l&&l.id===M.id||!b&&(g?l.parentId!==M.parentId:M.parentId)){Fi(r,null,E,!1,P);return}Fi(r,null,E,!0,P),$t("column-dragover",{oldColumn:l,targetColumn:M,dragPos:P},r);const $=S.value;if(!$)return;const V=se.value,Q=F.value,z=Q?Q.$el:null,B=V||z;if(B){const ee=$.getBoundingClientRect(),Z=$.clientWidth,L=xe.value,ke=L?L.clientWidth:0,ye=ue.value,De=ye?ye.clientWidth:0,Xe=ee.x+ke,Pe=ee.x+Z-De,We=28,Ke=I-Xe,Ve=Pe-I;if(Ke>0&&Ke<=We){const ct=Math.floor(Z/(Ke>We/2?240:120));B.scrollLeft-=ct*(We-Ke)}else if(Ve>0&&Ve<=We){const ct=Math.floor(Z/(Ve>We/2?240:120));B.scrollLeft+=ct*(We-Ve)}}}},handleHeaderCellDragMousedownEvent(r,l){var a;r.stopPropagation();const p=lt.value,{trigger:g,dragStartMethod:b}=p,{column:w}=l,E=r.currentTarget,R=g==="cell"?E:(a=E.parentElement)===null||a===void 0?void 0:a.parentElement;if(i.isDragColMove=!1,Ti(),b&&!b(l)){R.draggable=!1,i.dragRow=null,i.dragCol=null,sl();return}i.dragCol=w,i.dragRow=null,R.draggable=!0,AC(w),LC(R),$t("column-dragstart",l,r)},handleHeaderCellDragMouseupEvent(){Ti(),sl(),i.dragRow=null,i.dragCol=null,i.isDragColMove=!1},handleScrollEvent(r,l,a,p,g,b){const{highlightHoverRow:w}=e,{lastScrollLeft:E,lastScrollTop:R}=s,M=se.value,I=he.value;if(!M||!I)return;const N=re.value,P=_.value,$=q.value,V=I.clientHeight,Q=M.clientWidth,z=I.scrollHeight,B=M.scrollWidth;let ee=!1,Z=!1,L=!1,ke=!1,ye="",De=!1,Xe=!1,Pe=!1,We=!1;if(a){const Ve=bt.value;L=g<=0,L||(ke=g+Q>=B),g>E?(ye="right",g+Q>=B-Ve&&(We=!0)):(ye="left",g<=Ve&&(Pe=!0)),h.checkScrolling(),s.lastScrollLeft=g}if(l){const Ve=ft.value;ee=p<=0,ee||(Z=p+V>=z),p>R?(ye="bottom",p+V>=z-Ve&&(Xe=!0)):(ye="top",p<=Ve&&(De=!0)),s.lastScrollTop=p}i.isDragColMove=!1,i.isDragRowMove=!1,i.lastScrollTime=Date.now();const Ke=Object.assign({scrollTop:p,scrollLeft:g,bodyHeight:V,bodyWidth:Q,scrollHeight:z,scrollWidth:B,isX:a,isY:l,isTop:ee,isBottom:Z,isLeft:L,isRight:ke,direction:ye},b);An(),bC(a,l),a&&h.closeFilter(),(N.isHover||w)&&h.clearHoverRow(),P&&P.reactData.visible&&P.close(),$&&$.reactData.visible&&$.close(),(Xe||De||We||Pe)&&$t("scroll-boundary",Ke,r),$t("scroll",Ke,r)},triggerScrollXEvent(){it.value.immediate?kn():vC()},triggerScrollYEvent(){mt.value.immediate?Gl():mC()},triggerBodyScrollEvent(r,l){const{scrollYLoad:a,scrollXLoad:p}=i,{elemStore:g,intoRunScroll:b,lastScrollTop:w,lastScrollLeft:E,inWheelScroll:R,inVirtualScroll:M,inHeaderScroll:I,inBodyScroll:N,scrollRenderType:P,inFooterScroll:$}=s;if(R||M||I||$)return;const V=se.value,Q=he.value,z=rt(g["left-body-scroll"]),B=rt(g["main-body-scroll"]),ee=rt(g["right-body-scroll"]),Z=rt(g["main-header-scroll"]),L=rt(g["main-footer-scroll"]),ke=ne.value;if(b||!B||!V||!Q||N&&P!==l)return;let ye=Q.scrollTop,De=V.scrollLeft;z&&l==="left"?ye=z.scrollTop:ee&&l==="right"?ye=ee.scrollTop:(ye=B.scrollTop,De=B.scrollLeft);const Xe=De!==E,Pe=ye!==w;s.inBodyScroll=!0,s.scrollRenderType=l,Pe&&(l==="left"?(zt(B,ye),zt(ee,ye)):l==="right"?(zt(B,ye),zt(z,ye)):(zt(z,ye),zt(ee,ye)),zt(Q,ye),zt(ke,ye),a&&h.triggerScrollYEvent(r)),Xe&&(jt(V,De),jt(Z,De),jt(L,De),p&&h.triggerScrollXEvent(r)),h.handleScrollEvent(r,Pe,Xe,ye,De,{type:"body",fixed:l})},triggerHeaderScrollEvent(r,l){const{scrollXLoad:a}=i,{elemStore:p,intoRunScroll:g,inWheelScroll:b,inVirtualScroll:w,inBodyScroll:E,inFooterScroll:R}=s;if(b||w||E||R)return;const M=he.value,I=se.value,N=rt(p["main-body-scroll"]),P=rt(p["main-header-scroll"]),$=rt(p["main-footer-scroll"]);if(g||!P||!I||!M)return;const V=M.scrollTop,Q=P.scrollLeft,z=!0,B=!1;s.inHeaderScroll=!0,jt(I,Q),jt($,Q),jt(N,Q),a&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,B,z,V,Q,{type:"header",fixed:l})},triggerFooterScrollEvent(r,l){const{scrollXLoad:a}=i,{elemStore:p,intoRunScroll:g,inWheelScroll:b,inVirtualScroll:w,inHeaderScroll:E,inBodyScroll:R}=s;if(b||w||E||R)return;const M=he.value,I=se.value,N=rt(p["main-body-scroll"]),P=rt(p["main-header-scroll"]),$=rt(p["main-footer-scroll"]);if(g||!$||!I||!M)return;const V=M.scrollTop,Q=$.scrollLeft,z=!0,B=!1;s.inFooterScroll=!0,jt(I,Q),jt(P,Q),jt(N,Q),a&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,B,z,V,Q,{type:"footer",fixed:l})},triggerBodyWheelEvent(r){const{target:l,deltaY:a,deltaX:p,shiftKey:g}=r;if(l&&/^textarea$/i.test(l.tagName))return;const{highlightHoverRow:b}=Ki,{scrollXLoad:w,scrollYLoad:E,expandColumn:R}=i,M=cr.value,I=kt.value;if(!(M||I||R))return;const{elemStore:N,lastScrollTop:P,lastScrollLeft:$}=s,V=re.value,Q=se.value,z=he.value,B=rt(N["left-body-scroll"]),ee=rt(N["main-header-scroll"]),Z=rt(N["main-body-scroll"]),L=rt(N["main-footer-scroll"]),ke=rt(N["right-body-scroll"]),ye=ne.value;if(!Q||!z||!Z)return;const De=xC(i.lastScrollTime),Xe=g?0:Math.ceil(a*De),Pe=g?Math.ceil((g&&a||p)*De):0,We=Xe<0,Ke=Z.scrollTop;if(We?Ke<=0:Ke>=Z.scrollHeight-Z.clientHeight)return;const Ve=Ke+Xe,ct=Z.scrollLeft+Pe,vt=ct!==$,at=Ve!==P;if((V.isHover||b)&&h.clearHoverRow(),vt)if(r.preventDefault(),s.inWheelScroll=!0,c.firefox||c.safari){const dt=ct;jt(Q,dt),jt(Z,dt),jt(ee,dt),jt(L,dt),w&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,at,vt,Z.scrollTop,dt,{type:"table",fixed:""})}else CC(ct,dt=>{s.inWheelScroll=!0;const Rt=dt;jt(Q,Rt),jt(Z,Rt),jt(ee,Rt),jt(L,Rt),w&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,at,vt,Z.scrollTop,Rt,{type:"table",fixed:""})});if(at)if(r.preventDefault(),s.inWheelScroll=!0,c.firefox||c.safari){const dt=Ve;zt(z,dt),zt(Z,dt),zt(B,dt),zt(ke,dt),zt(ye,dt),E&&h.triggerScrollYEvent(r),h.handleScrollEvent(r,at,vt,dt,Z.scrollLeft,{type:"table",fixed:""})}else wC(Ve-Ke,dt=>{s.inWheelScroll=!0;const Rt=Z.scrollTop+dt;zt(z,Rt),zt(Z,Rt),zt(B,Rt),zt(ke,Rt),zt(ye,Rt),E&&h.triggerScrollYEvent(r),h.handleScrollEvent(r,at,vt,Rt,Z.scrollLeft,{type:"table",fixed:""})})},triggerVirtualScrollXEvent(r){const{scrollXLoad:l}=i,{elemStore:a,inWheelScroll:p,lastScrollTop:g,inHeaderScroll:b,inBodyScroll:w,inFooterScroll:E}=s;if(b||w||E||p)return;const R=rt(a["main-header-scroll"]),M=rt(a["main-body-scroll"]),I=rt(a["main-footer-scroll"]),N=he.value,P=r.currentTarget,{scrollLeft:$}=P,V=N||M;let Q=0;V&&(Q=V.scrollTop);const z=!0,B=Q!==g;s.inVirtualScroll=!0,jt(M,$),jt(R,$),jt(I,$),l&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,B,z,Q,$,{type:"table",fixed:""})},triggerVirtualScrollYEvent(r){const{scrollYLoad:l}=i,{elemStore:a,inWheelScroll:p,lastScrollLeft:g,inHeaderScroll:b,inBodyScroll:w,inFooterScroll:E}=s;if(b||w||E||p)return;const R=rt(a["left-body-scroll"]),M=rt(a["main-body-scroll"]),I=rt(a["right-body-scroll"]),N=ne.value,P=se.value,$=r.currentTarget,{scrollTop:V}=$,Q=P||M;let z=0;Q&&(z=Q.scrollLeft);const B=z!==g,ee=!0;s.inVirtualScroll=!0,zt(M,V),zt(R,V),zt(I,V),zt(N,V),l&&h.triggerScrollYEvent(r),h.handleScrollEvent(r,ee,B,V,z,{type:"table",fixed:""})},scrollToTreeRow(r){const{treeConfig:l}=e,{isRowGroupStatus:a}=i,{tableFullData:p}=s,g=[];if(l||a){const b=Ie.value,w=st.value,E=w.children||w.childrenField,R=f.findTree(p,M=>h.eqRow(M,r),{children:a?b.mapChildrenField:E});if(R){const M=R.nodes;M.forEach((I,N)=>{N<M.length-1&&!h.isTreeExpandByRow(I)&&g.push(h.setTreeExpand(I,!0))})}}return Promise.all(g).then(()=>bm(h,r))},updateScrollYStatus:Vl,updateScrollXSpace(){const{scrollXLoad:r,overflowX:l,scrollXWidth:a}=i,{visibleColumn:p,scrollXStore:g,elemStore:b,fullColumnIdData:w}=s,E=Ot.value,R=F.value;if(R?R.$el:null){const I=rt(b["main-body-scroll"]),N=rt(b["main-body-table"]),P=rt(b["main-header-table"]),$=rt(b["main-footer-table"]);let V=0;const Q=p[g.startIndex];Q&&(V=(w[Q.id]||{}).oLeft);let z=0;I&&(z=I.clientWidth);let B=!1,ee=a;a>pl&&(I&&N&&I.scrollLeft+z>=pl?V=pl-N.clientWidth:V=(pl-z)*(V/(a-z)),ee=pl,B=!0),r&&l||(V=0),P&&(P.style.transform=P.getAttribute("xvm")?`translate(${V}px, 0px)`:""),N&&(N.style.transform=`translate(${V}px, ${i.scrollYTop||0}px)`),$&&($.style.transform=$.getAttribute("xvm")?`translate(${V}px, 0px)`:""),["main"].forEach(ke=>{["header","body","footer"].forEach(De=>{const Xe=rt(b[`${ke}-${De}-xSpace`]);Xe&&(Xe.style.width=r?`${ee}px`:"")})}),i.scrollXLeft=V,i.scrollXWidth=ee,i.isScrollXBig=B;const L=Re.value;return L&&(L.style.width=`${ee}px`),B&&E.area&&Ze("vxe.error.notProp",["mouse-config.area"]),Ei(),ge().then(()=>{qt()})}},updateScrollYSpace(){const{isAllOverflow:r,overflowY:l,scrollYLoad:a,expandColumn:p}=i,{scrollYStore:g,elemStore:b,isResizeCellHeight:w,afterFullData:E,fullAllDataRowIdData:R,rowExpandedMaps:M}=s,{startIndex:I}=g,N=Ot.value,P=wt.value,$=re.value,V=Qe.value,Q=Me.value,z=rt(b["main-body-scroll"]),B=rt(b["main-body-table"]),ee=rt(b["left-body-table"]),Z=rt(b["right-body-table"]),L=["main","left","right"];let ke=0,ye=0,De=!1;if(a)if(!(w||V.height||$.height)&&!p&&r)ye=E.length*Q,ye>Pn&&(De=!0),ke=Math.max(0,I*Q);else{const vt=E[I];let at=qe(h,vt),dt=R[at]||{};ke=dt.oTop||0;const Rt=E[E.length-1];at=qe(h,Rt),dt=R[at]||{},ye=(dt.oTop||0)+(dt.resizeHeight||V.height||$.height||dt.height||Q),p&&M[at]&&(ye+=dt.expandHeight||P.height||0),ye>Pn&&(De=!0)}else B&&(ye=B.clientHeight);let Xe=0;z&&(Xe=z.clientHeight);let Pe=ye,We=ke;De&&(z&&B&&z.scrollTop+Xe>=Pn?We=Pn-B.clientHeight:We=(Pn-Xe)*(ke/(ye-Xe)),Pe=Pn),a&&l||(We=0),ee&&(ee.style.transform=`translate(0px, ${We}px)`),B&&(B.style.transform=`translate(${i.scrollXLeft||0}px, ${We}px)`),Z&&(Z.style.transform=`translate(0px, ${We}px)`),L.forEach(ct=>{["header","body","footer"].forEach(at=>{const dt=rt(b[`${ct}-${at}-ySpace`]);dt&&(dt.style.height=Pe?`${Pe}px`:"")})});const Ke=Ye.value;Ke&&(Ke.style.height=Pe?`${Pe}px`:"");const Ve=oe.value;return Ve&&(Ve.style.height=Pe?`${Pe}px`:""),i.scrollYTop=We,i.scrollYHeight=ye,i.isScrollYBig=De,De&&N.area&&Ze("vxe.error.notProp",["mouse-config.area"]),Ei(),ge().then(()=>{qt()})},updateScrollXData(){const{isAllOverflow:r}=i;return vs(),h.updateScrollXSpace(),ge().then(()=>{vs(),h.updateScrollXSpace(),r||h.updateScrollYSpace()})},updateScrollYData(){return h.handleTableData(),h.updateScrollYSpace(),ge().then(()=>{h.handleTableData(),h.updateScrollYSpace()})},checkScrolling(){const{elemStore:r}=s,l=rt(r["main-body-scroll"]),a=xe.value,p=ue.value,b=se.value||l;b&&(a&&(b.scrollLeft>0?xo(a,"scrolling--middle"):Yr(a,"scrolling--middle")),p&&(b.clientWidth<b.scrollWidth-Math.ceil(b.scrollLeft)?xo(p,"scrolling--middle"):Yr(p,"scrolling--middle")))},updateZindex(){e.zIndex?s.tZindex=e.zIndex:s.tZindex<Tx()&&(s.tZindex=Mx())},handleCheckedCheckboxRow:Hr,triggerHoverEvent(r,{row:l}){O.setHoverRow(l)},setHoverRow(r){const l=qe(h,r),a=S.value;O.clearHoverRow(),a&&f.arrayEach(a.querySelectorAll(`.vxe-body--row[rowid="${l}"]`),p=>xo(p,"row--hover")),s.hoverRow=r},clearHoverRow(){const r=S.value;r&&f.arrayEach(r.querySelectorAll(".vxe-body--row.row--hover"),l=>Yr(l,"row--hover")),s.hoverRow=null},getCell(r,l){return y.getCellElement(r,l)},findRowIndexOf(r,l){return l?f.findIndexOf(r,a=>h.eqRow(a,l)):-1},eqRow(r,l){return r&&l?r===l?!0:qe(h,r)===qe(h,l):!1}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(r=>{h[r]=function(){Ze("vxe.error.reqModule",["VxeTableExportModule"])}}),"clearValidate,fullValidate,validate".split(",").forEach(r=>{h[r]=function(){Ze("vxe.error.reqModule",["VxeTableValidatorModule"])}}),Object.assign(h,y,O);const Vf=r=>{const{showHeader:l,showFooter:a}=e,{tableData:p,tableColumn:g,tableGroupColumn:b,columnStore:w,footerTableData:E}=i,R=r==="left",M=R?w.leftList:w.rightList;return C("div",{ref:R?xe:ue,class:`vxe-table--fixed-${r}-wrapper`},[l?C(Om,{ref:R?j:X,fixedType:r,tableData:p,tableColumn:g,tableGroupColumn:b,fixedColumn:M}):kr(h),C(Rm,{ref:R?K:J,fixedType:r,tableData:p,tableColumn:g,fixedColumn:M}),a?C(Tm,{ref:R?k:Ce,footerTableData:E,tableColumn:g,fixedColumn:M,fixedType:r}):kr(h)])},HC=()=>{const r=fr.value,l={$table:h};if(o.empty)return o.empty(l);{const a=r.name?Im.get(r.name):null,p=a?a.renderTableEmpty||a.renderTableEmptyView||a.renderEmpty:null;if(p)return Ar(p(r,l))}return Po(e.emptyText)||Fo("vxe.table.emptyText")},qC=()=>{const{dragConfig:r}=e,{dragRow:l,dragCol:a,dragTipText:p}=i,g=lt.value,E=(tt.value.slots||{}).tip||(r&&r.slots?r.slots.rowTip:null),M=(g.slots||{}).tip;return l&&E?jl(E,{row:l}):a&&M?jl(M,{column:a}):[C("span",p)]},_C=()=>{const{dragRow:r,dragCol:l}=i,a=re.value,p=He.value,g=tt.value,b=lt.value;return a.drag||p.drag?C("div",{class:"vxe-table--drag-wrapper"},[C("div",{ref:de,class:["vxe-table--drag-row-line",{"is--guides":g.showGuidesStatus}]}),C("div",{ref:ce,class:["vxe-table--drag-col-line",{"is--guides":b.showGuidesStatus}]}),r&&g.showDragTip||l&&b.showDragTip?C("div",{ref:G,class:"vxe-table--drag-sort-tip"},[C("div",{class:"vxe-table--drag-sort-tip-wrapper"},[C("div",{class:"vxe-table--drag-sort-tip-status"},[C("span",{class:["vxe-table--drag-sort-tip-normal-status",r?qi().TABLE_DRAG_STATUS_ROW:qi().TABLE_DRAG_STATUS_COLUMN]}),C("span",{class:["vxe-table--drag-sort-tip-sub-status",qi().TABLE_DRAG_STATUS_SUB_ROW]}),C("span",{class:["vxe-table--drag-sort-tip-disabled-status",qi().TABLE_DRAG_DISABLED]})]),C("div",{class:"vxe-table--drag-sort-tip-content"},qC())])]):kr(h)]):kr(h)},NC=()=>{const{treeConfig:r}=e,{expandColumn:l,isRowGroupStatus:a}=i,p=Qo.value,g=wt.value,{mode:b}=g;if(b!=="fixed")return kr(h);const w=[C("div",{key:"repY",ref:oe})];if(l){const{handleGetRowId:E}=pr(h);p.forEach(R=>{const M=wt.value,{height:I,padding:N,indent:P}=M,{fullAllDataRowIdData:$,fullColumnIdData:V}=s,Q=st.value,{transform:z,seqMode:B}=Q,ee={},Z=E(R),L=$[Z],ke=l.id,ye=V[ke]||{};let De=0,Xe=-1,Pe=-1,We=-1,Ke=-1;L&&(De=L.level,a||r&&z&&B==="increasing"?Xe=L._index+1:Xe=L.seq,We=L.index,Ke=L.$index,Pe=L._index),I&&(ee.height=`${I}px`),(a||r)&&(ee.paddingLeft=`${De*(f.isNumber(P)?P:Q.indent)+30}px`);let Ve=-1,ct=-1,vt=-1;ye&&(Ve=ye.index,ct=ye.$index,vt=ye._index);const at={$grid:Ge,$table:h,seq:Xe,column:l,columnIndex:Ve,$columnIndex:ct,_columnIndex:vt,fixed:"",type:"body",level:De,rowid:Z,row:R,rowIndex:We,$rowIndex:Ke,_rowIndex:Pe,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};w.push(C("div",{key:Z,class:["vxe-body--row-expanded-cell",{"is--padding":N,"is--ellipsis":I}],rowid:Z,style:ee},l.renderData(at)))})}return C("div",{ref:ne,class:"vxe-table--row-expanded-wrapper"},w)},Gf=()=>C("div",{key:"vsx",ref:ie,class:"vxe-table--scroll-x-virtual"},[C("div",{ref:Oe,class:"vxe-table--scroll-x-left-corner"}),C("div",{ref:me,class:"vxe-table--scroll-x-wrapper"},[C("div",{ref:se,class:"vxe-table--scroll-x-handle",onScroll:h.triggerVirtualScrollXEvent},[C("div",{ref:Re,class:"vxe-table--scroll-x-space"})])]),C("div",{ref:fe,class:"vxe-table--scroll-x-right-corner"})]),jf=()=>C("div",{ref:we,class:"vxe-table--scroll-y-virtual"},[C("div",{ref:Te,class:"vxe-table--scroll-y-top-corner"}),C("div",{ref:le,class:"vxe-table--scroll-y-wrapper"},[C("div",{ref:he,class:"vxe-table--scroll-y-handle",onScroll:h.triggerVirtualScrollYEvent},[C("div",{ref:Ye,class:"vxe-table--scroll-y-space"})])]),C("div",{ref:Fe,class:"vxe-table--scroll-y-bottom-corner"})]),Uf=()=>{const{showHeader:r,showFooter:l}=e,{overflowX:a,tableData:p,tableColumn:g,tableGroupColumn:b,footerTableData:w,columnStore:E}=i,{leftList:R,rightList:M}=E;return C("div",{ref:Y,class:"vxe-table--viewport-wrapper"},[C("div",{class:"vxe-table--main-wrapper"},[r?C(Om,{ref:D,tableData:p,tableColumn:g,tableGroupColumn:b}):kr(h),C(Rm,{ref:F,tableData:p,tableColumn:g}),l?C(Tm,{ref:H,footerTableData:w,tableColumn:g}):kr(h)]),C("div",{class:"vxe-table--fixed-wrapper"},[R&&R.length&&a?Vf("left"):kr(h),M&&M.length&&a?Vf("right"):kr(h)]),NC()])},Yf=()=>{const r=Ue.value;return C("div",{class:"vxe-table--layout-wrapper"},r?[jf(),Uf()]:[Uf(),jf()])},PC=()=>{const{loading:r,stripe:l,showHeader:a,height:p,treeConfig:g,mouseConfig:b,showFooter:w,highlightCell:E,highlightHoverRow:R,highlightHoverColumn:M,editConfig:I,editRules:N}=e,{isGroup:P,overflowX:$,overflowY:V,scrollXLoad:Q,scrollYLoad:z,tableData:B,initStore:ee,isRowGroupStatus:Z,columnStore:L,filterStore:ke,customStore:ye}=i,{leftList:De,rightList:Xe}=L,Pe=o.loading,We=Pt.value,Ke=Ut.value,Ve=nt.value,ct=$e.value,vt=st.value,at=re.value,dt=He.value,Rt=x.value,Vt=Qn.value,_t=Ot.value,tr=Qt.value,St=io.value,xr=er.value,nr=i.isColLoading||i.isRowLoading||r,Or=ht.value,Er=b&&_t.area,Fr=lt.value,Gt=Ne.value,sr=Ue.value;return C("div",{ref:S,class:["vxe-table","vxe-table--render-default",`tid_${u}`,`border--${Vt}`,`sx-pos--${Gt?"top":"bottom"}`,`sy-pos--${sr?"left":"right"}`,{[`size--${Rt}`]:Rt,[`valid-msg--${Ve.msgMode}`]:!!N,"vxe-editable":!!I,"old-cell-valid":N&&Dt().cellVaildMode==="obsolete","cell--highlight":E,"cell--selected":b&&_t.selected,"cell--area":Er,"header-cell--area":Er&&tr.selectCellByHeader,"body-cell--area":Er&&tr.selectCellByBody,"row--highlight":at.isHover||R,"column--highlight":dt.isHover||M,"checkbox--range":ct.range,"col--drag-cell":dt.drag&&Fr.trigger==="cell","is--header":a,"is--footer":w,"is--group":P,"is-row-group":Z,"is--tree-line":g&&(vt.showLine||vt.line),"is--fixed-left":De.length,"is--fixed-right":Xe.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!g&&l,"is--loading":nr,"is--empty":!nr&&!B.length,"is--scroll-y":V,"is--scroll-x":$,"is--virtual-x":Q,"is--virtual-y":z}],spellcheck:!1,onKeydown:OC},[C("div",{class:"vxe-table-slots"},o.default?o.default({}):[]),C("div",{ref:T,class:"vxe-table-vars"},[C("div",{class:"vxe-table-var-default"}),C("div",{class:"vxe-table-var-medium"}),C("div",{class:"vxe-table-var-small"}),C("div",{class:"vxe-table-var-mini"})]),C("div",{key:"tw",class:"vxe-table--render-wrapper"},Gt?[Gf(),Yf()]:[Yf(),Gf()]),C("div",{key:"tn",ref:Ee,class:"vxe-table--empty-placeholder"},[C("div",{class:"vxe-table--empty-content"},HC())]),C("div",{key:"tl",class:"vxe-table--border-line"}),C("div",{key:"tcl",ref:pe,class:"vxe-table--resizable-col-bar"},Or.showDragTip?[C("div",{class:"vxe-table--resizable-number-tip"})]:[]),C("div",{key:"trl",ref:Se,class:"vxe-table--resizable-row-bar"},Or.showDragTip?[C("div",{class:"vxe-table--resizable-number-tip"})]:[]),d?C(d,{key:"lg",class:"vxe-table--loading",modelValue:nr,icon:St.icon,text:St.text},Pe?{default:()=>jl(Pe,{$table:h,$grid:Ge,loading:nr})}:{}):Pe?C("div",{class:["vxe-loading--custom-wrapper",{"is--visible":nr}]},jl(Pe,{$table:h,$grid:Ge,loading:nr})):kr(h),ee.custom?C(vR,{key:"cs",ref:te,customStore:ye}):kr(h),ee.filter?C(mR,{key:"tf",ref:U,filterStore:ke}):kr(h),ee.import&&e.importConfig?C(xR,{key:"it",defaultOptions:i.importParams,storeData:i.importStore}):kr(h),ee.export&&(e.exportConfig||e.printConfig)?C(CR,{key:"et",defaultOptions:i.exportParams,storeData:i.exportStore}):kr(h),xr?C(yR,{key:"tm",ref:W}):kr(h),_C(),v?C("div",{},[C(v,{key:"ctp",ref:A,isArrow:!1,enterable:!1}),C(v,{key:"btp",ref:q,theme:We.theme,enterable:We.enterable,enterDelay:We.enterDelay,leaveDelay:We.leaveDelay,useHTML:We.useHTML}),e.editRules&&Ve.showMessage&&(Ve.message==="default"?!p:Ve.message==="tooltip")?C(v,{key:"vtp",ref:_,class:[{"old-cell-valid":N&&Dt().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:Ke.theme,enterable:Ke.enterable,enterDelay:Ke.enterDelay,leaveDelay:Ke.leaveDelay}):kr(h)]):kr(h)])},ys=ze(0);Mt(()=>e.data?e.data.length:-1,()=>{ys.value++}),Mt(()=>e.data,()=>{ys.value++}),Mt(ys,()=>{const{initStatus:r}=s,l=e.data||[];l&&l.length>=5e4&&yt("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),il(l,!1).then(()=>{const{scrollXLoad:a,scrollYLoad:p,expandColumn:g}=i,b=wt.value;return s.inited=!0,s.initStatus=!0,r||Si(),(a||p)&&g&&b.mode!=="fixed"&&yt("vxe.error.scrollErrProp",["column.type=expand"]),y.recalculate()})});const Es=ze(0);Mt(()=>i.staticColumns.length,()=>{Es.value++}),Mt(()=>i.staticColumns,()=>{Es.value++}),Mt(Es,()=>{Hf(f.clone(i.staticColumns))});const Rs=ze(0);Mt(()=>i.tableColumn.length,()=>{Rs.value++}),Mt(()=>i.tableColumn,()=>{Rs.value++}),Mt(Rs,()=>{O.analyColumnWidth()}),Mt(()=>i.upDataFlag,()=>{ge(()=>{y.updateData()})}),Mt(()=>i.reColumnFlag,()=>{ge(()=>{y.refreshColumn()})});const al=ze(0);Mt(x,()=>{al.value++}),Mt(()=>e.showHeader,()=>{al.value++}),Mt(()=>e.showFooter,()=>{al.value++}),Mt(()=>i.overflowX,()=>{al.value++}),Mt(()=>i.overflowY,()=>{al.value++}),Mt(al,()=>{ge(()=>{y.recalculate(!0).then(()=>y.refreshScroll())})});const cl=ze(0);Mt(()=>e.height,()=>{cl.value++}),Mt(()=>e.maxHeight,()=>{cl.value++}),Mt(Ne,()=>{cl.value++}),Mt(Ue,()=>{cl.value++}),Mt(()=>ve.getLanguage(),()=>{cl.value++}),Mt(cl,()=>{ge(()=>y.recalculate(!0))});const Ss=ze(0);Mt(()=>e.footerData?e.footerData.length:-1,()=>{Ss.value++}),Mt(()=>e.footerData,()=>{Ss.value++}),Mt(Ss,()=>{y.updateFooter()}),Mt(()=>e.syncResize,r=>{r&&(xs(),ge(()=>{xs(),setTimeout(()=>xs())}))});const Os=ze(0);Mt(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Os.value++}),Mt(()=>e.mergeCells,()=>{Os.value++}),Mt(Os,()=>{y.clearMergeCells(),ge(()=>{e.mergeCells&&y.setMergeCells(e.mergeCells)})});const Ds=ze(0);Mt(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Ds.value++}),Mt(()=>e.mergeFooterItems,()=>{Ds.value++}),Mt(Ds,()=>{y.clearMergeFooterItems(),ge(()=>{e.mergeFooterItems&&y.setMergeFooterItems(e.mergeFooterItems)})}),Mt(Pl,r=>{Ri(r)}),m&&Mt(()=>m?m.reactData.resizeFlag:null,()=>{zf()}),SR.forEach(r=>{const{setupTable:l}=r;if(l){const a=l(h);a&&f.isObject(a)&&Object.assign(h,a)}}),O.preventEvent(null,"created",{$table:h});let Ul;return zC(()=>{y.recalculate().then(()=>y.refreshScroll()),O.preventEvent(null,"activated",{$table:h})}),WC(()=>{s.isActivated=!1,O.preventEvent(null,"deactivated",{$table:h})}),jn(()=>{const r=He.value,l=re.value,a=yr.value,p=Ie.value,{groupFields:g}=p;(r.drag||l.drag||a.allowSort)&&qx(),Ri(g),ge(()=>{const{data:w,exportConfig:E,importConfig:R,treeConfig:M,showOverflow:I,highlightCurrentRow:N,highlightCurrentColumn:P}=e,{scrollXStore:$,scrollYStore:V}=s,Q=Zt.value,z=st.value,B=Tt.value,ee=$e.value,Z=wt.value,L=re.value,ke=yr.value,ye=Ot.value,De=vr.value,Xe=ir.value,Pe=Be.value,We=gt.value,Ke=et.value;if(e.rowId&&yt("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&yt("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&yt("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||L.keyField)&&(ee.reserve||ee.checkRowKeys||B.reserve||B.checkRowKey||Z.expandRowKeys||z.expandRowKeys)&&yt("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(Q.showStatus||Q.showUpdateStatus||Q.showInsertStatus)&&!e.keepSource&&yt("vxe.error.reqProp",["keep-source"]),M&&(z.showLine||z.line)&&(!(e.rowKey||L.useKey)||!I)&&yt("vxe.error.reqProp",["row-config.useKey | show-overflow"]),M&&!z.transform&&e.stripe&&yt("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&yt("vxe.error.reqProp",["footer-data | footer-method"]),L.height&&yt("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&yt("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&yt("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&yt("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&yt("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&yt("vxe.error.delProp",["resizable","column-config.resizable"]),R&&Xe.types&&!Xe.importMethod&&!f.includeArrays(f.keys(Xe._typeMaps),Xe.types)&&yt("vxe.error.errProp",[`export-config.types=${Xe.types.join(",")}`,Xe.types.filter(Ve=>f.includes(f.keys(Xe._typeMaps),Ve)).join(",")||f.keys(Xe._typeMaps).join(",")]),E&&De.types&&!De.exportMethod&&!f.includeArrays(f.keys(De._typeMaps),De.types)&&yt("vxe.error.errProp",[`export-config.types=${De.types.join(",")}`,De.types.filter(Ve=>f.includes(f.keys(De._typeMaps),Ve)).join(",")||f.keys(De._typeMaps).join(",")]),e.id||(e.customConfig?Ct(ke):ke.enabled)&&ke.storage&&Ze("vxe.error.reqProp",["id"]),e.treeConfig&&ee.range&&Ze("vxe.error.noTree",["checkbox-config.range"]),L.height&&!e.showOverflow&&yt("vxe.error.notProp",["table.show-overflow"]),!h.triggerCellAreaMousedownEvent&&(e.areaConfig&&yt("vxe.error.notProp",["area-config"]),e.clipConfig&&yt("vxe.error.notProp",["clip-config"]),e.fnrConfig&&yt("vxe.error.notProp",["fnr-config"]),ye.area)){Ze("vxe.error.notProp",["mouse-config.area"]);return}if(M&&L.drag&&!z.transform&&Ze("vxe.error.notSupportProp",["column-config.drag","tree-config.transform=false","tree-config.transform=true"]),e.dragConfig&&yt("vxe.error.delProp",["drag-config","row-drag-config"]),e.treeConfig&&z.children&&yt("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&z.line&&yt("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),ye.area&&ye.selected&&yt("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),ye.area&&e.treeConfig&&!z.transform&&Ze("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&Q.activeMethod&&yt("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&ee.isShiftKey&&Ze("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),ee.halfField&&yt("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),L.currentMethod&&yt("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),r.currentMethod&&yt("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(L.isCurrent||N)&&e.keyboardConfig&&Ke.isArrow&&!f.isBoolean(Pe.isFollowSelected)&&yt("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(r.isCurrent||P)&&e.keyboardConfig&&Ke.isArrow&&!f.isBoolean(We.isFollowSelected)&&yt("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),e.editConfig&&!h.insert&&Ze("vxe.error.reqModule",["Edit"]),e.editRules&&!h.validate&&Ze("vxe.error.reqModule",["Validator"]),(ee.range||e.keyboardConfig||e.mouseConfig)&&!h.handleCellMousedownEvent&&Ze("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!h.exportData&&Ze("vxe.error.reqModule",["Export"]),Object.assign(V,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign($,{startIndex:0,endIndex:0,visibleSize:0}),il(w||[],!0).then(()=>{w&&w.length&&(s.inited=!0,s.initStatus=!0,Si()),dC(),qt()}),e.autoResize){const Ve=S.value,ct=O.getParentElem();Ul=RR.create(()=>{e.autoResize&&y.recalculate(!0)}),Ve&&Ul.observe(Ve),ct&&Ul.observe(ct)}});const b=Y.value;b&&b.addEventListener("wheel",h.triggerBodyWheelEvent,{passive:!1}),Kt.on(h,"paste",MC),Kt.on(h,"copy",TC),Kt.on(h,"cut",FC),Kt.on(h,"mousedown",EC),Kt.on(h,"blur",RC),Kt.on(h,"mousewheel",SC),Kt.on(h,"keydown",DC),Kt.on(h,"resize",zf),Kt.on(h,"contextmenu",h.handleGlobalContextmenuEvent),O.preventEvent(null,"mounted",{$table:h})}),VC(()=>{const r=Y.value;r&&r.removeEventListener("wheel",h.triggerBodyWheelEvent),s.cvCacheMaps={},s.prevDragRow=null,s.prevDragCol=null,Ul&&Ul.disconnect(),y.closeFilter(),h.closeMenu&&h.closeMenu(),O.preventEvent(null,"beforeUnmount",{$table:h})}),Un(()=>{Kt.off(h,"paste"),Kt.off(h,"copy"),Kt.off(h,"cut"),Kt.off(h,"mousedown"),Kt.off(h,"blur"),Kt.off(h,"mousewheel"),Kt.off(h,"keydown"),Kt.off(h,"resize"),Kt.off(h,"contextmenu"),O.preventEvent(null,"unmounted",{$table:h})}),ge(()=>{e.loading&&!d&&!o.loading&&Ze("vxe.error.reqComp",["vxe-loading"]),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(v||Ze("vxe.error.reqComp",["vxe-tooltip"]))}),yn("$xeColgroup",null),yn("$xeTable",h),h.renderVN=PC,h},render(){return this.renderVN()}}),{getConfig:bo,getIcon:mn,getI18n:gl,renderer:qm,commands:_m,createEvent:DR,useFns:MR}=ve,Gn=lo({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>bo().toolbar.buttons},tools:{type:Array,default:()=>bo().toolbar.tools},perfect:{type:Boolean,default:()=>bo().toolbar.perfect},size:{type:String,default:()=>bo().toolbar.size||bo().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:o,emit:n}=t,u=f.uniqueId(),c=ve.getComponent("VxeButton"),{computeSize:d}=MR.useSize(e),v=Co({isRefresh:!1,connectFlag:0,columns:[]}),m={connectTable:null},x=ze(),i={refElem:x},s={xID:u,props:e,context:t,reactData:v,internalData:m,getRefMaps:()=>i};let y={};const O=Lr("$xeGrid",null),S=_e(()=>Object.assign({},f.clone(bo().toolbar.refresh,!0),e.refresh)),T=_e(()=>Object.assign({},f.clone(bo().toolbar.import,!0),e.import)),q=_e(()=>Object.assign({},f.clone(bo().toolbar.export,!0),e.export)),A=_e(()=>Object.assign({},f.clone(bo().toolbar.print,!0),e.print)),_=_e(()=>Object.assign({},f.clone(bo().toolbar.zoom,!0),e.zoom)),W=_e(()=>Object.assign({},f.clone(bo().toolbar.custom,!0),e.custom)),U=_e(()=>{const{connectTable:se}=m,Oe=se;if((v.connectFlag||Oe)&&Oe){const{computeCustomOpts:fe}=Oe.getComputeMaps();return fe.value}return{trigger:""}}),te=_e(()=>U.value.trigger),Y=()=>{const{connectTable:se}=m;if(se)return!0;Ze("vxe.error.barUnableLink")},D=({$event:se})=>{const{connectTable:Oe}=m,fe=Oe;fe&&(fe.triggerCustomEvent?fe.triggerCustomEvent(se):Ze("vxe.error.reqModule",["VxeTableCustomModule"]))},F=({$event:se})=>{const{connectTable:Oe}=m,fe=Oe;fe?fe.customOpenEvent(se):Ze("vxe.error.reqModule",["VxeTableCustomModule"])},H=({$event:se})=>{const{connectTable:Oe}=m,fe=Oe;if(fe){const{customStore:he}=fe.reactData;he.activeBtn=!1,setTimeout(()=>{!he.activeBtn&&!he.activeWrapper&&fe.customCloseEvent(se)},350)}},j=({$event:se})=>{const{isRefresh:Oe}=v,fe=S.value;if(!Oe){const he=fe.queryMethod||fe.query;if(he){v.isRefresh=!0;try{Promise.resolve(he({})).catch(Te=>Te).then(()=>{v.isRefresh=!1})}catch{v.isRefresh=!1}}else O&&(v.isRefresh=!0,O.triggerToolbarCommitEvent({code:fe.code||"reload"},se).catch(Te=>Te).then(()=>{v.isRefresh=!1}))}},K=({$event:se})=>{O&&O.triggerZoomEvent(se)},k=(se,Oe)=>{const{connectTable:fe}=m,he=fe,{code:Te}=Oe;if(Te)if(O)O.triggerToolbarBtnEvent(Oe,se);else{const me=_m.get(Te),le={code:Te,button:Oe,$table:he,$grid:O,$event:se};if(me){const Fe=me.tableCommandMethod||me.commandMethod;Fe?Fe(le):Ze("vxe.error.notCommands",[Te])}s.dispatchEvent("button-click",le,se)}},X=(se,Oe)=>{const{connectTable:fe}=m,he=fe,{code:Te}=Oe;if(Te)if(O)O.triggerToolbarTolEvent(Oe,se);else{const me=_m.get(Te),le={code:Te,tool:Oe,$table:he,$grid:O,$event:se};if(me){const Fe=me.tableCommandMethod||me.commandMethod;Fe?Fe(le):Ze("vxe.error.notCommands",[Te])}s.dispatchEvent("tool-click",le,se)}},J=()=>{if(Y()){const{connectTable:se}=m,Oe=se;Oe&&Oe.openImport()}},Ce=()=>{if(Y()){const{connectTable:se}=m,Oe=se;Oe&&Oe.openExport()}},xe=()=>{if(Y()){const{connectTable:se}=m,Oe=se;Oe&&Oe.openPrint()}};y={dispatchEvent:(se,Oe,fe)=>{n(se,DR(fe,{$toolbar:s},Oe))},syncUpdate(se){m.connectTable=se.$table,v.columns=se.collectColumn,v.connectFlag++}},Object.assign(s,y);const pe=(se,Oe)=>{const{dropdowns:fe}=se,he=[];return fe?fe.map((Te,me)=>Te.visible===!1?ot():c?C(c,{key:me,disabled:Te.disabled,loading:Te.loading,type:Te.type,mode:Te.mode,icon:Te.icon,circle:Te.circle,round:Te.round,status:Te.status,content:Te.name,title:Te.title,routerLink:Te.routerLink,permissionCode:Te.permissionCode,prefixTooltip:Te.prefixTooltip,suffixTooltip:Te.suffixTooltip,onClick:({$event:le})=>Oe?k(le,Te):X(le,Te)}):ot()):he},Se=()=>{const{buttons:se}=e,{connectTable:Oe}=m,fe=Oe,he=o.buttonPrefix||o["button-prefix"],Te=o.buttonSuffix||o["button-suffix"],me=[];return he&&me.push(...Ar(he({buttons:se||[],$grid:O,$table:fe}))),se&&se.forEach((le,Fe)=>{const{dropdowns:Re,buttonRender:Ye}=le;if(le.visible!==!1){const Ge=Ye?qm.get(Ye.name):null;if(Ye&&Ge&&Ge.renderToolbarButton){const je=Ge.toolbarButtonClassName,Le={$grid:O,$table:fe,button:le};me.push(C("span",{key:`br${le.code||Fe}`,class:["vxe-button--item",je?f.isFunction(je)?je(Le):je:""]},Ar(Ge.renderToolbarButton(Ye,Le))))}else c&&me.push(C(c,{key:`bd${le.code||Fe}`,disabled:le.disabled,loading:le.loading,type:le.type,mode:le.mode,icon:le.icon,circle:le.circle,round:le.round,status:le.status,content:le.name,title:le.title,routerLink:le.routerLink,permissionCode:le.permissionCode,prefixTooltip:le.prefixTooltip,suffixTooltip:le.suffixTooltip,destroyOnClose:le.destroyOnClose,placement:le.placement,transfer:le.transfer,onClick:({$event:je})=>k(je,le)},Re&&Re.length?{dropdowns:()=>pe(le,!0)}:{}))}}),Te&&me.push(...Ar(Te({buttons:se||[],$grid:O,$table:fe}))),me},Ee=()=>{const{tools:se}=e,{connectTable:Oe}=m,fe=Oe,he=o.toolPrefix||o["tool-prefix"],Te=o.toolSuffix||o["tool-suffix"],me=[];return he&&me.push(...Ar(he({tools:se||[],$grid:O,$table:fe}))),se&&se.forEach((le,Fe)=>{const{dropdowns:Re,toolRender:Ye}=le;if(le.visible!==!1){const Ge=Ye?Ye.name:null,je=Ye?qm.get(Ge):null;if(Ye&&je&&je.renderToolbarTool){const Le=je.toolbarToolClassName,nt={$grid:O,$table:fe,tool:le};me.push(C("span",{key:Ge,class:["vxe-tool--item",Le?f.isFunction(Le)?Le(nt):Le:""]},Ar(je.renderToolbarTool(Ye,nt))))}else c&&me.push(C(c,{key:Fe,disabled:le.disabled,loading:le.loading,type:le.type,mode:le.mode,icon:le.icon,circle:le.circle,round:le.round,status:le.status,content:le.name,title:le.title,routerLink:le.routerLink,permissionCode:le.permissionCode,prefixTooltip:le.prefixTooltip,suffixTooltip:le.suffixTooltip,destroyOnClose:le.destroyOnClose,placement:le.placement,transfer:le.transfer,onClick:({$event:Le})=>X(Le,le)},Re&&Re.length?{dropdowns:()=>pe(le,!1)}:{}))}}),Te&&me.push(...Ar(Te({tools:se||[],$grid:O,$table:fe}))),me},G=()=>{const se=T.value;return c?C(c,{key:"import",circle:!0,icon:se.icon||mn().TOOLBAR_TOOLS_IMPORT,title:gl("vxe.toolbar.import"),onClick:J}):ot()},de=()=>{const se=q.value;return c?C(c,{key:"export",circle:!0,icon:se.icon||mn().TOOLBAR_TOOLS_EXPORT,title:gl("vxe.toolbar.export"),onClick:Ce}):ot()},ce=()=>{const se=A.value;return c?C(c,{key:"print",circle:!0,icon:se.icon||mn().TOOLBAR_TOOLS_PRINT,title:gl("vxe.toolbar.print"),onClick:xe}):ot()},ne=()=>{const se=S.value;return c?C(c,{key:"refresh",circle:!0,icon:v.isRefresh?se.iconLoading||mn().TOOLBAR_TOOLS_REFRESH_LOADING:se.icon||mn().TOOLBAR_TOOLS_REFRESH,title:gl("vxe.toolbar.refresh"),onClick:j}):ot()},oe=()=>{const se=_.value;return O&&c?C(c,{key:"zoom",circle:!0,icon:O.isMaximized()?se.iconOut||mn().TOOLBAR_TOOLS_MINIMIZE:se.iconIn||mn().TOOLBAR_TOOLS_FULLSCREEN,title:gl(`vxe.toolbar.zoom${O.isMaximized()?"Out":"In"}`),onClick:K}):ot()},ie=()=>{const se=W.value,Oe=te.value,fe={};return Oe==="manual"||(Oe==="hover"?(fe.onMouseenter=F,fe.onMouseleave=H):fe.onClick=D),c?C(c,Object.assign({key:"custom",circle:!0,icon:se.icon||mn().TOOLBAR_TOOLS_CUSTOM,title:gl("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},fe)):ot()},we=()=>{const{perfect:se,loading:Oe,refresh:fe,zoom:he,custom:Te,className:me}=e,{connectTable:le}=m,Fe=d.value,Re=o.tools,Ye=o.buttons,Ge=le;return C("div",{ref:x,class:["vxe-toolbar",me?f.isFunction(me)?me({$toolbar:s}):me:"",{[`size--${Fe}`]:Fe,"is--perfect":se,"is--loading":Oe}]},[C("div",{class:"vxe-buttons--wrapper"},Ye?Ye({$grid:O,$table:Ge}):Se()),C("div",{class:"vxe-tools--wrapper"},Re?Re({$grid:O,$table:Ge}):Ee()),C("div",{class:"vxe-tools--operate"},[e.import?G():ot(),e.export?de():ot(),e.print?ce():ot(),fe?ne():ot(),he&&O?oe():ot(),Te?ie():ot()])])};return s.renderVN=we,ge(()=>{const{refresh:se}=e,Oe=S.value,fe=Oe.queryMethod||Oe.query;se&&!O&&!fe&&yt("vxe.error.notFunc",["queryMethod"]);const he=W.value;he.isFooter&&yt("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),he.showFooter&&yt("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),he.immediate&&yt("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),he.trigger&&yt("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(c||Ze("vxe.error.reqComp",["vxe-button"]))}),s},render(){return this.renderVN()}}),{getConfig:Yo,getI18n:vl,commands:TR,hooks:FR,useFns:IR,createEvent:kR,globalEvents:zd,GLOBAL_EVENT_KEYS:AR,renderEmptyElement:Io}=ve,LR=Object.keys(Ki),Nm=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","sort","setSort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect"],HR=[...Df,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Ol=lo({name:"VxeGrid",props:Object.assign(Object.assign({},Ki),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>Yo().grid.size||Yo().size}}),emits:HR,setup(e,t){var o;const{slots:n,emit:u}=t,c=f.uniqueId(),d=ve.getComponent("VxeForm"),v=ve.getComponent("VxePager"),m=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:x}=IR.useSize(e),i=Co({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((o=Yo().pager)===null||o===void 0?void 0:o.pageSize)||10,currentPage:1}}),s=ze(),y=ze(),O=ze(),S=ze(),T=ze(),q=ze(),A=ze(),_=ze(),W=ze(),U=ze(),te=ae=>{const be={};return ae.forEach(re=>{be[re]=(...Ie)=>{const Be=y.value;if(Be&&Be[re])return Be[re](...Ie)}}),be},Y=te(Nm);Nm.forEach(ae=>{Y[ae]=(...be)=>{const re=y.value;if(re&&re[ae])return re&&re[ae](...be)}});const D=_e(()=>f.merge({},f.clone(Yo().grid.proxyConfig,!0),e.proxyConfig)),F=_e(()=>{const ae=D.value;return f.isBoolean(ae.message)?ae.message:ae.showResponseMsg}),H=_e(()=>D.value.showActiveMsg),j=_e(()=>Object.assign({},Yo().grid.pagerConfig,e.pagerConfig)),K=_e(()=>Object.assign({},Yo().grid.formConfig,e.formConfig)),k=_e(()=>Object.assign({},Yo().grid.toolbarConfig,e.toolbarConfig)),X=_e(()=>Object.assign({},Yo().grid.zoomConfig,e.zoomConfig)),J=_e(()=>{const{height:ae,maxHeight:be}=e,{isZMax:re,tZindex:Ie}=i,Be={};return re?Be.zIndex=Ie:(ae&&(Be.height=ae==="auto"||ae==="100%"?"100%":ui(ae)),be&&(Be.maxHeight=be==="auto"||be==="100%"?"100%":ui(be))),Be}),Ce=_e(()=>{const ae={},be=e;return LR.forEach(re=>{ae[re]=be[re]}),ae}),xe=_e(()=>{const{seqConfig:ae,pagerConfig:be,loading:re,editConfig:Ie,proxyConfig:Be}=e,{isZMax:tt,tableLoading:lt,tablePage:xt}=i,ht=Ce.value,Lt=D.value,Tt=j.value,$e=Object.assign({},ht);return tt&&(ht.maxHeight?$e.maxHeight="100%":$e.height="100%"),Be&&Ct(Lt)&&($e.loading=re||lt,be&&Lt.seq&&Ct(Tt)&&($e.seqConfig=Object.assign({},ae,{startIndex:(xt.currentPage-1)*xt.pageSize}))),Ie&&($e.editConfig=Object.assign({},Ie)),$e}),ue=_e(()=>{const{layouts:ae}=e;let be=[];ae&&ae.length?be=ae:be=Yo().grid.layouts||m;let re=[],Ie=[],Be=[];return be.length&&(f.isArray(be[0])?(re=be[0],Ie=be[1]||[],Be=be[2]||[]):Ie=be),{headKeys:re,bodyKeys:Ie,footKeys:Be}}),pe=_e(()=>{const ae=j.value;return`${ae.currentPage}${ae.pageSize}`}),Se={refElem:s,refTable:y,refForm:O,refToolbar:S,refPager:T},Ee={computeProxyOpts:D,computePagerOpts:j,computeFormOpts:K,computeToolbarOpts:k,computeZoomOpts:X},G={xID:c,props:e,context:t,reactData:i,getRefMaps:()=>Se,getComputeMaps:()=>Ee},de=()=>{const ae=k.value;e.toolbarConfig&&Ct(ae)&&ge(()=>{const be=y.value,re=S.value;be&&re&&be.connect(re)})},ce=()=>{const{proxyConfig:ae}=e,{formData:be}=i,re=D.value,Ie=K.value;return ae&&Ct(re)&&re.form?be:Ie.data},ne=()=>{const{tablePage:ae}=i,{pagerConfig:be}=e,re=j.value,{currentPage:Ie,pageSize:Be}=re;be&&Ct(re)&&(Ie&&(ae.currentPage=Ie),Be&&(ae.pageSize=Be))},oe=ae=>{const be=H.value,re=y.value,Ie=re.getCheckboxRecords();Ie.length?(re.togglePendingRow(Ie),Y.clearCheckboxRow()):be&&ve.modal&&ve.modal.message({id:ae,content:vl("vxe.grid.selectOneRecord"),status:"warning"})},ie=(ae,be)=>{const re=D.value,Be=(re.response||re.props||{}).message;let tt;return ae&&Be&&(tt=f.isFunction(Be)?Be({data:ae,$grid:G}):f.get(ae,Be)),tt||vl(be)},we=(ae,be,re)=>{const Ie=H.value,Be=Y.getCheckboxRecords();if(Ie)if(Be.length){if(ve.modal)return ve.modal.confirm({id:`cfm_${ae}`,content:vl(be),escClosable:!0}).then(tt=>{if(tt==="confirm")return re()})}else ve.modal&&ve.modal.message({id:`msg_${ae}`,content:vl("vxe.grid.selectOneRecord"),status:"warning"});else Be.length&&re();return Promise.resolve()},se=ae=>{const{proxyConfig:be}=e,{tablePage:re}=i,{$event:Ie,currentPage:Be,pageSize:tt}=ae,lt=D.value;re.currentPage=Be,re.pageSize=tt,G.dispatchEvent("page-change",ae,Ie),be&&Ct(lt)&&G.commitProxy("query").then(xt=>{G.dispatchEvent("proxy-query",xt,Ie)})},Oe=ae=>{const be=y.value,{proxyConfig:re}=e,{computeSortOpts:Ie}=be.getComputeMaps(),Be=D.value;Ie.value.remote&&(i.sortData=ae.sortList,re&&Ct(Be)&&(i.tablePage.currentPage=1,Me.commitProxy("query").then(lt=>{Me.dispatchEvent("proxy-query",lt,ae.$event)}))),Me.dispatchEvent("sort-change",ae,ae.$event)},fe=ae=>{const be=y.value,{proxyConfig:re}=e,{computeFilterOpts:Ie}=be.getComputeMaps(),Be=D.value;Ie.value.remote&&(i.filterData=ae.filterList,re&&Ct(Be)&&(i.tablePage.currentPage=1,Me.commitProxy("query").then(lt=>{Me.dispatchEvent("proxy-query",lt,ae.$event)}))),Me.dispatchEvent("filter-change",ae,ae.$event)},he=ae=>{const{proxyConfig:be}=e,re=D.value;i.tableLoading||(be&&Ct(re)&&Me.commitProxy("reload").then(Ie=>{Me.dispatchEvent("proxy-query",Object.assign(Object.assign({},Ie),{isReload:!0}),ae.$event)}),Me.dispatchEvent("form-submit",ae,ae.$event))},Te=ae=>{const{proxyConfig:be}=e,{$event:re}=ae,Ie=D.value,Be=y.value;be&&Ct(Ie)&&(Be.clearScroll(),Me.commitProxy("reload").then(tt=>{Me.dispatchEvent("proxy-query",Object.assign(Object.assign({},tt),{isReload:!0}),re)})),Me.dispatchEvent("form-reset",ae,re)},me=ae=>{Me.dispatchEvent("form-submit-invalid",ae,ae.$event)},le=ae=>{const{$event:be}=ae;Me.dispatchEvent("form-toggle-collapse",ae,be),Me.dispatchEvent("form-collapse",ae,be)},Fe=ae=>{const{isZMax:be}=i;return(ae?!be:be)&&(i.isZMax=!be,i.tZindex<Tx()&&(i.tZindex=Mx())),ge().then(()=>Y.recalculate(!0)).then(()=>(setTimeout(()=>Y.recalculate(!0),15),i.isZMax))},Re=(ae,be)=>{const re=ae[be];if(re)if(f.isString(re)){if(n[re])return n[re];Ze("vxe.error.notSlot",[re])}else return re;return null},Ye=ae=>{const be={};return f.objectMap(ae,(re,Ie)=>{re&&(f.isString(re)?n[re]?be[Ie]=n[re]:Ze("vxe.error.notSlot",[re]):be[Ie]=re)}),be},Ge=()=>{const{formConfig:ae,proxyConfig:be}=e,{formData:re}=i,Ie=D.value,Be=K.value;if(ae&&Ct(Be)||n.form){let tt=[];if(n.form)tt=n.form({$grid:G});else if(Be.items){const lt={};if(!Be.inited){Be.inited=!0;const xt=Ie.beforeItem;Ie&&xt&&Be.items.forEach(ht=>{xt({$grid:G,item:ht})})}Be.items.forEach(xt=>{f.each(xt.slots,ht=>{f.isFunction(ht)||n[ht]&&(lt[ht]=n[ht])})}),d&&tt.push(C(d,Object.assign(Object.assign({ref:O},Object.assign({},Be,{data:be&&Ct(Ie)&&Ie.form?re:Be.data})),{onSubmit:he,onReset:Te,onSubmitInvalid:me,onCollapse:le}),lt))}return C("div",{ref:q,key:"form",class:"vxe-grid--form-wrapper"},tt)}return Io(G)},je=()=>{const{toolbarConfig:ae}=e,be=k.value;if(ae&&Ct(be)||n.toolbar){let re=[];if(n.toolbar)re=n.toolbar({$grid:G});else{const Ie=be.slots;let Be,tt;const lt={};Ie&&(Be=Re(Ie,"buttons"),tt=Re(Ie,"tools"),Be&&(lt.buttons=Be),tt&&(lt.tools=tt)),re.push(C(Gn,Object.assign(Object.assign({ref:S},be),{slots:void 0}),lt))}return C("div",{ref:A,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},re)}return Io(G)},Le=()=>n.top?C("div",{ref:_,key:"top",class:"vxe-grid--top-wrapper"},n.top({$grid:G})):Io(G),nt=()=>{const ae=n.left;return ae?C("div",{class:"vxe-grid--left-wrapper"},ae({$grid:G})):Io(G)},Et=()=>{const ae=n.right;return ae?C("div",{class:"vxe-grid--right-wrapper"},ae({$grid:G})):Io(G)},bt=()=>{const{proxyConfig:ae}=e,be=xe.value,re=D.value,Ie=Object.assign({},Ne),Be=n.empty,tt=n.loading,lt=n.rowDragIcon||n["row-drag-icon"],xt=n.columnDragIcon||n["column-drag-icon"];ae&&Ct(re)&&(re.sort&&(Ie.onSortChange=Oe),re.filter&&(Ie.onFilterChange=fe));const ht={};return Be&&(ht.empty=Be),tt&&(ht.loading=tt),lt&&(ht.rowDragIcon=lt),xt&&(ht.columnDragIcon=xt),C("div",{class:"vxe-grid--table-wrapper"},[C(Vn,Object.assign(Object.assign({ref:y},be),Ie),ht)])},ut=()=>n.bottom?C("div",{ref:W,key:"bottom",class:"vxe-grid--bottom-wrapper"},n.bottom({$grid:G})):Io(G),it=()=>{const{proxyConfig:ae,pagerConfig:be}=e,re=D.value,Ie=j.value,Be=n.pager;return be&&Ct(Ie)||n.pager?C("div",{ref:U,key:"pager",class:"vxe-grid--pager-wrapper"},Be?Be({$grid:G}):[v?C(v,Object.assign(Object.assign(Object.assign({ref:T},Ie),ae&&Ct(re)?i.tablePage:{}),{onPageChange:se}),Ye(Ie.slots)):Io(G)]):Io(G)},mt=ae=>{const be=[];return ae.forEach(re=>{switch(re){case"Form":be.push(Ge());break;case"Toolbar":be.push(je());break;case"Top":be.push(Le());break;case"Table":be.push(C("div",{key:"table",class:"vxe-grid--table-container"},[nt(),bt(),Et()]));break;case"Bottom":be.push(ut());break;case"Pager":be.push(it());break;default:Ze("vxe.error.notProp",[`layouts -> ${re}`]);break}}),be},Je=()=>{const ae=ue.value,{headKeys:be,bodyKeys:re,footKeys:Ie}=ae,Be=n.asideLeft||n["aside-left"],tt=n.asideRight||n["aside-right"];return[C("div",{class:"vxe-grid--layout-header-wrapper"},mt(be)),C("div",{class:"vxe-grid--layout-body-wrapper"},[Be?C("div",{class:"vxe-grid--layout-aside-left-wrapper"},Be({})):Io(G),C("div",{class:"vxe-grid--layout-body-content-wrapper"},mt(re)),tt?C("div",{class:"vxe-grid--layout-aside-right-wrapper"},tt({})):Io(G)]),C("div",{class:"vxe-grid--layout-footer-wrapper"},mt(Ie))]},Ne={};Df.forEach(ae=>{const be=f.camelCase(`on-${ae}`);Ne[be]=(...re)=>u(ae,...re)});const Ue=()=>{const{proxyConfig:ae,formConfig:be}=e,{proxyInited:re}=i,Ie=D.value,Be=K.value;if(ae&&Ct(Ie)){if(be&&Ct(Be)&&Ie.form&&Be.items){const tt={};Be.items.forEach(lt=>{const{field:xt,itemRender:ht}=lt;if(xt){let Lt=null;if(ht){const{defaultValue:Tt}=ht;f.isFunction(Tt)?Lt=Tt({item:lt}):f.isUndefined(Tt)||(Lt=Tt)}tt[xt]=Lt}}),i.formData=tt}re||(i.proxyInited=!0,Ie.autoLoad!==!1&&ge().then(()=>Me.commitProxy("_init")).then(tt=>{Me.dispatchEvent("proxy-query",Object.assign(Object.assign({},tt),{isInited:!0}),new Event("init"))}))}},ft=ae=>{const be=X.value;zd.hasKey(ae,AR.ESCAPE)&&i.isZMax&&be.escRestore!==!1&&He.triggerZoomEvent(ae)},Me={dispatchEvent:(ae,be,re)=>{u(ae,kR(re,{$grid:G},be))},getEl(){return s.value},commitProxy(ae,...be){const{toolbarConfig:re,pagerConfig:Ie,editRules:Be,validConfig:tt}=e,{tablePage:lt}=i,xt=H.value,ht=F.value,Lt=D.value,Tt=j.value,$e=k.value,{beforeQuery:Bt,afterQuery:Pt,beforeDelete:Ut,afterDelete:Zt,beforeSave:Yt,afterSave:ar,ajax:Ot={}}=Lt,Qt=Lt.response||Lt.props||{},et=y.value,Ht=ce();let dr=null,Ft=null;if(f.isString(ae)){const{buttons:kt}=$e,lr=re&&Ct($e)&&kt?f.findTree(kt,gr=>gr.code===ae,{children:"dropdowns"}):null;dr=lr?lr.item:null,Ft=ae}else dr=ae,Ft=dr.code;const cr=dr?dr.params:null;switch(Ft){case"insert":return et.insert({});case"insert_edit":return et.insert({}).then(({row:kt})=>et.setEditRow(kt));case"insert_actived":return et.insert({}).then(({row:kt})=>et.setEditRow(kt));case"mark_cancel":oe(Ft);break;case"remove":return we(Ft,"vxe.grid.removeSelectRecord",()=>et.removeCheckboxRow());case"import":et.importData(cr);break;case"open_import":et.openImport(cr);break;case"export":et.exportData(cr);break;case"open_export":et.openExport(cr);break;case"reset_custom":return et.resetCustom(!0);case"_init":case"reload":case"query":{const kt=Ot.query,lr=Ot.querySuccess,gr=Ot.queryError;if(kt){const Wt=Ft==="_init",er=Ft==="reload";if(!Wt&&i.tableLoading)return ge();let Rr=[],vr=[],ir={};if(Ie&&((Wt||er)&&(lt.currentPage=1),Ct(Tt)&&(ir=Object.assign({},lt))),Wt){let wt=null;if(et){const{computeSortOpts:st}=et.getComputeMaps();wt=st.value.defaultSort}wt&&(f.isArray(wt)||(wt=[wt]),Rr=wt.map(st=>({field:st.field,property:st.field,order:st.order}))),et&&(vr=et.getCheckedFilters())}else et&&(er?et.clearAll():(Rr=et.getSortColumns(),vr=et.getCheckedFilters()));const wr={code:Ft,button:dr,isInited:Wt,isReload:er,$grid:G,page:ir,sort:Rr.length?Rr[0]:{},sorts:Rr,filters:vr,form:Ht,options:kt};return i.sortData=Rr,i.filterData=vr,i.tableLoading=!0,Promise.resolve((Bt||kt)(wr,...be)).then(wt=>{let st=[];if(i.tableLoading=!1,wt)if(Ie&&Ct(Tt)){const fr=Qt.total,io=(f.isFunction(fr)?fr({data:wt,$grid:G}):f.get(wt,fr||"page.total"))||0;lt.total=f.toNumber(io);const so=Qt.result;st=(f.isFunction(so)?so({data:wt,$grid:G}):f.get(wt,so||"result"))||[];const yr=Math.max(Math.ceil(io/lt.pageSize),1);lt.currentPage>yr&&(lt.currentPage=yr)}else{const fr=Qt.list;st=(fr?f.isFunction(fr)?fr({data:wt,$grid:G}):f.get(wt,fr):wt)||[]}return et?et.loadData(st):ge(()=>{et&&et.loadData(st)}),Pt&&Pt(wr,...be),lr&&lr(Object.assign(Object.assign({},wr),{response:wt})),{status:!0}}).catch(wt=>(i.tableLoading=!1,gr&&gr(Object.assign(Object.assign({},wr),{response:wt})),{status:!1}))}else Ze("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const kt=Ot.delete,lr=Ot.deleteSuccess,gr=Ot.deleteError;if(kt){const Wt=Y.getCheckboxRecords(),er=Wt.filter(ir=>!et.isInsertByRow(ir)),vr={$grid:G,code:Ft,button:dr,body:{removeRecords:er},form:Ht,options:kt};if(Wt.length)return we(Ft,"vxe.grid.deleteSelectRecord",()=>er.length?(i.tableLoading=!0,Promise.resolve((Ut||kt)(vr,...be)).then(ir=>(i.tableLoading=!1,et.setPendingRow(er,!1),ht&&ve.modal&&ve.modal.message({content:ie(ir,"vxe.grid.delSuccess"),status:"success"}),Zt?Zt(vr,...be):Me.commitProxy("query"),lr&&lr(Object.assign(Object.assign({},vr),{response:ir})),{status:!0})).catch(ir=>(i.tableLoading=!1,ht&&ve.modal&&ve.modal.message({id:Ft,content:ie(ir,"vxe.grid.operError"),status:"error"}),gr&&gr(Object.assign(Object.assign({},vr),{response:ir})),{status:!1}))):et.remove(Wt));xt&&ve.modal&&ve.modal.message({id:Ft,content:vl("vxe.grid.selectOneRecord"),status:"warning"})}else Ze("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const kt=Ot.save,lr=Ot.saveSuccess,gr=Ot.saveError;if(kt){const Wt=et.getRecordset(),{insertRecords:er,removeRecords:Rr,updateRecords:vr,pendingRecords:ir}=Wt,wr={$grid:G,code:Ft,button:dr,body:Wt,form:Ht,options:kt};er.length&&(Wt.pendingRecords=ir.filter(st=>et.findRowIndexOf(er,st)===-1)),ir.length&&(Wt.insertRecords=er.filter(st=>et.findRowIndexOf(ir,st)===-1));let wt=Promise.resolve();return Be&&(wt=et[tt&&tt.msgMode==="full"?"fullValidate":"validate"](Wt.insertRecords.concat(vr))),wt.then(st=>{if(!st){if(Wt.insertRecords.length||Rr.length||vr.length||Wt.pendingRecords.length)return i.tableLoading=!0,Promise.resolve((Yt||kt)(wr,...be)).then(fr=>(i.tableLoading=!1,et.clearPendingRow(),ht&&ve.modal&&ve.modal.message({content:ie(fr,"vxe.grid.saveSuccess"),status:"success"}),ar?ar(wr,...be):Me.commitProxy("query"),lr&&lr(Object.assign(Object.assign({},wr),{response:fr})),{status:!0})).catch(fr=>(i.tableLoading=!1,ht&&ve.modal&&ve.modal.message({id:Ft,content:ie(fr,"vxe.grid.operError"),status:"error"}),gr&&gr(Object.assign(Object.assign({},wr),{response:fr})),{status:!1}));xt&&ve.modal&&ve.modal.message({id:Ft,content:vl("vxe.grid.dataUnchanged"),status:"info"})}})}else Ze("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const kt=TR.get(Ft);if(kt){const lr=kt.tableCommandMethod||kt.commandMethod;lr?lr({code:Ft,button:dr,$grid:G,$table:et},...be):Ze("vxe.error.notCommands",[Ft])}}}return ge()},zoom(){return i.isZMax?Me.revert():Me.maximize()},isMaximized(){return i.isZMax},maximize(){return Fe(!0)},revert(){return Fe()},getFormData:ce,getFormItems(ae){const be=K.value,{formConfig:re}=e,{items:Ie}=be,Be=[];return f.eachTree(re&&Ct(be)&&Ie?Ie:[],tt=>{Be.push(tt)},{children:"children"}),f.isUndefined(ae)?Be:Be[ae]},getProxyInfo(){const ae=y.value;if(e.proxyConfig){const{sortData:be}=i;return{data:ae?ae.getFullData():[],filter:i.filterData,form:ce(),sort:be.length?be[0]:{},sorts:be,pager:i.tablePage,pendingRecords:ae?ae.getPendingRecords():[]}}return null}},He={extendTableMethods:te,callSlot(ae,be){return ae&&(f.isString(ae)&&(ae=n[ae]||null),f.isFunction(ae))?Ar(ae(be)):[]},getExcludeHeight(){const{isZMax:ae}=i,be=s.value;if(be){const re=q.value,Ie=A.value,Be=_.value,tt=W.value,lt=U.value,xt=be.parentElement;return(ae?0:xt?tf(xt):0)+tf(be)+Ql(re)+Ql(Ie)+Ql(Be)+Ql(tt)+Ql(lt)}return 0},getParentHeight(){const ae=s.value;if(ae){const be=ae.parentElement;return(i.isZMax?ds().visibleHeight:be?f.toNumber(getComputedStyle(be).height):0)-He.getExcludeHeight()}return 0},triggerToolbarCommitEvent(ae,be){const{code:re}=ae;return Me.commitProxy(ae,be).then(Ie=>{re&&Ie&&Ie.status&&["query","reload","delete","save"].includes(re)&&Me.dispatchEvent(re==="delete"||re==="save"?`proxy-${re}`:"proxy-query",Object.assign(Object.assign({},Ie),{isReload:re==="reload"}),be)})},triggerToolbarBtnEvent(ae,be){He.triggerToolbarCommitEvent(ae,be),Me.dispatchEvent("toolbar-button-click",{code:ae.code,button:ae},be)},triggerToolbarTolEvent(ae,be){He.triggerToolbarCommitEvent(ae,be),Me.dispatchEvent("toolbar-tool-click",{code:ae.code,tool:ae},be)},triggerZoomEvent(ae){Me.zoom(),Me.dispatchEvent("zoom",{type:i.isZMax?"max":"revert"},ae)}};Object.assign(G,Y,Me,He);const gt=ze(0);Mt(()=>e.columns?e.columns.length:-1,()=>{gt.value++}),Mt(()=>e.columns,()=>{gt.value++}),Mt(gt,()=>{ge(()=>G.loadColumn(e.columns||[]))}),Mt(()=>e.toolbarConfig,()=>{de()}),Mt(pe,()=>{ne()}),Mt(()=>e.proxyConfig,()=>{Ue()}),FR.forEach(ae=>{const{setupGrid:be}=ae;if(be){const re=be(G);re&&f.isObject(re)&&Object.assign(G,re)}}),ne(),jn(()=>{ge(()=>{const{columns:ae}=e;e.formConfig&&(d||Ze("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(v||Ze("vxe.error.reqComp",["vxe-pager"])),ae&&ae.length&&G.loadColumn(ae),de(),Ue()}),zd.on(G,"keydown",ft)}),Un(()=>{zd.off(G,"keydown")});const Qe=()=>{const ae=x.value,be=J.value;return C("div",{ref:s,class:["vxe-grid",{[`size--${ae}`]:ae,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":i.isZMax,"is--loading":e.loading||i.tableLoading}],style:be},Je())};return G.renderVN=Qe,yn("$xeGrid",G),G},render(){return this.renderVN()}}),Mf=Object.assign({},Ol,{install(e){e.component(Ol.name,Ol)}});ve.dynamicApp&&ve.dynamicApp.component(Ol.name,Ol);ve.component(Ol);const qR=Mf;function _R(e){const t=_e(()=>{const{renderParams:c}=e;return c.column}),o=_e(()=>{const{renderParams:c}=e;return c.row}),n=_e(()=>{const{renderOpts:c}=e;return c.props||{}}),u=_e({get(){const{renderParams:c}=e,{row:d,column:v}=c;return f.get(d,v.field)},set(c){const{renderParams:d}=e,{row:v,column:m}=d;return f.set(v,m.field,c)}});return{currColumn:t,currRow:o,cellModel:u,cellOptions:n}}const{renderer:Pm,hooks:NR}=ve,PR=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"];NR.add("tableFilterModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:u,refTableFilter:c}=e.getRefMaps(),{computeFilterOpts:d,computeMouseOpts:v}=e.getComputeMaps(),m=S=>{const{filterStore:T}=o;T.options.forEach(q=>{q.checked=q._checked}),e.confirmFilterEvent(S)},x=(S,T,q)=>{const{filterStore:A}=o;A.options.forEach(_=>{_._checked=!1}),q._checked=T,e.checkFilterOptions(),m(S)},i=(S,T,q)=>{q._checked=T,e.checkFilterOptions()},s=S=>{const{filterStore:T}=o;e.handleClearFilter(T.column),e.confirmFilterEvent(S)},y={checkFilterOptions(){const{filterStore:S}=o;S.isAllSelected=S.options.every(T=>T._checked),S.isIndeterminate=!S.isAllSelected&&S.options.some(T=>T._checked)},triggerFilterEvent(S,T,q){const{initStore:A,filterStore:_}=o,{elemStore:W}=n;if(_.column===T&&_.visible)_.visible=!1;else{const U=u.value,{scrollTop:te,scrollLeft:Y,visibleHeight:D,visibleWidth:F}=ds(),H=d.value,{transfer:j}=H,K=U.getBoundingClientRect(),k=S.currentTarget,{filters:X,filterMultiple:J,filterRender:Ce}=T,xe=Ct(Ce)?Pm.get(Ce.name):null,ue=T.filterRecoverMethod||(xe?xe.tableFilterRecoverMethod||xe.filterRecoverMethod:null);n._currFilterParams=q,Object.assign(_,{multiple:J,options:X,column:T,style:null}),_.options.forEach(pe=>{const{_checked:Se,checked:Ee}=pe;pe._checked=Ee,!Ee&&Se!==Ee&&ue&&ue({option:pe,column:T,$table:e})}),this.checkFilterOptions(),_.visible=!0,A.filter=!0,ge(()=>{if(!rt(W["main-header-scroll"]))return;const Se=c.value,Ee=Se?Se.getRefMaps().refElem.value:null;if(!Ee)return;const G=k.getBoundingClientRect(),de=Ee.querySelector(".vxe-table--filter-header"),ce=Ee.querySelector(".vxe-table--filter-footer"),ne=Ee.offsetWidth,oe=ne/2;let ie=0,we=0,se=0;j?(ie=G.left-oe+Y,we=G.top+k.clientHeight+te,se=Math.min(Math.max(K.height,Math.floor(D/2)),Math.max(80,D-we-(de?de.clientHeight:0)-(ce?ce.clientHeight:0)-28)),ie<16?ie=16:ie>F-ne-16&&(ie=F-ne-16)):(ie=G.left-K.left-oe,we=G.top-K.top+k.clientHeight,se=Math.max(40,U.clientHeight-we-(de?de.clientHeight:0)-(ce?ce.clientHeight:0)-14),ie<1?ie=1:ie>U.clientWidth-ne-1&&(ie=U.clientWidth-ne-1)),_.style={top:ui(we),left:ui(ie)},_.maxHeight=se})}e.dispatchEvent("filter-visible",{column:T,field:T.field,property:T.field,filterList:e.getCheckedFilters(),visible:_.visible},S)},handleClearFilter(S){if(S){const{filters:T,filterRender:q}=S;if(T){const A=Ct(q)?Pm.get(q.name):null,_=S.filterResetMethod||(A?A.tableFilterResetMethod||A.filterResetMethod:null);T.forEach(W=>{W._checked=!1,W.checked=!1,_||(W.data=f.clone(W.resetValue,!0))}),_&&_({options:T,column:S,$table:e})}}},handleColumnConfirmFilter(S,T){const{mouseConfig:q}=t,{scrollXLoad:A,scrollYLoad:_}=o,W=d.value,U=v.value,{field:te}=S,Y=[],D=[];S.filters.forEach(j=>{j.checked&&(Y.push(j.value),D.push(j.data))});const F=e.getCheckedFilters(),H={$table:e,$event:T,column:S,field:te,property:te,values:Y,datas:D,filters:F,filterList:F};return W.remote||(e.handleTableData(!0),e.checkSelectionStatus()),q&&U.area&&e.handleFilterEvent&&e.handleFilterEvent(T,H),T&&e.dispatchEvent("filter-change",H,T),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:j,scrollYLoad:K}=o;if(A||j||_||K)return(A||j)&&e.updateScrollXSpace(),(_||K)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(S){const{filterStore:T}=o,{column:q}=T;e.handleColumnConfirmFilter(q,S)},handleFilterChangeRadioOption:x,handleFilterChangeMultipleOption:i,handleFilterChangeOption(S,T,q){const{filterStore:A}=o;A.multiple?i(S,T,q):x(S,T,q)},handleFilterConfirmFilter:m,handleFilterResetFilter:s};return Object.assign(Object.assign({},{openFilter(S){const T=hr(e,S);if(T&&T.filters){const{elemStore:q}=n,{fixed:A}=T;return e.scrollToColumn(T).then(()=>{const _=rt(q[`${A||"main"}-header-wrapper`]||q["main-header-wrapper"]);if(_){const W=_.querySelector(`.vxe-header--column.${T.id} .vxe-cell--filter`);YE(W,"click")}})}return ge()},setFilter(S,T,q){const A=hr(e,S);return A&&A.filters&&(A.filters=zx(T||[]),q)?e.handleColumnConfirmFilter(A,new Event("click")):ge()},clearFilter(S){const{filterStore:T}=o,{tableFullColumn:q}=n,A=d.value;let _;return S?(_=hr(e,S),_&&y.handleClearFilter(_)):q.forEach(y.handleClearFilter),(!S||_!==T.column)&&Object.assign(T,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),A.remote?ge():e.updateData()},saveFilterPanel(){return m(null),ge()},resetFilterPanel(){return s(null),ge()},getCheckedFilters(){const{tableFullColumn:S}=n,T=[];return S.forEach(q=>{const{field:A,filters:_}=q,W=[],U=[];_&&_.length&&(_.forEach(te=>{te.checked&&(W.push(te.value),U.push(te.data))}),W.length&&T.push({column:q,field:A,property:A,values:W,datas:U}))}),T},updateFilterOptionStatus(S,T){return S._checked=T,S.checked=T,ge()}}),y)},setupGrid(e){return e.extendTableMethods(PR)}});const{menus:BR,hooks:$R,globalEvents:_i,GLOBAL_EVENT_KEYS:Ni}=ve,zR=["closeMenu"];$R.add("tableMenuModule",{setupTable(e){const{xID:t,props:o,reactData:n,internalData:u}=e,{refElem:c,refTableFilter:d,refTableMenu:v}=e.getRefMaps(),{computeMouseOpts:m,computeIsMenu:x,computeMenuOpts:i}=e.getComputeMaps();let s={},y={};const O=(S,T,q)=>{const{ctxMenuStore:A}=n,_=x.value,W=i.value,U=W[T],te=W.visibleMethod;if(U){const{options:Y,disabled:D}=U;D?S.preventDefault():_&&Y&&Y.length&&(q.options=Y,e.preventEvent(S,"event.showMenu",q,()=>{if(!te||te(q)){S.preventDefault(),e.updateZindex();const{scrollTop:F,scrollLeft:H,visibleHeight:j,visibleWidth:K}=ds();let k=S.clientY+F,X=S.clientX+H;const J=()=>{u._currMenuParams=q,Object.assign(A,{visible:!0,list:Y,selected:null,selectChild:null,showChild:!1,style:{zIndex:u.tZindex,top:`${k}px`,left:`${X}px`}}),ge(()=>{const Se=v.value.getRefMaps().refElem.value,Ee=Se.clientHeight,G=Se.clientWidth,{boundingTop:de,boundingLeft:ce}=ji(Se),ne=de+Ee-j,oe=ce+G-K;ne>-10&&(A.style.top=`${Math.max(F+2,k-Ee-2)}px`),oe>-10&&(A.style.left=`${Math.max(H+2,X-G-2)}px`)})},{keyboard:Ce,row:xe,column:ue}=q;Ce&&xe&&ue?e.scrollToRow(xe,ue).then(()=>{const pe=e.getCellElement(xe,ue);if(pe){const{boundingTop:Se,boundingLeft:Ee}=ji(pe);k=Se+F+Math.floor(pe.offsetHeight/2),X=Ee+H+Math.floor(pe.offsetWidth/2)}J()}):J()}else s.closeMenu()}))}e.closeFilter()};return s={closeMenu(){return Object.assign(n.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),ge()}},y={moveCtxMenu(S,T,q,A,_,W){let U;const te=f.findIndexOf(W,Y=>T[q]===Y);if(A)_&&El(T.selected)?T.showChild=!0:(T.showChild=!1,T.selectChild=null);else if(_i.hasKey(S,Ni.ARROW_UP)){for(let Y=te-1;Y>=0;Y--)if(W[Y].visible!==!1){U=W[Y];break}T[q]=U||W[W.length-1]}else if(_i.hasKey(S,Ni.ARROW_DOWN)){for(let Y=te+1;Y<W.length;Y++)if(W[Y].visible!==!1){U=W[Y];break}T[q]=U||W[0]}else T[q]&&(_i.hasKey(S,Ni.ENTER)||_i.hasKey(S,Ni.SPACEBAR))&&e.ctxMenuLinkEvent(S,T[q])},handleOpenMenuEvent:O,handleGlobalContextmenuEvent(S){const{mouseConfig:T,menuConfig:q}=o,{editStore:A,ctxMenuStore:_}=n,{visibleColumn:W}=u,U=d.value,te=v.value,Y=m.value,D=i.value,F=c.value,{selected:H}=A,j=["header","body","footer"];if(Ct(q)){if(_.visible&&te&&Nt(S,te.getRefMaps().refElem.value).flag){S.preventDefault();return}if(u._keyCtx){const K="body",k={type:K,$table:e,keyboard:!0,columns:W.slice(0),$event:S};if(T&&Y.area){const X=e.getActiveCellArea();if(X&&X.row&&X.column){k.row=X.row,k.column=X.column,O(S,K,k);return}}else if(T&&Y.selected&&H.row&&H.column){k.row=H.row,k.column=H.column,O(S,K,k);return}}for(let K=0;K<j.length;K++){const k=j[K],X=Nt(S,F,`vxe-${k}--column`,Ce=>Ce.parentNode.parentNode.parentNode.getAttribute("xid")===t),J={type:k,$table:e,columns:W.slice(0),$event:S};if(X.flag){const Ce=X.targetElem,xe=e.getColumnNode(Ce),ue=xe?xe.item:null;let pe=`${k}-`;if(ue&&Object.assign(J,{column:ue,columnIndex:e.getColumnIndex(ue),cell:Ce}),k==="body"){const Ee=e.getRowNode(Ce.parentNode),G=Ee?Ee.item:null;pe="",G&&(J.row=G,J.rowIndex=e.getRowIndex(G))}const Se=`${pe}cell-menu`;O(S,k,J),e.dispatchEvent(Se,J,S);return}else if(Nt(S,F,`vxe-table--${k}-wrapper`,Ce=>Ce.getAttribute("xid")===t).flag){D.trigger==="cell"?S.preventDefault():O(S,k,J);return}}}U&&!Nt(S,U.getRefMaps().refElem.value).flag&&e.closeFilter(),s.closeMenu()},ctxMenuMouseoverEvent(S,T,q){const A=S.currentTarget,{ctxMenuStore:_}=n;S.preventDefault(),S.stopPropagation(),_.selected=T,_.selectChild=q,q||(_.showChild=El(T),_.showChild&&ge(()=>{const W=A.nextElementSibling;if(W){const{boundingTop:U,boundingLeft:te,visibleHeight:Y,visibleWidth:D}=ji(A),F=U+A.offsetHeight,H=te+A.offsetWidth;let j="",K="";H+W.offsetWidth>D-10&&(j="auto",K=`${A.offsetWidth}px`);let k="",X="";F+W.offsetHeight>Y-10&&(k="auto",X="0"),W.style.left=j,W.style.right=K,W.style.top=k,W.style.bottom=X}}))},ctxMenuMouseoutEvent(S,T){const{ctxMenuStore:q}=n;T.children||(q.selected=null),q.selectChild=null},ctxMenuLinkEvent(S,T){const q=e.xeGrid;if(!T.disabled&&(T.code||!T.children||!T.children.length)){const A=BR.get(T.code),_=Object.assign({},u._currMenuParams,{menu:T,$table:e,$grid:q,$event:S}),W=A?A.tableMenuMethod||A.menuMethod:null;W&&W(_,S),e.dispatchEvent("menu-click",_,S),s.closeMenu()}}},Object.assign(Object.assign({},s),y)},setupGrid(e){return e.extendTableMethods(zR)}});const{getConfig:WR,renderer:VR,hooks:GR,getI18n:Bm}=ve,jR=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];GR.add("tableEditModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:u}=e.getRefMaps(),{computeMouseOpts:c,computeEditOpts:d,computeCheckboxOpts:v,computeTreeOpts:m,computeValidOpts:x}=e.getComputeMaps(),i=f.browse();let s={},y={};const O=(D,F)=>{const{model:H,editRender:j}=F;j&&(H.value=br(D,F),H.update=!1)},S=(D,F)=>{const{model:H,editRender:j}=F;j&&H.update&&(Ho(D,F,H.value),H.update=!1,H.value=null)},T=()=>{const D=u.value;if(D){const F=D.querySelector(".col--selected");F&&Yr(F,"col--selected")}},q=()=>{const{editStore:D,tableColumn:F}=o,H=d.value,{actived:j}=D,{row:K,column:k}=j;(K||k)&&(H.mode==="row"?F.forEach(X=>S(K,X)):S(K,k))},A=(D,F)=>{const{tableFullTreeData:H,afterFullData:j,fullDataRowIdData:K,fullAllDataRowIdData:k}=n,X=m.value,{rowField:J,parentField:Ce,mapChildrenField:xe}=X,ue=X.children||X.childrenField,pe=F?"push":"unshift";D.forEach(Se=>{const Ee=Se[Ce],G=qe(e,Se),de=Ee?f.findTree(H,ce=>Ee===ce[J],{children:xe}):null;if(de){const{item:ce}=de,ne=k[qe(e,ce)],oe=ne?ne.level:0;let ie=ce[ue],we=ce[xe];f.isArray(ie)||(ie=ce[ue]=[]),f.isArray(we)||(we=ce[ue]=[]),ie[pe](Se),we[pe](Se);const se={row:Se,rowid:G,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:ie,parent:ce,level:oe+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};K[G]=se,k[G]=se}else{j[pe](Se),H[pe](Se);const ce={row:Se,rowid:G,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:H,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};K[G]=ce,k[G]=ce}})},_=(D,F,H)=>{const{treeConfig:j}=t,{tableFullTreeData:K,afterFullData:k,mergeBodyList:X,tableFullData:J,fullDataRowIdData:Ce,fullAllDataRowIdData:xe,insertRowMaps:ue}=n,pe=m.value,{transform:Se,rowField:Ee,mapChildrenField:G}=pe,de=pe.children||pe.childrenField;f.isArray(D)||(D=[D]);const ce=Co(e.defineField(D.map(ne=>Object.assign(j&&Se?{[G]:[],[de]:[]}:{},ne))));if(f.eqNull(F))j&&Se?A(ce,!1):(ce.forEach(ne=>{const oe=qe(e,ne),ie={row:ne,rowid:oe,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:k,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Ce[oe]=ie,xe[oe]=ie,k.unshift(ne),J.unshift(ne)}),X.forEach(ne=>{const{row:oe}=ne;oe>0&&(ne.row=oe+ce.length)}));else if(F===-1)j&&Se?A(ce,!0):(ce.forEach(ne=>{const oe=qe(e,ne),ie={row:ne,rowid:oe,seq:-1,index:-1,_index:-1,treeIndex:-1,$index:-1,items:k,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Ce[oe]=ie,xe[oe]=ie,k.push(ne),J.push(ne)}),X.forEach(ne=>{const{row:oe,rowspan:ie}=ne;oe+ie>k.length&&(ne.rowspan=ie+ce.length)}));else if(j&&Se){const ne=f.findTree(K,oe=>F[Ee]===oe[Ee],{children:G});if(ne){const{parent:oe}=ne,ie=oe?oe[G]:K,we=xe[qe(e,oe)],se=we?we.level:0;if(ce.forEach((Oe,fe)=>{const he=qe(e,Oe);oe&&(Oe[pe.parentField]=oe[Ee]);let Te=ne.index+fe;H&&(Te=Te+1),ie.splice(Te,0,Oe);const me={row:Oe,rowid:he,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:ie,parent:oe,level:se+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};Ce[he]=me,xe[he]=me}),oe){const Oe=f.findTree(K,fe=>F[Ee]===fe[Ee],{children:de});if(Oe){const fe=Oe.items;let he=Oe.index;H&&(he=he+1),fe.splice(he,0,...ce)}}}else A(ce,!0)}else{if(j)throw new Error(Bm("vxe.error.noTree",["insert"]));let ne=-1;if(f.isNumber(F)?F<k.length&&(ne=F):ne=e.findRowIndexOf(k,F),H&&(ne=Math.min(k.length,ne+1)),ne===-1)throw new Error(Bm("vxe.error.unableInsert"));k.splice(ne,0,...ce);const oe=e.findRowIndexOf(J,F);oe>-1?J.splice(oe+(H?1:0),0,...ce):J.push(...ce),X.forEach(ie=>{const{row:we,rowspan:se}=ie;we>ne?ie.row=we+ce.length:we+se>ne&&(ie.rowspan=se+ce.length)})}return ce.forEach(ne=>{const oe=qe(e,ne);ue[oe]=ne}),o.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(j&&Se),j&&Se||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),ge().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:ce.length?ce[ce.length-1]:null,rows:ce}))},W=(D,F,H,j)=>{const{treeConfig:K}=t,k=m.value,{transform:X,rowField:J,parentField:Ce}=k;return K&&X?(f.isArray(D)||(D=[D]),_(D.map(xe=>Object.assign({},xe,{[Ce]:F[J]})),H,j)):(Ze("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},U=(D,F)=>{const{editStore:H}=o,{actived:j,focused:K}=H,{row:k,column:X}=j,J=x.value;if(k||X){if(F&&qe(e,F)!==qe(e,k))return ge();q(),j.args=null,j.row=null,j.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:k,rowIndex:e.getRowIndex(k),$rowIndex:e.getVMRowIndex(k),column:X,columnIndex:e.getColumnIndex(X),$columnIndex:e.getVMColumnIndex(X)},D||null)}return K.row=null,K.column=null,J.autoClear&&(J.msgMode!=="full"||WR().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():ge().then(()=>e.updateCellAreas())},te=(D,F,H,j)=>{const K=e.xeGrid,{editConfig:k,mouseConfig:X}=t,{editStore:J,tableColumn:Ce}=o,xe=d.value,{mode:ue}=xe,{actived:pe,focused:Se}=J,{row:Ee,column:G}=D,{editRender:de}=G,ce=D.cell||e.getCellElement(Ee,G),ne=xe.beforeEditMethod||xe.activeMethod;if(D.cell=ce,ce&&Ct(k)&&Ct(de)&&!e.isPendingByRow(Ee)){if(pe.row!==Ee||ue==="cell"&&pe.column!==G){let oe="edit-disabled";if(!ne||ne(Object.assign(Object.assign({},D),{$table:e,$grid:K}))){X&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),pe.column&&U(F),oe="edit-activated",G.renderHeight=ce.offsetHeight,pe.args=D,pe.row=Ee,pe.column=G,ue==="row"?Ce.forEach(we=>O(Ee,we)):O(Ee,G);const ie=xe.afterEditMethod;ge(()=>{H&&e.handleFocus(D,F),ie&&ie(Object.assign(Object.assign({},D),{$table:e,$grid:K}))})}e.dispatchEvent(oe,{row:Ee,rowIndex:e.getRowIndex(Ee),$rowIndex:e.getVMRowIndex(Ee),column:G,columnIndex:e.getColumnIndex(G),$columnIndex:e.getVMColumnIndex(G)},F),oe==="edit-activated"&&e.dispatchEvent("edit-actived",{row:Ee,rowIndex:e.getRowIndex(Ee),$rowIndex:e.getVMRowIndex(Ee),column:G,columnIndex:e.getColumnIndex(G),$columnIndex:e.getVMColumnIndex(G)},F)}else{const{column:oe}=pe;if(X&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),oe!==G){const{model:ie}=oe;ie.update&&Ho(Ee,oe,ie.value),e.clearValidate&&e.clearValidate(Ee,G)}G.renderHeight=ce.offsetHeight,pe.args=D,pe.column=G,j&&setTimeout(()=>{e.handleFocus(D,F)})}Se.column=null,Se.row=null,e.focus()}return ge()},Y=(D,F,H)=>{const{editConfig:j}=t,K=f.isString(F)?e.getColumnByField(F):F;return D&&K&&Ct(j)&&Ct(K.editRender)?Promise.resolve(H?e.scrollToRow(D,K):null).then(()=>{const k=e.getCellElement(D,K);return k&&(te({row:D,rowIndex:e.getRowIndex(D),column:K,columnIndex:e.getColumnIndex(K),cell:k,$table:e},null,H,H),n._lastCallTime=Date.now()),ge()}):ge()};return s={insert(D){return _(D,null)},insertAt(D,F){return _(D,F)},insertNextAt(D,F){return _(D,F,!0)},insertChild(D,F){return W(D,F,null)},insertChildAt(D,F,H){return W(D,F,H)},insertChildNextAt(D,F,H){return W(D,F,H,!0)},remove(D){const{treeConfig:F}=t,{editStore:H}=o,{tableFullTreeData:j,selectCheckboxMaps:K,afterFullData:k,mergeBodyList:X,tableFullData:J,pendingRowMaps:Ce,insertRowMaps:xe,removeRowMaps:ue}=n,pe=v.value,Se=m.value,{transform:Ee,mapChildrenField:G}=Se,de=Se.children||Se.childrenField,{actived:ce}=H,{checkField:ne}=pe;let oe=[];return D?f.isArray(D)||(D=[D]):D=J,D.forEach(ie=>{if(!e.isInsertByRow(ie)){const we=qe(e,ie);ue[we]=ie}}),ne||(D.forEach(ie=>{const we=qe(e,ie);K[we]&&delete K[we]}),o.updateCheckboxFlag++),J===D?(D=oe=J.slice(0),n.tableFullData=[],n.afterFullData=[],e.clearMergeCells()):F&&Ee?D.forEach(ie=>{const we=qe(e,ie),se=f.findTree(j,he=>we===qe(e,he),{children:G});if(se){const he=se.items.splice(se.index,1);oe.push(he[0])}const Oe=f.findTree(j,he=>we===qe(e,he),{children:de});Oe&&Oe.items.splice(Oe.index,1);const fe=e.findRowIndexOf(k,ie);fe>-1&&k.splice(fe,1)}):D.forEach(ie=>{const we=e.findRowIndexOf(J,ie);if(we>-1){const Oe=J.splice(we,1);oe.push(Oe[0])}const se=e.findRowIndexOf(k,ie);se>-1&&(X.forEach(Oe=>{const{row:fe,rowspan:he}=Oe;fe>se?Oe.row=fe-1:fe+he>se&&(Oe.rowspan=he-1)}),k.splice(se,1))}),ce.row&&e.findRowIndexOf(D,ce.row)>-1&&s.clearEdit(),D.forEach(ie=>{const we=qe(e,ie);xe[we]&&delete xe[we],Ce[we]&&delete Ce[we]}),o.removeRowFlag++,o.insertRowFlag++,o.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(F&&Ee),e.updateFooter(),e.handleUpdateBodyMerge(),F&&Ee||e.updateAfterDataIndex(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),ge().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:oe.length?oe[oe.length-1]:null,rows:oe}))},removeCheckboxRow(){return s.remove(e.getCheckboxRecords()).then(D=>(e.clearCheckboxRow(),D))},removeRadioRow(){const D=e.getRadioRecord();return s.remove(D||[]).then(F=>(e.clearRadioRow(),F))},removeCurrentRow(){const D=e.getCurrentRecord();return s.remove(D||[]).then(F=>(e.clearCurrentRow(),F))},getRecordset(){const D=s.getRemoveRecords(),F=e.getPendingRecords(),H=D.concat(F),j=s.getUpdateRecords().filter(K=>!H.some(k=>e.eqRow(k,K)));return{insertRecords:s.getInsertRecords(),removeRecords:D,updateRecords:j,pendingRecords:F}},getInsertRecords(){const{fullAllDataRowIdData:D,insertRowMaps:F}=n,H=[];return f.each(F,(j,K)=>{D[K]&&H.push(j)}),H},getRemoveRecords(){const{removeRowMaps:D}=n,F=[];return f.each(D,H=>{F.push(H)}),F},getUpdateRecords(){const{keepSource:D,treeConfig:F}=t,{tableFullData:H}=n,j=m.value;return D?(q(),F?f.filterTree(H,K=>e.isUpdateByRow(K),j):H.filter(K=>e.isUpdateByRow(K))):[]},getActiveRecord(){return e.getEditRecord()},getEditRecord(){const{editStore:D}=o,{afterFullData:F}=n,H=u.value,{args:j,row:K}=D.actived;return j&&e.findRowIndexOf(F,K)>-1&&H.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},j):null},getSelectedCell(){const{editStore:D}=o,{args:F,column:H}=D.selected;return F&&H?Object.assign({},F):null},clearActived(D){return e.clearEdit(D)},clearEdit(D){return U(null,D)},clearSelected(){const{editStore:D}=o,{selected:F}=D;return F.row=null,F.column=null,T(),ge()},isActiveByRow(D){return e.isEditByRow(D)},isEditByRow(D){const{editStore:F}=o;return F.actived.row===D},setActiveRow(D){return s.setEditRow(D)},setEditRow(D,F){const{visibleColumn:H}=n;let j=f.find(H,k=>Ct(k.editRender)),K=!1;return F&&(K=!0,F!==!0&&(j=f.isString(F)?e.getColumnByField(F):F)),Y(D,j,K)},setActiveCell(D,F){return s.setEditCell(D,F)},setEditCell(D,F){return Y(D,F,!0)},setSelectCell(D,F){const{tableData:H}=o,j=d.value,K=f.isString(F)?e.getColumnByField(F):F;if(D&&K&&j.trigger!=="manual"){const k=e.findRowIndexOf(H,D);if(k>-1&&K){const X=e.getCellElement(D,K),J={row:D,rowIndex:k,column:K,columnIndex:e.getColumnIndex(K),cell:X};e.handleSelected(J,{})}}return ge()}},y={handleEdit(D,F){return te(D,F,!0,!0)},handleActived(D,F){return y.handleEdit(D,F)},handleClearEdit:U,handleFocus(D){const{row:F,column:H,cell:j}=D,{editRender:K}=H,k=d.value;if(Ct(K)){const X=VR.get(K.name);let J=K.autofocus||K.autoFocus,Ce=K.autoSelect||K.autoselect,xe;if(k.autoFocus&&(!J&&X&&(J=X.tableAutoFocus||X.tableAutofocus||X.autofocus),!Ce&&X&&(Ce=X.tableAutoSelect||X.autoselect),f.isFunction(J)?xe=J(D):J&&(J===!0?xe=j.querySelector("input,textarea"):xe=j.querySelector(J),xe&&xe.focus())),xe){if(Ce)xe.select();else if(i.msie){const ue=xe.createTextRange();ue.collapse(!1),ue.select()}}else k.autoPos&&(H.fixed||e.scrollToRow(F,H))}},handleSelected(D,F){const{mouseConfig:H}=t,{editStore:j}=o,K=c.value,k=d.value,{actived:X,selected:J}=j,{row:Ce,column:xe}=D,ue=H&&K.selected;return ue&&(J.row!==Ce||J.column!==xe)&&(X.row!==Ce||k.mode==="cell"&&X.column!==xe)&&(U(F),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),J.args=D,J.row=Ce,J.column=xe,ue&&y.addCellSelectedClass(),e.focus(),F&&e.dispatchEvent("cell-selected",D,F)),ge()},addCellSelectedClass(){const{editStore:D}=o,{selected:F}=D,{row:H,column:j}=F;if(T(),H&&j){const K=e.getCellElement(H,j);K&&xo(K,"col--selected")}}},Object.assign(Object.assign({},s),y)},setupGrid(e){return e.extendTableMethods(jR)}});const UR='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function YR(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function XR(e,t){const{style:o}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${UR}</style>`,o?`<style>${o}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:ko,hooks:KR,renderer:Wd}=ve;let ml;const ZR="\uFEFF",$n=`\r
`;function Pi(e){return e.field||["seq","checkbox","radio"].indexOf(e.type)>-1}const Zx=e=>{const t=[];return e.forEach(o=>{o.childNodes&&o.childNodes.length?(t.push(o),t.push(...Zx(o.childNodes))):t.push(o)}),t},JR=e=>{let t=1;const o=(c,d)=>{if(d&&(c._level=d._level+1,t<c._level&&(t=c._level)),c.childNodes&&c.childNodes.length){let v=0;c.childNodes.forEach(m=>{o(m,c),v+=m._colSpan}),c._colSpan=v}else c._colSpan=1};e.forEach(c=>{c._level=1,o(c)});const n=[];for(let c=0;c<t;c++)n.push([]);return Zx(e).forEach(c=>{c.childNodes&&c.childNodes.length?c._rowSpan=1:c._rowSpan=t-c._level+1,n[c._level-1].push(c)}),n};function QR(e){return e===!0?"full":e||"default"}function bl(e){return e==="TRUE"||e==="true"||e===!0}function Bi(e,t,o){const{footerFilterMethod:n}=t;return n?o.filter((u,c)=>n({$table:e,items:u,$rowIndex:c})):o}function eS(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function xl(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function no(e,t){return e.getElementsByTagName(t)}function $m(e){return`#${e}@${f.uniqueId()}`}function Jx(e,t){return e.replace(/#\d+@\d+/g,o=>f.hasOwnProp(t,o)?t[o]:o)}function zm(e,t){return Jx(e,t).replace(/^"+$/g,n=>'"'.repeat(Math.ceil(n.length/2)))}function Tf(e,t){const{fieldMaps:o,titleMaps:n}=e;if(!o[t]){const u=n[t];u&&u.field&&(t=u.field)}return t}function Qx(e,t,o){const n=t.split($n),u=[];let c=[];if(n.length){const d={},v=Date.now();n.forEach(m=>{if(m){const x={};m=m.replace(/("")|(\n)/g,(s,y)=>{const O=$m(v);return d[O]=y?'"':`
`,O}).replace(/"(.*?)"/g,(s,y)=>{const O=$m(v);return d[O]=Jx(y,d),O});const i=m.split(o);c.length?(i.forEach((s,y)=>{y<c.length&&(x[c[y]]=zm(s.trim(),d))}),u.push(x)):c=i.map(s=>Tf(e,zm(s.trim(),d)))}})}return{fields:c,rows:u}}function tS(e,t){return Qx(e,t,",")}function rS(e,t){return Qx(e,t,"	")}function oS(e,t){const n=new DOMParser().parseFromString(t,"text/html"),u=no(n,"body"),c=[],d=[];if(u.length){const v=no(u[0],"table");if(v.length){const m=no(v[0],"thead");if(m.length){f.arrayEach(no(m[0],"tr"),i=>{f.arrayEach(no(i,"th"),s=>{d.push(Tf(e,s.textContent||""))})});const x=no(v[0],"tbody");x.length&&f.arrayEach(no(x[0],"tr"),i=>{const s={};f.arrayEach(no(i,"td"),(y,O)=>{d[O]&&(s[d[O]]=y.textContent||"")}),c.push(s)})}}}return{fields:d,rows:c}}function nS(e,t){const n=new DOMParser().parseFromString(t,"application/xml"),u=no(n,"Worksheet"),c=[],d=[];if(u.length){const v=no(u[0],"Table");if(v.length){const m=no(v[0],"Row");m.length&&(f.arrayEach(no(m[0],"Cell"),x=>{d.push(Tf(e,x.textContent||""))}),f.arrayEach(m,(x,i)=>{if(i){const s={},y=no(x,"Cell");f.arrayEach(y,(O,S)=>{d[S]&&(s[d[S]]=O.textContent)}),c.push(s)}}))}}return{fields:d,rows:c}}function Wm(e){f.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}const lS=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];KR.add("tableExportModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{computeTreeOpts:u,computePrintOpts:c,computeExportOpts:d,computeImportOpts:v,computeCustomOpts:m,computeSeqOpts:x,computeRadioOpts:i,computeCheckboxOpts:s,computeColumnOpts:y}=e.getComputeMaps(),O=Lr("$xeGrid",null),S=G=>{const de=u.value,ce=de.children||de.childrenField;return G[ce]&&G[ce].length},T=(G,de,ce,ne,oe)=>{const we=x.value.seqMethod||ne.seqMethod;return we?we({$table:e,row:de,rowIndex:e.getRowIndex(de),$rowIndex:ce,column:ne,columnIndex:e.getColumnIndex(ne),$columnIndex:oe}):G};function q(G,de){const ce=y.value,ne=de.headerExportMethod||ce.headerExportMethod;return ne?ne({column:de,options:G,$table:e}):(G.isTitle?de.getTitle():de.field)||""}const A=G=>f.isBoolean(G)?G?"TRUE":"FALSE":G,_=G=>_o(G)?"":`${G}`,W=(G,de,ce)=>{const{isAllExpand:ne,mode:oe}=G,{treeConfig:ie}=t,we=i.value,se=s.value,Oe=u.value,fe=y.value;if(ml||(ml=document.createElement("div")),ie){const he=Oe.children||Oe.childrenField,Te=[],me=new Map;return f.eachTree(ce,(le,Fe,Re,Ye,Ge,je)=>{const Le=le._row||le,nt=Ge&&Ge._row?Ge._row:Ge;if(ne||!nt||me.has(nt)&&e.isTreeExpandByRow(nt)){const Et=S(Le),bt={_row:Le,_level:je.length-1,_hasChild:Et,_expand:Et&&e.isTreeExpandByRow(Le)};de.forEach((ut,it)=>{let mt="";const Je=ut.editRender||ut.cellRender;let Ne=ut.exportMethod||fe.exportMethod;if(!Ne&&Je&&Je.name){const Ue=Wd.get(Je.name);Ue&&(Ne=Ue.tableExportMethod||Ue.exportMethod)}if(Ne||(Ne=fe.exportMethod),Ne)mt=Ne({$table:e,row:Le,column:ut,options:G});else switch(ut.type){case"seq":{const Ue=Ye.map((ft,Ae)=>Ae%2===0?Number(ft)+1:".").join("");mt=oe==="all"?Ue:T(Ue,Le,Fe,ut,it);break}case"checkbox":mt=A(e.isCheckedByCheckboxRow(Le)),bt._checkboxLabel=se.labelField?f.get(Le,se.labelField):"",bt._checkboxDisabled=se.checkMethod&&!se.checkMethod({$table:e,row:Le});break;case"radio":mt=A(e.isCheckedByRadioRow(Le)),bt._radioLabel=we.labelField?f.get(Le,we.labelField):"",bt._radioDisabled=we.checkMethod&&!we.checkMethod({$table:e,row:Le});break;default:if(G.original)mt=br(Le,ut);else if(mt=e.getCellLabel(Le,ut),ut.type==="html")ml.innerHTML=mt,mt=ml.innerText.trim();else{const Ue=e.getCellElement(Le,ut);Ue&&!No(Ue,"is--progress")&&(mt=Ue.innerText.trim())}}bt[ut.id]=_(mt)}),me.set(Le,1),Te.push(Object.assign(bt,Le))}},{children:he}),Te}return ce.map((he,Te)=>{const me={_row:he};return de.forEach((le,Fe)=>{let Re="";const Ye=le.editRender||le.cellRender;let Ge=le.exportMethod||fe.exportMethod;if(!Ge&&Ye&&Ye.name){const je=Wd.get(Ye.name);je&&(Ge=je.tableExportMethod||je.exportMethod)}if(Ge)Re=Ge({$table:e,row:he,column:le,options:G});else switch(le.type){case"seq":{const je=Te+1;Re=oe==="all"?je:T(je,he,Te,le,Fe);break}case"checkbox":Re=A(e.isCheckedByCheckboxRow(he)),me._checkboxLabel=se.labelField?f.get(he,se.labelField):"",me._checkboxDisabled=se.checkMethod&&!se.checkMethod({$table:e,row:he});break;case"radio":Re=A(e.isCheckedByRadioRow(he)),me._radioLabel=we.labelField?f.get(he,we.labelField):"",me._radioDisabled=we.checkMethod&&!we.checkMethod({$table:e,row:he});break;default:if(G.original)Re=br(he,le);else if(Re=e.getCellLabel(he,le),le.type==="html")ml.innerHTML=Re,Re=ml.innerText.trim();else{const je=e.getCellElement(he,le);je&&!No(je,"is--progress")&&(Re=je.innerText.trim())}}me[le.id]=_(Re)}),me})},U=G=>{const{columns:de,dataFilterMethod:ce}=G;let ne=G.data;return ce&&(ne=ne.filter((oe,ie)=>ce({$table:e,row:oe,$rowIndex:ie}))),W(G,de,ne)},te=(G,de,ce)=>{const ne=y.value,oe=ce.editRender||ce.cellRender;let ie=ce.footerExportMethod;if(!ie&&oe&&oe.name){const se=Wd.get(oe.name);se&&(ie=se.tableFooterExportMethod||se.footerExportMethod)}ie||(ie=ne.footerExportMethod);const we=e.getVTColumnIndex(ce);return ie?ie({$table:e,items:de,itemIndex:we,row:de,_columnIndex:we,column:ce,options:G}):f.isArray(de)?f.toValueString(de[we]):f.get(de,ce.field)},Y=(G,de,ce,ne)=>{let oe=ZR;if(de.isHeader&&(oe+=ce.map(ie=>xl(q(de,ie))).join(",")+$n),ne.forEach(ie=>{oe+=ce.map(we=>xl(eS(we,ie[we.id]))).join(",")+$n}),de.isFooter){const{footerTableData:ie}=o;Bi(G,de,ie).forEach(se=>{oe+=ce.map(Oe=>xl(te(de,se,Oe))).join(",")+$n})}return oe},D=(G,de,ce,ne)=>{let oe="";if(de.isHeader&&(oe+=ce.map(ie=>xl(q(de,ie))).join("	")+$n),ne.forEach(ie=>{oe+=ce.map(we=>xl(ie[we.id])).join("	")+$n}),de.isFooter){const{footerTableData:ie}=o;Bi(G,de,ie).forEach(se=>{oe+=ce.map(Oe=>xl(te(de,se,Oe))).join("	")+$n})}return oe},F=(G,de,ce)=>{const ne=G[de],oe=f.isUndefined(ne)||f.isNull(ne)?ce:ne;let Oe=oe==="title"||(oe===!0||oe==="tooltip")||oe==="ellipsis";const{scrollXLoad:fe,scrollYLoad:he}=o;return(fe||he)&&!Oe&&(Oe=!0),Oe},H=(G,de,ce)=>{const{id:ne,border:oe,treeConfig:ie,headerAlign:we,align:se,footerAlign:Oe,showOverflow:fe,showHeaderOverflow:he}=t,{isAllSelected:Te,isIndeterminate:me}=o,{mergeBodyCellMaps:le}=n,Fe=u.value,{print:Re,isHeader:Ye,isFooter:Ge,isColgroup:je,isMerge:Le,colgroups:nt,original:Et}=G,bt="check-all",it=[`<table class="${["vxe-table",`border--${QR(oe)}`,Re?"is--print":"",Ye?"is--header":""].filter(Je=>Je).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${de.map(Je=>`<col style="width:${Je.renderWidth}px">`).join("")}</colgroup>`];if(Ye&&(it.push("<thead>"),je&&!Et?nt.forEach(Je=>{it.push(`<tr>${Je.map(Ne=>{const Ue=Ne.headerAlign||Ne.align||we||se,ft=F(Ne,"showHeaderOverflow",he)?["col--ellipsis"]:[],Ae=q(G,Ne);let Me=0,He=0;f.eachTree([Ne],Qe=>{(!Qe.childNodes||!Ne.childNodes.length)&&He++,Me+=Qe.renderWidth},{children:"childNodes"});const gt=Me-He;return Ue&&ft.push(`col--${Ue}`),Ne.type==="checkbox"?`<th class="${ft.join(" ")}" colspan="${Ne._colSpan}" rowspan="${Ne._rowSpan}"><div ${Re?"":`style="width: ${gt}px"`}><input type="checkbox" class="${bt}" ${Te?"checked":""}><span>${Ae}</span></div></th>`:`<th class="${ft.join(" ")}" colspan="${Ne._colSpan}" rowspan="${Ne._rowSpan}" title="${Ae}"><div ${Re?"":`style="width: ${gt}px"`}><span>${Cr(Ae,!0)}</span></div></th>`}).join("")}</tr>`)}):it.push(`<tr>${de.map(Je=>{const Ne=Je.headerAlign||Je.align||we||se,Ue=F(Je,"showHeaderOverflow",he)?["col--ellipsis"]:[],ft=q(G,Je);return Ne&&Ue.push(`col--${Ne}`),Je.type==="checkbox"?`<th class="${Ue.join(" ")}"><div ${Re?"":`style="width: ${Je.renderWidth}px"`}><input type="checkbox" class="${bt}" ${Te?"checked":""}><span>${ft}</span></div></th>`:`<th class="${Ue.join(" ")}" title="${ft}"><div ${Re?"":`style="width: ${Je.renderWidth}px"`}><span>${Cr(ft,!0)}</span></div></th>`}).join("")}</tr>`),it.push("</thead>")),ce.length&&(it.push("<tbody>"),ie?ce.forEach(Je=>{it.push("<tr>"+de.map(Ne=>{const Ue=Ne.id,ft=Ne.align||se,Ae=F(Ne,"showOverflow",fe)?["col--ellipsis"]:[],Me=Je[Ue];if(ft&&Ae.push(`col--${ft}`),Ne.treeNode){let He="";return Je._hasChild&&(He=`<i class="${Je._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),Ae.push("vxe-table--tree-node"),Ne.type==="radio"?`<td class="${Ae.join(" ")}" title="${Me}"><div ${Re?"":`style="width: ${Ne.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Je._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${He}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${ne}" ${Je._radioDisabled?"disabled ":""}${bl(Me)?"checked":""}><span>${Je._radioLabel}</span></div></div></div></td>`:Ne.type==="checkbox"?`<td class="${Ae.join(" ")}" title="${Me}"><div ${Re?"":`style="width: ${Ne.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Je._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${He}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${Je._checkboxDisabled?"disabled ":""}${bl(Me)?"checked":""}><span>${Je._checkboxLabel}</span></div></div></div></td>`:`<td class="${Ae.join(" ")}" title="${Me}"><div ${Re?"":`style="width: ${Ne.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Je._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${He}</div><div class="vxe-table--tree-cell">${Me}</div></div></div></td>`}return Ne.type==="radio"?`<td class="${Ae.join(" ")}"><div ${Re?"":`style="width: ${Ne.renderWidth}px"`}><input type="radio" name="radio_${ne}" ${Je._radioDisabled?"disabled ":""}${bl(Me)?"checked":""}><span>${Je._radioLabel}</span></div></td>`:Ne.type==="checkbox"?`<td class="${Ae.join(" ")}"><div ${Re?"":`style="width: ${Ne.renderWidth}px"`}><input type="checkbox" ${Je._checkboxDisabled?"disabled ":""}${bl(Me)?"checked":""}><span>${Je._checkboxLabel}</span></div></td>`:`<td class="${Ae.join(" ")}" title="${Me}"><div ${Re?"":`style="width: ${Ne.renderWidth}px"`}>${Cr(Me,!0)}</div></td>`}).join("")+"</tr>")}):ce.forEach(Je=>{it.push("<tr>"+de.map(Ne=>{const Ue=Ne.align||se,ft=F(Ne,"showOverflow",fe)?["col--ellipsis"]:[],Ae=Je[Ne.id];let Me=1,He=1;if(Le){const gt=e.getVTRowIndex(Je._row),Qe=e.getVTColumnIndex(Ne),ae=le[`${gt}:${Qe}`];if(ae){const{rowspan:be,colspan:re}=ae;if(!be||!re)return"";be>1&&(Me=be),re>1&&(He=re)}}return Ue&&ft.push(`col--${Ue}`),Ne.type==="radio"?`<td class="${ft.join(" ")}" rowspan="${Me}" colspan="${He}"><div ${Re?"":`style="width: ${Ne.renderWidth}px"`}><input type="radio" name="radio_${ne}" ${Je._radioDisabled?"disabled ":""}${bl(Ae)?"checked":""}><span>${Je._radioLabel}</span></div></td>`:Ne.type==="checkbox"?`<td class="${ft.join(" ")}" rowspan="${Me}" colspan="${He}"><div ${Re?"":`style="width: ${Ne.renderWidth}px"`}><input type="checkbox" ${Je._checkboxDisabled?"disabled ":""}${bl(Ae)?"checked":""}><span>${Je._checkboxLabel}</span></div></td>`:`<td class="${ft.join(" ")}" rowspan="${Me}" colspan="${He}" title="${Ae}"><div ${Re?"":`style="width: ${Ne.renderWidth}px"`}>${Cr(Ae,!0)}</div></td>`}).join("")+"</tr>")}),it.push("</tbody>")),Ge){const{footerTableData:Je}=o,Ne=Bi(e,G,Je);Ne.length&&(it.push("<tfoot>"),Ne.forEach(Ue=>{it.push(`<tr>${de.map(ft=>{const Ae=ft.footerAlign||ft.align||Oe||se,Me=F(ft,"showOverflow",fe)?["col--ellipsis"]:[],He=te(G,Ue,ft);return Ae&&Me.push(`col--${Ae}`),`<td class="${Me.join(" ")}" title="${He}"><div ${Re?"":`style="width: ${ft.renderWidth}px"`}>${Cr(He,!0)}</div></td>`}).join("")}</tr>`)}),it.push("</tfoot>"))}const mt=!Te&&me?`<script>(function(){var a=document.querySelector(".${bt}");if(a){a.indeterminate=true}})()<\/script>`:"";return it.push("</table>",mt),Re?it.join(""):XR(G,it.join(""))},j=(G,de,ce)=>{let ne=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${G.sheetName}">`,"<Table>",de.map(oe=>`<Column ss:Width="${oe.renderWidth}"/>`).join("")].join("");if(G.isHeader&&(ne+=`<Row>${de.map(oe=>`<Cell><Data ss:Type="String">${q(G,oe)}</Data></Cell>`).join("")}</Row>`),ce.forEach(oe=>{ne+="<Row>"+de.map(ie=>`<Cell><Data ss:Type="String">${oe[ie.id]}</Data></Cell>`).join("")+"</Row>"}),G.isFooter){const{footerTableData:oe}=o;Bi(e,G,oe).forEach(we=>{ne+=`<Row>${de.map(se=>`<Cell><Data ss:Type="String">${te(G,we,se)}</Data></Cell>`).join("")}</Row>`})}return`${ne}</Table></Worksheet></Workbook>`},K=(G,de,ce,ne)=>{if(ce.length)switch(de.type){case"csv":return Y(G,de,ce,ne);case"txt":return D(G,de,ce,ne);case"html":return H(de,ce,ne);case"xml":return j(de,ce,ne)}return""},k=(G,de)=>{const{filename:ce,type:ne,download:oe}=G;if(!oe){const ie=YR(de,G);return Promise.resolve({type:ne,content:de,blob:ie})}ve.saveFile&&ve.saveFile({filename:ce,type:ne,content:de}).then(()=>{G.message!==!1&&ve.modal&&ve.modal.message({content:ko("vxe.table.expSuccess"),status:"success"})})},X=G=>{const{remote:de,columns:ce,colgroups:ne,exportMethod:oe,afterExportMethod:ie}=G;return new Promise(we=>{if(de){const se={options:G,$table:e,$grid:O};we(oe?oe(se):se)}else{const se=U(G);we(e.preventEvent(null,"event.export",{options:G,columns:ce,colgroups:ne,datas:se},()=>k(G,K(e,G,ce,se))))}}).then(we=>(Wm(ce),G.print||ie&&ie({status:!0,options:G,$table:e,$grid:O}),Object.assign({status:!0},we))).catch(()=>{Wm(ce),G.print||ie&&ie({status:!1,options:G,$table:e,$grid:O});const we={status:!1};return Promise.reject(we)})},J=(G,de)=>{const{tableFullColumn:ce,_importResolve:ne,_importReject:oe}=n;let ie={fields:[],rows:[]};const we={},se={};ce.forEach(me=>{const le=me.field,Fe=me.getTitle();le&&(we[le]=me),Fe&&(se[me.getTitle()]=me)});const Oe={fieldMaps:we,titleMaps:se};switch(de.type){case"csv":ie=tS(Oe,G);break;case"txt":ie=rS(Oe,G);break;case"html":ie=oS(Oe,G);break;case"xml":ie=nS(Oe,G);break}const{fields:fe,rows:he}=ie;fe.some(me=>we[me]||se[me])?e.createData(he).then(me=>{let le;return(de.mode==="insert"||de.mode==="insertBottom")&&(le=e.insertAt(me,-1)),de.mode==="insertTop"?le=e.insert(me):le=e.reloadData(me),de.message!==!1&&ve.modal&&ve.modal.message({content:ko("vxe.table.impSuccess",[he.length]),status:"success"}),le.then(()=>{ne&&ne({status:!0})})}):de.message!==!1&&(ve.modal&&ve.modal.message({content:ko("vxe.error.impFields"),status:"error"}),oe&&oe({status:!1}))},Ce=(G,de)=>{const{importMethod:ce,afterImportMethod:ne}=de,{type:oe,filename:ie}=Dx(G),we=v.value;if(!ce&&!f.includes(f.keys(we._typeMaps),oe)){de.message!==!1&&ve.modal&&ve.modal.message({content:ko("vxe.error.notType",[oe]),status:"error"});const Oe={status:!1};return Promise.reject(Oe)}return new Promise((Oe,fe)=>{const he=me=>{Oe(me),n._importResolve=null,n._importReject=null},Te=me=>{fe(me),n._importResolve=null,n._importReject=null};if(n._importResolve=he,n._importReject=Te,window.FileReader){const me=Object.assign({mode:"insertTop"},de,{type:oe,filename:ie});if(me.remote)ce?Promise.resolve(ce({file:G,options:me,$table:e})).then(()=>{he({status:!0})}).catch(()=>{he({status:!0})}):he({status:!0});else{const{tableFullColumn:le}=n;e.preventEvent(null,"event.import",{file:G,options:me,columns:le},()=>{const Fe=new FileReader;Fe.onerror=()=>{Ze("vxe.error.notType",[oe]),Te({status:!1})},Fe.onload=Re=>{J(Re.target.result,me)},Fe.readAsText(G,me.encoding||"UTF-8")})}}else Ze("vxe.error.notExp"),he({status:!0})}).then(()=>{ne&&ne({status:!0,options:de,$table:e})}).catch(Oe=>(ne&&ne({status:!1,options:de,$table:e}),Promise.reject(Oe)))},xe=(G,de,ce)=>ce.some(ne=>{if(Ui(ne))return de.id===ne.id;if(f.isString(ne))return de.field===ne;{const oe=ne.id||ne.colId,ie=ne.type,we=ne.field;if(oe)return de.id===oe;if(we&&ie)return de.field===we&&de.type===ie;if(we)return de.field===we;if(ie)return de.type===ie}return!1}),ue=(G,de,ce,ne)=>ne&&f.includes(ne,de.field)?!1:ce?!!f.includes(ce,de.field):G.original?de.field:Pi(de),pe=(G,de)=>{const{treeConfig:ce,showHeader:ne,showFooter:oe}=t,{initStore:ie,isGroup:we,footerTableData:se,exportStore:Oe,exportParams:fe}=o,{collectColumn:he,mergeBodyList:Te,mergeFooterList:me}=n,le=d.value,Fe=ce,Re=m.value,Ye=e.getCheckboxRecords(),Ge=O?O.getComputeMaps().computeProxyOpts.value:{},je=!!se.length,Le=!!(Te.length||me.length),nt=Object.assign({message:!0,isHeader:ne,isTitle:ne,isFooter:oe,isColgroup:we,isMerge:Le,useStyle:!0,current:"current",modes:(Ge.ajax&&Ge.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},G),Et=nt.types||f.keys(le._typeMaps),bt=nt.modes||[],ut=Re.checkMethod,it=he.slice(0),{columns:mt,excludeFields:Je,includeFields:Ne}=nt,Ue=Et.map(Qe=>({value:Qe,label:ko(`vxe.export.types.${Qe}`)})),ft=bt.map(Qe=>Qe&&Qe.value?{value:Qe.value,label:Qe.label||Qe.value}:{value:Qe,label:ko(`vxe.export.modes.${Qe}`)});f.eachTree(it,(Qe,ae,be,re,Ie)=>{const Be=Qe.children&&Qe.children.length;let tt=!1;mt&&mt.length?tt=xe(nt,Qe,mt):Je||Ne?tt=ue(nt,Qe,Ne,Je):tt=Qe.visible&&(Be||Pi(Qe)),Qe.checked=tt,Qe.halfChecked=!1,Qe.disabled=Ie&&Ie.disabled||(ut?!ut({$table:e,column:Qe}):!1)}),Object.assign(Oe,{columns:it,typeList:Ue,modeList:ft,hasFooter:je,hasMerge:Le,hasTree:Fe,isPrint:de,hasColgroup:we,visible:!0}),Object.assign(fe,{mode:Ye.length?"selected":"current"},nt);const{filename:Ae,sheetName:Me,mode:He,type:gt}=fe;return Ae&&(f.isFunction(Ae)?fe.filename=Ae({options:nt,$table:e,$grid:O}):fe.filename=`${Ae}`),Me&&(f.isFunction(Me)?fe.sheetName=Me({options:nt,$table:e,$grid:O}):fe.sheetName=`${Me}`),ft.some(Qe=>Qe.value===He)||(fe.mode=ft[0].value),Ue.some(Qe=>Qe.value===gt)||(fe.type=Ue[0].value),ie.export=!0,ge()},Se=()=>ve.modal?ve.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),Ee={exportData(G){const{treeConfig:de,showHeader:ce,showFooter:ne}=t,{isGroup:oe}=o,{tableFullColumn:ie,afterFullData:we,collectColumn:se,mergeBodyList:Oe,mergeFooterList:fe}=n,he=d.value,Te=u.value,me=O?O.getComputeMaps().computeProxyOpts.value:{},le=!!(Oe.length||fe.length),Fe=Object.assign({message:!0,isHeader:ce,isTitle:ce,isFooter:ne,isColgroup:oe,isMerge:le,useStyle:!0,current:"current",modes:(me.ajax&&me.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},he,G);let{filename:Re,sheetName:Ye,type:Ge,mode:je,columns:Le,original:nt,columnFilterMethod:Et,beforeExportMethod:bt,includeFields:ut,excludeFields:it}=Fe,mt=[];const Je=e.getCheckboxRecords();je||(je=Je.length?"selected":"current");const Ne=Le&&Le.length?Le:f.searchTree(se,Ae=>{const Me=Ae.children&&Ae.children.length;let He=!1;return Le&&Le.length?He=xe(Fe,Ae,Le):it||ut?He=ue(Fe,Ae,ut,it):He=Ae.visible&&(Me||Pi(Ae)),He},{children:"children",mapChildren:"childNodes",original:!0}),Ue=Object.assign({},Fe,{filename:"",sheetName:""});!Ne&&!Et&&(Ue.columnFilterMethod=({column:Ae})=>it&&f.includes(it,Ae.field)?!1:ut?!!f.includes(ut,Ae.field):nt?Ae.field:Pi(Ae)),Ne?(Ue._isCustomColumn=!0,mt=f.searchTree(f.mapTree(Ne,Ae=>{let Me;if(Ae){if(Ui(Ae))Me=Ae;else if(f.isString(Ae))Me=e.getColumnByField(Ae);else{const He=Ae.id||Ae.colId,gt=Ae.type,Qe=Ae.field;He?Me=e.getColumnById(He):Qe&&gt?Me=ie.find(ae=>ae.field===Qe&&ae.type===gt):Qe?Me=e.getColumnByField(Qe):gt&&(Me=ie.find(ae=>ae.type===gt))}return Me||{}}},{children:"childNodes",mapChildren:"_children"}),(Ae,Me)=>Ui(Ae)&&(!Et||Et({$table:e,column:Ae,$columnIndex:Me})),{children:"_children",mapChildren:"childNodes",original:!0})):mt=f.searchTree(oe?se:ie,(Ae,Me)=>Ae.visible&&(!Et||Et({$table:e,column:Ae,$columnIndex:Me})),{children:"children",mapChildren:"childNodes",original:!0});const ft=[];if(f.eachTree(mt,Ae=>{Ae.children&&Ae.children.length||ft.push(Ae)},{children:"childNodes"}),Ue.columns=ft,Ue.colgroups=JR(mt),Re&&(f.isFunction(Re)?Ue.filename=Re({options:Fe,$table:e,$grid:O}):Ue.filename=`${Re}`),Ue.filename||(Ue.filename=ko(Ue.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[f.toDateString(Date.now(),"yyyyMMddHHmmss")])),Ye&&(f.isFunction(Ye)?Ue.sheetName=Ye({options:Fe,$table:e,$grid:O}):Ue.sheetName=`${Ye}`),Ue.sheetName||(Ue.sheetName=document.title||""),!Ue.exportMethod&&!f.includes(f.keys(he._typeMaps),Ge)){Ze("vxe.error.notType",[Ge]);const Ae={status:!1};return Promise.reject(Ae)}if(Ue.print||bt&&bt({options:Ue,$table:e,$grid:O}),!Ue.data){if(Ue.data=[],je==="selected")["html","pdf"].indexOf(Ge)>-1&&de?Ue.data=f.searchTree(e.getTableData().fullData,Ae=>e.findRowIndexOf(Je,Ae)>-1,Object.assign({},Te,{data:"_row"})):Ue.data=Je;else if(je==="all"&&O&&!Ue.remote){const Ae=O.reactData,{computeProxyOpts:Me}=O.getComputeMaps(),He=Me.value,{sortData:gt}=Ae,{beforeQueryAll:Qe,afterQueryAll:ae,ajax:be={}}=He,re=He.response||He.props||{},Ie=be.queryAll,Be=be.queryAllSuccess,tt=be.queryAllError;if(Ie){const lt={$table:e,$grid:O,sort:gt.length?gt[0]:{},sorts:gt,filters:Ae.filterData,form:Ae.formData,options:Ue};return Promise.resolve((Qe||Ie)(lt)).then(xt=>{const ht=re.list;return Ue.data=(ht?f.isFunction(ht)?ht({data:xt,$grid:O}):f.get(xt,ht):xt)||[],ae&&ae(lt),Be&&Be(Object.assign(Object.assign({},lt),{response:xt})),X(Ue)}).catch(xt=>{tt&&tt(Object.assign(Object.assign({},lt),{response:xt}))})}}je==="current"&&(Ue.data=we)}return X(Ue)},importByFile(G,de){const ce=Object.assign({},de),{beforeImportMethod:ne}=ce;return ne&&ne({options:ce,$table:e}),Ce(G,ce)},importData(G){const de=v.value,ce=Object.assign({types:f.keys(de._typeMaps)},de,G),{beforeImportMethod:ne,afterImportMethod:oe}=ce;return ne&&ne({options:ce,$table:e}),ve.readFile(ce).catch(ie=>(oe&&oe({status:!1,options:ce,$table:e}),Promise.reject(ie))).then(ie=>{const{file:we}=ie;return Ce(we,ce)})},saveFile(G){return ve.saveFile(G)},readFile(G){return ve.readFile(G)},print(G){const de=c.value,ce=Object.assign({original:!1},de,G,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:ne}=ce;let oe="";ne&&(f.isFunction(ne)?oe=ne({options:ce,$table:e,$grid:O}):oe=`${ne}`),oe||(oe=document.title||"");const ie=ce.beforePrintMethod,we=ce.html||ce.content;return new Promise((se,Oe)=>{ve.print?se(we?ve.print({title:oe,html:we,customStyle:ce.style,beforeMethod:ie?({html:fe})=>ie({html:fe,content:fe,options:ce,$table:e}):void 0}):Ee.exportData(ce).then(({content:fe})=>ve.print({title:oe,html:fe,customStyle:ce.style,beforeMethod:ie?({html:he})=>ie({html:he,content:he,options:ce,$table:e}):void 0}))):Oe({status:!1})})},getPrintHtml(G){const de=c.value,ce=Object.assign({original:!1},de,G,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(ce).then(({content:ne})=>({html:ne}))},closeImport(){return ve.modal?ve.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(G){const{treeConfig:de,importConfig:ce}=t,{initStore:ne,importStore:oe,importParams:ie}=o,we=v.value,se=Object.assign({mode:"insertTop",message:!0,types:f.keys(we._typeMaps),modes:["insertTop","covering"]},we,G),Oe=se.types||[],fe=se.modes||[];if(!!de){se.message&&ve.modal&&ve.modal.message({content:ko("vxe.error.treeNotImp"),status:"error"});return}ce||Ze("vxe.error.reqProp",["import-config"]);const Te=Oe.map(le=>({value:le,label:ko(`vxe.export.types.${le}`)})),me=fe.map(le=>le&&le.value?{value:le.value,label:le.label||le.value}:{value:le,label:ko(`vxe.import.modes.${le}`)});Object.assign(oe,{file:null,type:"",filename:"",modeList:me,typeList:Te,visible:!0}),Object.assign(ie,se),me.some(le=>le.value===ie.mode)||(ie.mode=me[0].value),ne.import=!0},closeExport:Se,openExport(G){const de=d.value,ce=Object.assign({message:!0,types:f.keys(de._typeMaps)},de,G);t.exportConfig||Ze("vxe.error.reqProp",["export-config"]),pe(ce)},closePrint:Se,openPrint(G){const de=c.value,ce=Object.assign({message:!0},de,G);t.printConfig||Ze("vxe.error.reqProp",["print-config"]),pe(ce,!0)}};return Ee},setupGrid(e){return e.extendTableMethods(lS)}});const{hooks:iS}=ve,sS=f.browse();function aS(e,t){let o=0,n=0;const u=!sS.firefox&&No(e,"vxe-checkbox--label");if(u){const c=getComputedStyle(e);o-=f.toNumber(c.paddingTop),n-=f.toNumber(c.paddingLeft)}for(;e&&e!==t;)if(o+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent,u){const c=getComputedStyle(e);o-=f.toNumber(c.paddingTop),n-=f.toNumber(c.paddingLeft)}return{offsetTop:o,offsetLeft:n}}iS.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:u}=e.getRefMaps(),{computeEditOpts:c,computeCheckboxOpts:d,computeMouseOpts:v,computeTreeOpts:m,computeRowOpts:x,computeColumnOpts:i,computeCellOpts:s,computeDefaultRowHeight:y,computeCurrentRowOpts:O,computeCurrentColumnOpts:S}=e.getComputeMaps();function T(U,te,Y,D,F,H){const{showOverflow:j}=t,{fullAllDataRowIdData:K,isResizeCellHeight:k}=n,X=x.value,J=s.value,Ce=y.value,{row:xe}=te;let ue=0,pe=[],Se=0;const Ee=H>0,{scrollYLoad:G}=o,{afterFullData:de}=n;if(Ee?Se=F+H:Se=D.height-F+Math.abs(H),G){const ce=e.getVTRowIndex(xe);if(!(k||J.height||X.height)&&j)Ee?pe=de.slice(ce,ce+Math.ceil(Se/Ce)):pe=de.slice(ce-Math.floor(Se/Ce),ce+1);else if(Ee)for(let oe=ce;oe<de.length;oe++){const ie=de[oe],we=e.getRowid(ie),se=K[we]||{};if(ue+=se.resizeHeight||J.height||X.height||se.height||Ce,pe.push(ie),ue>Se)return pe}else for(let oe=ce;oe>=0;oe--){const ie=de[oe],we=e.getRowid(ie),se=K[we]||{};if(ue+=se.resizeHeight||J.height||X.height||se.height||Ce,pe.push(ie),ue>Se)return pe}}else{const ce=Ee?"next":"previous";for(;Y&&ue<Se;){const ne=e.getRowNode(Y);ne&&(pe.push(ne.item),ue+=Y.offsetHeight,Y=Y[`${ce}ElementSibling`])}}return pe}const q=(U,te)=>{const{elemStore:Y}=n,D=rt(Y["main-body-scroll"]),F=rt(Y["left-body-scroll"]),H=rt(Y["right-body-scroll"]),{column:j,cell:K}=te;if(j.type==="checkbox"){let k=D;if(F&&j.fixed==="left"?k=F:H&&j.fixed==="right"&&(k=H),!k)return;const X=u.value,J=U.clientX,Ce=U.clientY,xe=k.querySelector(".vxe-table--checkbox-range"),ue=K.parentElement,pe=e.getCheckboxRecords();let Se=[];const Ee=1,G=aS(U.target,k),de=G.offsetTop+U.offsetY,ce=G.offsetLeft+U.offsetX,ne=k.scrollTop,oe=ue.offsetHeight,ie=ue.getBoundingClientRect(),we=Ce-ie.y;let se=null,Oe=!1,fe=1;const he=(Fe,Re)=>{e.dispatchEvent(`checkbox-range-${Fe}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},Re)},Te=Fe=>{const{clientX:Re,clientY:Ye}=Fe,Ge=Re-J,je=Ye-Ce+(k.scrollTop-ne);let Le=Math.abs(je),nt=Math.abs(Ge),Et=de,bt=ce;je<Ee?(Et+=je,Et<Ee&&(Et=Ee,Le=de)):Le=Math.min(Le,k.scrollHeight-de-Ee),Ge<Ee?(bt+=Ge,nt>ce&&(bt=Ee,nt=ce)):nt=Math.min(nt,k.clientWidth-ce-Ee),xe.style.height=`${Le}px`,xe.style.width=`${nt}px`,xe.style.left=`${bt}px`,xe.style.top=`${Et}px`,xe.style.display="block";const ut=T(Fe,te,ue,ie,we,je<Ee?-Le:Le);if(Le>10&&ut.length!==Se.length){const it=si(Fe);Se=ut,it?ut.forEach(mt=>{e.handleBatchSelectRows([mt],pe.indexOf(mt)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(ut,!0,!1)),he("change",Fe)}},me=()=>{clearTimeout(se),se=null},le=Fe=>{me(),se=setTimeout(()=>{if(se){const{scrollLeft:Re,scrollTop:Ye,clientHeight:Ge,scrollHeight:je}=k,Le=Math.ceil(fe*50/oe);Oe?Ye+Ge<je?(e.scrollTo(Re,Ye+Le),le(Fe),Te(Fe)):me():Ye?(e.scrollTo(Re,Ye-Le),le(Fe),Te(Fe)):me()}},50)};xo(X,"drag--range"),document.onmousemove=Fe=>{Fe.preventDefault(),Fe.stopPropagation();const{clientY:Re}=Fe,{boundingTop:Ye}=ji(k);Re<Ye?(Oe=!1,fe=Ye-Re,se||le(Fe)):Re>Ye+k.clientHeight?(Oe=!0,fe=Re-Ye-k.clientHeight,se||le(Fe)):se&&me(),Te(Fe)},document.onmouseup=Fe=>{me(),Yr(X,"drag--range"),xe.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,he("end",Fe)},he("start",U)}},A=(U,te)=>{const{editConfig:Y,checkboxConfig:D,mouseConfig:F}=t,H=d.value,j=v.value,K=c.value;if(F&&j.area&&e.triggerCellAreaMousedownEvent)return e.triggerCellAreaMousedownEvent(U,te);D&&H.range&&q(U,te),F&&j.selected&&(!Y||K.mode==="cell")&&e.handleSelected(te,U)},_=(U,te,Y,D,F,H)=>{const{afterFullData:j,visibleColumn:K}=n,k=Object.assign({},te),X=e.getVTRowIndex(k.row),J=e.getVTColumnIndex(k.column);return U.preventDefault(),D&&X>0?(k.rowIndex=X-1,k.row=j[k.rowIndex]):H&&X<j.length-1?(k.rowIndex=X+1,k.row=j[k.rowIndex]):Y&&J?(k.columnIndex=J-1,k.column=K[k.columnIndex]):F&&J<K.length-1&&(k.columnIndex=J+1,k.column=K[k.columnIndex]),e.scrollToRow(k.row,k.column).then(()=>{k.cell=e.getCellElement(k.row,k.column),e.handleSelected(k,U)}),k};return{moveTabSelected(U,te,Y){const{editConfig:D}=t,{afterFullData:F,visibleColumn:H}=n,j=c.value,K=x.value,k=O.value,X=i.value,J=S.value;let Ce,xe,ue;const pe=Object.assign({},U),Se=e.getVTRowIndex(pe.row),Ee=e.getVTColumnIndex(pe.column);Y.preventDefault(),te?Ee<=0?Se>0&&(xe=Se-1,Ce=F[xe],ue=H.length-1):ue=Ee-1:Ee>=H.length-1?Se<F.length-1&&(xe=Se+1,Ce=F[xe],ue=0):ue=Ee+1;const G=H[ue];G&&(Ce?(pe.rowIndex=xe,pe.row=Ce):pe.rowIndex=Se,pe.columnIndex=ue,pe.column=G,pe.cell=e.getCellElement(pe.row,pe.column),K.isCurrent&&k.isFollowSelected&&e.triggerCurrentRowEvent(Y,pe),X.isCurrent&&J.isFollowSelected&&e.triggerCurrentColumnEvent(Y,pe),D?(j.trigger==="click"||j.trigger==="dblclick")&&(j.mode==="row"?e.handleEdit(pe,Y):e.scrollToRow(pe.row,pe.column).then(()=>{e.handleSelected(pe,Y)})):e.scrollToRow(pe.row,pe.column).then(()=>{e.handleSelected(pe,Y)}))},moveCurrentRow(U,te,Y){const{treeConfig:D}=t,{currentRow:F}=o,{afterFullData:H}=n,j=m.value,K=j.children||j.childrenField;let k;if(F)if(D){const{index:X,items:J}=f.findTree(H,Ce=>Ce===F,{children:K});U&&X>0?k=J[X-1]:te&&X<J.length-1&&(k=J[X+1])}else{const X=e.getVTRowIndex(F);U&&X>0?k=H[X-1]:te&&X<H.length-1&&(k=H[X+1])}else k=H[0];if(k){Y.preventDefault();const X={$table:e,row:k,rowIndex:e.getRowIndex(k),$rowIndex:e.getVMRowIndex(k)};e.scrollToRow(k).then(()=>e.triggerCurrentRowEvent(Y,X))}},moveCurrentColumn(U,te,Y){const{currentColumn:D}=o,{visibleColumn:F}=n;let H=null;if(D){const j=e.getVTColumnIndex(D);U&&j>0?H=F[j-1]:te&&j<F.length-1&&(H=F[j+1])}else H=F[0];if(H){Y.preventDefault();const j={$table:e,column:H,columnIndex:e.getColumnIndex(H),$columnIndex:e.getVMColumnIndex(H)};e.scrollToColumn(H).then(()=>e.triggerCurrentColumnEvent(Y,j))}},moveArrowSelected(U,te,Y,D,F,H){const{highlightCurrentRow:j,highlightCurrentColumn:K}=t,k=x.value,X=O.value,J=i.value,Ce=S.value,xe=_(H,U,te,Y,D,F);(k.isCurrent||j)&&(X.isFollowSelected?e.triggerCurrentRowEvent(H,xe):(Y||F)&&(k.isCurrent||j)&&e.moveCurrentRow(Y,F,H)),(J.isCurrent||K)&&(Ce.isFollowSelected?e.triggerCurrentColumnEvent(H,xe):(te||D)&&(J.isCurrent||K)&&e.moveCurrentColumn(te,D,H))},moveEnterSelected(U,te,Y,D,F,H){const{highlightCurrentRow:j,highlightCurrentColumn:K}=t,k=x.value,X=O.value,J=i.value,Ce=S.value,xe=_(H,U,te,Y,D,F);(k.isCurrent||j)&&X.isFollowSelected&&e.triggerCurrentRowEvent(H,xe),(J.isCurrent||K)&&Ce.isFollowSelected&&e.triggerCurrentColumnEvent(H,xe)},moveSelected(U,te,Y,D,F,H){_(H,U,te,Y,D,F)},handleCellMousedownEvent:A}}});const{getConfig:cS,validators:uS,hooks:dS}=ve;class ri{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return Po(this.$options.content||this.$options.message)}get message(){return this.content}}const fS=["fullValidate","validate","fullValidateField","validateField","clearValidate"];dS.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refValidTooltip:u}=e.getRefMaps(),{computeValidOpts:c,computeTreeOpts:d,computeEditOpts:v}=e.getComputeMaps();let m={},x={},i;const s=T=>new Promise(q=>{c.value.autoPos===!1?(e.dispatchEvent("valid-error",T,null),q()):e.handleEdit(T,{type:"valid-error",trigger:"call"}).then(()=>{q(x.showValidTooltip(T))})}),y=T=>{if(c.value.msgMode==="single"){const A=Object.keys(T),_={};if(A.length){const W=A[0];_[W]=T[W]}return _}return T},O=(T,q,A,_)=>{const W={},{editRules:U,treeConfig:te}=t,{afterFullData:Y,pendingRowMaps:D,removeRowMaps:F}=n,H=d.value,j=H.children||H.childrenField,K=c.value;let k;T===!0?k=Y:T&&(f.isFunction(T)?A=T:k=f.isArray(T)?T:[T]),k||(e.getInsertRecords?k=e.getInsertRecords().concat(e.getUpdateRecords()):k=[]);const X=[];n._lastCallTime=Date.now(),i=!1,m.clearValidate();const J={};if(U){const Ce=q&&q.length?q:e.getColumns(),xe=ue=>{const pe=qe(e,ue);if(!F[pe]&&!D[pe]&&(_||!i)){const Se=[];Ce.forEach(Ee=>{const G=f.isString(Ee)?Ee:Ee.field;(_||!i)&&f.has(U,G)&&Se.push(x.validCellRules("all",ue,Ee).catch(({rule:de,rules:ce})=>{const ne={rule:de,rules:ce,rowIndex:e.getRowIndex(ue),row:ue,columnIndex:e.getColumnIndex(Ee),column:Ee,field:G,$table:e};if(W[G]||(W[G]=[]),J[`${qe(e,ue)}:${Ee.id}`]={column:Ee,row:ue,rule:de,content:de.content},W[G].push(ne),!_)return i=!0,Promise.reject(ne)}))}),X.push(Promise.all(Se))}};return te?f.eachTree(k,xe,{children:j}):k.forEach(xe),Promise.all(X).then(()=>{const ue=Object.keys(W);return o.validErrorMaps=y(J),ge().then(()=>{if(ue.length)return Promise.reject(W[ue[0]][0]);A&&A()})}).catch(ue=>new Promise((pe,Se)=>{const Ee=()=>{ge(()=>{A?(A(W),pe()):cS().validToReject==="obsolete"?Se(W):pe(W)})},G=()=>{ue.cell=e.getCellElement(ue.row,ue.column),UE(ue.cell),s(ue).then(Ee)};if(K.autoPos===!1)Ee();else{const de=ue.row,ce=ue.column;e.scrollToRow(de,ce).then(G)}}))}else o.validErrorMaps={};return ge().then(()=>{A&&A()})};m={fullValidate(T,q){return O(T,null,q,!0)},validate(T,q){return O(T,null,q)},fullValidateField(T,q){const A=(f.isArray(q)?q:q?[q]:[]).map(_=>hr(e,_));return A.length?O(T,A,null,!0):ge()},validateField(T,q){const A=(f.isArray(q)?q:q?[q]:[]).map(_=>hr(e,_));return A.length?O(T,A,null):ge()},clearValidate(T,q){const{validErrorMaps:A}=o,_=u.value,W=c.value,U=f.isArray(T)?T:T?[T]:[],te=(f.isArray(q)?q:q?[q]:[]).map(D=>hr(e,D));let Y={};if(_&&_.reactData.visible&&_.close(),W.msgMode==="single")return o.validErrorMaps={},ge();if(U.length&&te.length)Y=Object.assign({},A),U.forEach(D=>{te.forEach(F=>{const H=`${qe(e,D)}:${F.id}`;Y[H]&&delete Y[H]})});else if(U.length){const D=U.map(F=>`${qe(e,F)}`);f.each(A,(F,H)=>{D.indexOf(H.split(":")[0])>-1&&(Y[H]=F)})}else if(te.length){const D=te.map(F=>`${F.id}`);f.each(A,(F,H)=>{D.indexOf(H.split(":")[1])>-1&&(Y[H]=F)})}return o.validErrorMaps=Y,ge()}};const S=(T,q)=>{const{type:A,min:_,max:W,pattern:U}=T,te=A==="number",Y=te?f.toNumber(q):f.getSize(q);return!!(te&&isNaN(q)||!f.eqNull(_)&&Y<f.toNumber(_)||!f.eqNull(W)&&Y>f.toNumber(W)||U&&!(f.isRegExp(U)?U:new RegExp(U)).test(q))};return x={validCellRules(T,q,A,_){const W=e.xeGrid,{editRules:U}=t,{field:te}=A,Y=[],D=[];if(te&&U){const F=f.get(U,te);if(F){const H=f.isUndefined(_)?f.get(q,te):_;F.forEach(j=>{const{type:K,trigger:k,required:X,validator:J}=j;if(T==="all"||!k||T===k)if(J){const Ce={cellValue:H,rule:j,rules:F,row:q,rowIndex:e.getRowIndex(q),column:A,columnIndex:e.getColumnIndex(A),field:A.field,$table:e,$grid:W};let xe;if(f.isString(J)){const ue=uS.get(J);if(ue){const pe=ue.tableCellValidatorMethod||ue.cellValidatorMethod;pe&&(xe=pe(Ce))}else Ze("vxe.error.notValidators",[J])}else xe=J(Ce);xe&&(f.isError(xe)?(i=!0,Y.push(new ri({type:"custom",trigger:k,content:xe.message,rule:new ri(j)}))):xe.catch&&D.push(xe.catch(ue=>{i=!0,Y.push(new ri({type:"custom",trigger:k,content:ue&&ue.message?ue.message:j.content||j.message,rule:new ri(j)}))})))}else{const Ce=K==="array",xe=f.isArray(H);let ue=!0;Ce||xe?ue=!xe||!H.length:f.isString(H)?ue=_o(H.trim()):ue=_o(H),(X?ue||S(j,H):!ue&&S(j,H))&&(i=!0,Y.push(new ri(j)))}})}}return Promise.all(D).then(()=>{if(Y.length){const F={rules:Y,rule:Y[0]};return Promise.reject(F)}})},hasCellRules(T,q,A){const{editRules:_}=t,{field:W}=A;if(W&&_){const U=f.get(_,W);return U&&!!f.find(U,te=>T==="all"||!te.trigger||T===te.trigger)}return!1},triggerValidate(T){const{editConfig:q,editRules:A}=t,{editStore:_}=o,{actived:W}=_,U=v.value,te=c.value;if(A&&te.msgMode==="single"&&(o.validErrorMaps={}),q&&A&&W.row){const{row:Y,column:D,cell:F}=W.args;if(x.hasCellRules(T,Y,D))return x.validCellRules(T,Y,D).then(()=>{U.mode==="row"&&m.clearValidate(Y,D)}).catch(({rule:H})=>{if(!H.trigger||T===H.trigger){const j={rule:H,row:Y,column:D,cell:F};return x.showValidTooltip(j),Promise.reject(j)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(T){const{height:q}=t,{tableData:A,validStore:_,validErrorMaps:W}=o,{rule:U,row:te,column:Y,cell:D}=T,F=c.value,H=u.value,j=U.content;return _.visible=!0,F.msgMode==="single"?o.validErrorMaps={[`${qe(e,te)}:${Y.id}`]:{column:Y,row:te,rule:U,content:j}}:o.validErrorMaps=Object.assign({},W,{[`${qe(e,te)}:${Y.id}`]:{column:Y,row:te,rule:U,content:j}}),e.dispatchEvent("valid-error",T,null),H&&H&&(F.message==="tooltip"||F.message==="default"&&!q&&A.length<2)?H.open(D,j):ge()}},Object.assign(Object.assign({},m),x)},setupGrid(e){return e.extendTableMethods(fS)}});const hS=["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];ve.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:o}=e,{computeCustomOpts:n}=e.getComputeMaps(),{refElem:u}=e.getRefMaps(),c=e.xeGrid,d=()=>{const{customStore:A}=t,_=u.value;let W=0;_&&(W=_.clientHeight-28),A.maxHeight=Math.max(88,W)},v=()=>{const{initStore:A,customStore:_}=t;return _.visible=!0,A.custom=!0,m(),S(),d(),ge().then(()=>d())},m=()=>{const{customStore:A}=t,{collectColumn:_}=o;if(A.visible){const W={},U={},te={};f.eachTree(_,Y=>{const D=Y.getKey();Y.renderFixed=Y.fixed,Y.renderVisible=Y.visible,Y.renderResizeWidth=Y.renderWidth,W[D]=Y.renderSortNumber,U[D]=Y.fixed,te[D]=Y.visible}),A.oldSortMaps=W,A.oldFixedMaps=U,A.oldVisibleMaps=te,t.customColumnList=_.slice(0)}},x=()=>{const{customStore:A}=t,_=n.value;return A.visible&&(A.visible=!1,_.immediate||e.handleCustom()),ge()},i=()=>{const{customColumnList:A}=t,_=n.value,{allowVisible:W,allowSort:U,allowFixed:te,allowResizable:Y}=_;return f.eachTree(A,(D,F,H,j,K)=>{if(K)D.fixed=K.fixed;else{if(U){const k=F+1;D.renderSortNumber=k}te&&(D.fixed=D.renderFixed)}Y&&D.renderVisible&&(!D.children||D.children.length)&&D.renderResizeWidth!==D.renderWidth&&(D.resizeWidth=D.renderResizeWidth,D.renderWidth=D.renderResizeWidth),W&&(D.visible=D.renderVisible)}),t.isCustomStatus=!0,t.isDragColMove=!0,setTimeout(()=>{t.isDragColMove=!1},1e3),e.saveCustomStore("confirm")},s=()=>{const{customColumnList:A,customStore:_}=t,{oldSortMaps:W,oldFixedMaps:U,oldVisibleMaps:te}=_,Y=n.value,{allowVisible:D,allowSort:F,allowFixed:H,allowResizable:j}=Y;return f.eachTree(A,K=>{const k=K.getKey(),X=!!te[k],J=U[k]||"";D&&(K.renderVisible=X,K.visible=X),H&&(K.renderFixed=J,K.fixed=J),F&&(K.renderSortNumber=W[k]||0),j&&(K.renderResizeWidth=K.renderWidth)},{children:"children"}),ge()},y=A=>{const{customStore:_}=t,{customColumnList:W}=t,U=n.value,{checkMethod:te,visibleMethod:Y}=U,D=!!A;return U.immediate?(f.eachTree(W,F=>{Y&&!Y({$table:e,column:F})||te&&!te({$table:e,column:F})||(F.visible=D,F.renderVisible=D,F.halfVisible=!1)}),_.isAll=D,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(f.eachTree(W,F=>{Y&&!Y({$table:e,column:F})||te&&!te({$table:e,column:F})||(F.renderVisible=D,F.halfVisible=!1)}),_.isAll=D),e.checkCustomStatus(),ge()},O={openCustom:v,closeCustom:x,saveCustom:i,cancelCustom:s,resetCustom(A){const{collectColumn:_}=o,W=n.value,{checkMethod:U}=W,te=Object.assign({visible:!0,resizable:A===!0,fixed:A===!0,sort:A===!0},A);return f.eachTree(_,Y=>{te.resizable&&(Y.resizeWidth=0),te.fixed&&(Y.fixed=Y.defaultFixed),te.sort&&(Y.renderSortNumber=Y.sortNumber),(!U||U({$table:e,column:Y}))&&(Y.visible=Y.defaultVisible),Y.renderResizeWidth=Y.renderWidth}),t.isCustomStatus=!1,e.saveCustomStore("reset"),e.handleCustom()},toggleCustomAllCheckbox(){const{customStore:A}=t,_=!A.isAll;return y(_)},setCustomAllCheckbox:y},S=()=>{const{customStore:A}=t,{collectColumn:_}=o,W=n.value,{checkMethod:U}=W;A.isAll=_.every(te=>(U?!U({$table:e,column:te}):!1)||te.renderVisible),A.isIndeterminate=!A.isAll&&_.some(te=>(!U||U({$table:e,column:te}))&&(te.renderVisible||te.halfVisible))},T=(A,_)=>{(c||e).dispatchEvent("custom",{type:A},_)},q={checkCustomStatus:S,emitCustomEvent:T,triggerCustomEvent(A){const _=e.reactData,{customStore:W}=_;W.visible?(x(),T("close",A)):(W.btnEl=A.target,v(),T("open",A))},customOpenEvent(A){const _=e.reactData,{customStore:W}=_;W.visible||(W.activeBtn=!0,W.btnEl=A.target,e.openCustom(),e.emitCustomEvent("open",A))},customCloseEvent(A){const _=e.reactData,{customStore:W}=_;W.visible&&(W.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",A))},handleUpdateCustomColumn:m};return Object.assign(Object.assign({},O),q)},setupGrid(e){return e.extendTableMethods(hS)}});const{getConfig:Yi,renderer:pS,getI18n:Ff,getComponent:eC}=ve,tC="modelValue",rC={};function qo(e,t,o){return f.eqNull(e)?f.eqNull(t)?o:t:e}function gS(e,t){return e&&t.valueFormat?f.toStringDate(e,t.valueFormat):e}function vS(e,t,o){const{dateConfig:n={}}=t;return f.toDateString(gS(e,t),n.labelFormat||o)}function Vd(e,t){return vS(e,t,Ff(`vxe.input.date.labelFormat.${t.type||"date"}`))}function mS(e){return`vxe-${e.replace("$","")}`}function Xr({name:e}){return eC(e)}function fs({name:e}){return GC(mS(e))}function Zi(e,t,o){const{$panel:n}=e;n.changeOption({},t,o)}function hs(e){let{name:t,attrs:o}=e;return t==="input"&&(o=Object.assign({type:"text"},o)),o}function oC(e){const{name:t,immediate:o,props:n}=e;if(!o){if(t==="VxeInput"||t==="$input"){const{type:u}=n||{};return!(!u||u==="text"||u==="number"||u==="integer"||u==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return o}function po(e,t,o,n){return f.assign({immediate:oC(e)},rC,n,e.props,{[tC]:o})}function Ji(e,t,o,n){return f.assign({},rC,n,e.props,{[tC]:o})}function ps(e,t){return t.$type==="cell"||oC(e)}function Ur(e,t,o,n){const{placeholder:u}=e;return[C("span",{class:["vxe-cell--label",n?n.class:""]},u&&yf(o)?[C("span",{class:"vxe-cell--placeholder"},Cr(Po(u),1))]:Cr(o,1))]}function nC(e,t,o){const{events:n}=e,u=Yx(e),c=Xx(e),{model:d,change:v,blur:m}=o||{},x=c===u,i={};return n&&f.objectEach(n,(s,y)=>{i[xn(y)]=function(...O){s(t,...O)}}),d&&(i[xn(u)]=function(s){d(s),x&&v&&v(s),n&&n[u]&&n[u](t,s)}),!x&&v&&(i[xn(c)]=function(s){v(s),n&&n[c]&&n[c](t,s)}),m&&(i[xn(Dl)]=function(s){m(s),n&&n[Dl]&&n[Dl](t,s)}),i}const Dl="blur";function xi(e,t,o){const{events:n}=e,u=Yx(e),c=Xx(e),{model:d,change:v,blur:m}=o||{},x={};return f.objectEach(n,(i,s)=>{x[xn(s)]=function(...y){f.isFunction(i)||Ze("vxe.error.errFunc",[i]),i(t,...y)}}),d&&(x[xn(u)]=function(i){d(i),n&&n[u]&&n[u](t,i)}),v&&(x[xn(c)]=function(...i){v(...i),n&&n[c]&&n[c](t,...i)}),m&&(x[xn(Dl)]=function(...i){m(...i),n&&n[Dl]&&n[Dl](t,...i)}),x}function ho(e,t){const{$table:o,row:n,column:u}=t,{name:c}=e,{model:d}=u,v=ps(e,t);return xi(e,t,{model(m){d.update=!0,d.value=m,v&&Ho(n,u,m)},change(m){if(!v&&c&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(c)){const x=m.value;d.update=!0,d.value=x,o.updateStatus(t,x)}else o.updateStatus(t)},blur(){v?o.handleCellRuleUpdateStatus("blur",t):o.handleCellRuleUpdateStatus("blur",t,d.value)}})}function Qi(e,t,o){return xi(e,t,{model(n){o.data=n},change(){Zi(t,!f.eqNull(o.data),o)},blur(){Zi(t,!f.eqNull(o.data),o)}})}function lC(e,t){const{$table:o,row:n,column:u}=t,{model:c}=u;return nC(e,t,{model(d){const v=d.target;if(v){const m=v.value;ps(e,t)?Ho(n,u,m):(c.update=!0,c.value=m)}},change(d){const v=d.target;if(v){const m=v.value;o.updateStatus(t,m)}},blur(d){const v=d.target;if(v){const m=v.value;o.updateStatus(t,m)}}})}function iC(e,t,o){return nC(e,t,{model(n){const u=n.target;u&&(o.data=u.value)},change(){Zi(t,!f.eqNull(o.data),o)},blur(){Zi(t,!f.eqNull(o.data),o)}})}function Gd(e,t){const{row:o,column:n}=t,{name:u}=e,c=ps(e,t)?br(o,n):n.model.value;return[C(u,Object.assign(Object.assign(Object.assign({class:`vxe-default-${u}`},hs(e)),{value:c}),lC(e,t)))]}function bS(e,t){return[C(Xr(e),Object.assign(Object.assign({},po(e,t,null)),xi(e,t)))]}function jr(e,t){const{row:o,column:n}=t,u=br(o,n);return[C(Xr(e),Object.assign(Object.assign({},po(e,t,u)),ho(e,t)))]}function xS(e,t){const{row:o,column:n}=t,u=br(o,n);return[C(Xr(e),Object.assign(Object.assign({},po(e,t,u)),ho(e,t)))]}function Vm(e,t){const{options:o}=e,{row:n,column:u}=t,c=br(n,u);return[C(Xr(e),Object.assign(Object.assign({options:o},po(e,t,c)),ho(e,t)))]}function $i(e,t){const{row:o,column:n}=t,u=br(o,n);return[C(fs(e),Object.assign(Object.assign({},po(e,t,u)),ho(e,t)))]}function sC(e,t){return[C(eC("vxe-button"),Object.assign(Object.assign({},po(e,t,null)),xi(e,t)))]}function CS(e,t){return e.children.map(o=>sC(o,t)[0])}function aC(e,t,o){const{optionGroups:n,optionGroupProps:u={}}=e,c=u.options||"options",d=u.label||"label";return n.map((v,m)=>C("optgroup",{key:m,label:v[d]},o(v[c],e,t)))}function es(e,t,o){const{optionProps:n={}}=t,{row:u,column:c}=o,d=n.label||"label",v=n.value||"value",m=n.disabled||"disabled",x=ps(t,o)?br(u,c):c.model.value;return e.map((i,s)=>C("option",{key:s,value:i[v],disabled:i[m],selected:i[v]==x},i[d]))}function wS(e,t){const{column:o}=t,{name:n}=e,u=hs(e);return o.filters.map((c,d)=>C(n,Object.assign(Object.assign(Object.assign({key:d,class:`vxe-default-${n}`},u),{value:c.data}),iC(e,t,c))))}function jd(e,t){const{column:o}=t;return o.filters.map((n,u)=>{const c=n.data;return C(Xr(e),Object.assign(Object.assign({key:u},Ji(e,e,c)),Qi(e,t,n)))})}function yS(e,t){const{column:o}=t;return o.filters.map((n,u)=>{const c=n.data;return C(fs(e),Object.assign(Object.assign({key:u},Ji(e,e,c)),Qi(e,t,n)))})}function oi({option:e,row:t,column:o}){const{data:n}=e;return f.get(t,o.field)==n}function ni({option:e,row:t,column:o}){const{data:n}=e,u=f.get(t,o.field);return f.toValueString(u).indexOf(n)>-1}function Gm(e,t){return[C("select",Object.assign(Object.assign({class:"vxe-default-select"},hs(e)),lC(e,t)),e.optionGroups?aC(e,t,es):es(e.options,e,t))]}function jm(e,t){const{row:o,column:n}=t,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v}=e,m=br(o,n);return[C(Xr(e),Object.assign(Object.assign({},po(e,t,m,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v})),ho(e,t)))]}function Um(e,t){const{row:o,column:n}=t,{options:u,optionProps:c}=e,d=br(o,n);return[C(Xr(e),Object.assign(Object.assign({},po(e,t,d,{options:u,optionProps:c})),ho(e,t)))]}function Ym(e,t){const{row:o,column:n}=t,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v}=e,m=br(o,n);return[C(fs(e),Object.assign(Object.assign({},po(e,t,m,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v})),ho(e,t)))]}function yl(e,{row:t,column:o}){const{options:n,optionGroups:u,optionProps:c={},optionGroupProps:d={}}=e,v=f.get(t,o.field);let m;const x=c.label||"label",i=c.value||"value";return v!=null?f.map(f.isArray(v)?v:[v],u?s=>{const y=d.options||"options";for(let O=0;O<u.length&&(m=f.find(u[O][y],S=>S[i]==s),!m);O++);return m?m[x]:s}:s=>(m=f.find(n,y=>y[i]==s),m?m[x]:s)).join(", "):""}function zi(e){const{row:t,column:o,options:n}=e;return n.original?br(t,o):yl(o.editRender||o.cellRender,e)}function ii(e,{row:t,column:o}){const{options:n,optionProps:u={}}=e,c=f.get(t,o.field),d=u.label||"label",v=u.value||"value",m=u.children||"children";if(c!=null){const x={};return f.eachTree(n,i=>{x[f.get(i,v)]=i},{children:m}),f.map(f.isArray(c)?c:[c],i=>{const s=x[i];return s&&f.get(s,d)}).join(", ")}return""}function Ud(e){const{row:t,column:o,options:n}=e;return n.original?br(t,o):ii(o.editRender||o.cellRender,e)}function Xm(e,t){const{props:o={},showNegativeStatus:n}=e,{row:u,column:c}=t,{type:d}=o;let v=f.get(u,c.field),m=!1;if(!yf(v)){const x=Yi().numberInput||{};if(d==="float"){const i=qo(o.autoFill,x.autoFill,!0),s=qo(o.digits,x.digits,1);v=f.toFixed(f.floor(v,s),s),i||(v=f.toNumber(v)),n&&v<0&&(m=!0)}else if(d==="amount"){const i=qo(o.autoFill,x.autoFill,!0),s=qo(o.digits,x.digits,2),y=qo(o.showCurrency,x.showCurrency,!1);if(v=f.toNumber(v),n&&v<0&&(m=!0),v=f.commafy(v,{digits:s}),!i){const[O,S]=v.split(".");if(S){const T=S.replace(/0+$/,"");v=T?[O,".",T].join(""):O}}y&&(v=`${o.currencySymbol||x.currencySymbol||Ff("vxe.numberInput.currencySymbol")||""}${v}`)}else n&&f.toNumber(v)<0&&(m=!0)}return Ur(e,t,v,m?{class:"is--negative"}:{})}pS.mixin({input:{tableAutoFocus:"input",renderTableEdit:Gd,renderTableDefault:Gd,renderTableFilter:wS,tableFilterDefaultMethod:ni},textarea:{tableAutoFocus:"textarea",renderTableEdit:Gd},select:{renderTableEdit:Gm,renderTableDefault:Gm,renderTableCell(e,t){return Ur(e,t,yl(e,t))},renderTableFilter(e,t){const{column:o}=t;return o.filters.map((n,u)=>C("select",Object.assign(Object.assign({key:u,class:"vxe-default-select"},hs(e)),iC(e,t,n)),e.optionGroups?aC(e,t,es):es(e.options,e,t)))},tableFilterDefaultMethod:oi,tableExportMethod:zi},VxeInput:{tableAutoFocus:"input",renderTableEdit:jr,renderTableCell(e,t){const{props:o={}}=e,{row:n,column:u}=t,c=Yi().input||{},d=o.digits||c.digits||2;let v=f.get(n,u.field);if(v)switch(o.type){case"date":case"week":case"month":case"quarter":case"year":v=Vd(v,o);break;case"float":v=f.toFixed(f.floor(v,d),d);break}return Ur(e,t,v)},renderTableDefault:jr,renderTableFilter:jd,tableFilterDefaultMethod:ni},FormatNumberInput:{renderTableDefault:Xm,tableFilterDefaultMethod:ni,tableExportMethod(e){const{row:t,column:o}=e;return f.get(t,o.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:jr,renderTableCell:Xm,renderTableFooter(e,t){const{props:o={}}=e,{row:n,column:u,_columnIndex:c}=t,{type:d}=o,v=f.isArray(n)?n[c]:f.get(n,u.field);if(f.isNumber(v)){const m=Yi().numberInput||{};if(d==="float"){const x=qo(o.autoFill,m.autoFill,!0),i=qo(o.digits,m.digits,1);let s=f.toFixed(f.floor(v,i),i);return x||(s=f.toNumber(s)),s}else if(d==="amount"){const x=qo(o.autoFill,m.autoFill,!0),i=qo(o.digits,m.digits,2),s=qo(o.showCurrency,m.showCurrency,!1);let y=f.commafy(f.toNumber(v),{digits:i});if(!x){const[O,S]=y.split(".");if(S){const T=S.replace(/0+$/,"");y=T?[O,".",T].join(""):O}}return s&&(y=`${o.currencySymbol||m.currencySymbol||Ff("vxe.numberInput.currencySymbol")||""}${y}`),y}}return Po(v,1)},renderTableDefault:jr,renderTableFilter:jd,tableFilterDefaultMethod:ni,tableExportMethod(e){const{row:t,column:o}=e;return f.get(t,o.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:jr,renderTableCell(e,t){const{props:o={}}=e,{row:n,column:u}=t;let c=f.get(n,u.field);return c&&o.type!=="time"&&(c=Vd(c,o)),Ur(e,t,c)},renderTableDefault:jr,renderTableFilter:jd,tableFilterDefaultMethod:oi},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:jr,renderTableCell(e,t){const{row:o,column:n}=t,u=f.get(o,n.field);return Ur(e,t,u)}},VxeButton:{renderTableDefault:bS},VxeButtonGroup:{renderTableDefault(e,t){const{options:o}=e;return[C(Xr(e),Object.assign(Object.assign({options:o},po(e,t,null)),xi(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:jm,renderTableDefault:jm,renderTableCell(e,t){return Ur(e,t,yl(e,t))},renderTableFilter(e,t){const{column:o}=t,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d}=e;return o.filters.map((v,m)=>{const x=v.data;return C(Xr(e),Object.assign(Object.assign({key:m},Ji(e,t,x,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d})),Qi(e,t,v)))})},tableFilterDefaultMethod:oi,tableExportMethod:zi},formatOption:{renderTableDefault(e,t){return Ur(e,t,yl(e,t))}},FormatSelect:{renderTableDefault(e,t){return Ur(e,t,yl(e,t))},tableFilterDefaultMethod:oi,tableExportMethod:zi},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:Um,renderTableCell(e,t){return Ur(e,t,ii(e,t))},tableExportMethod:Ud},formatTree:{renderTableDefault(e,t){return Ur(e,t,ii(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return Ur(e,t,ii(e,t))},tableExportMethod:Ud},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:Um,renderTableCell(e,t){return Ur(e,t,ii(e,t))},tableExportMethod:Ud},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:o,column:n}=t,{options:u}=e,c=br(o,n);return[C(Xr(e),Object.assign(Object.assign({},po(e,t,c,{colors:u})),ho(e,t)))]},renderTableCell(e,t){const{row:o,column:n}=t,u=f.get(o,n.field);return C("span",{class:"vxe-color-picker--readonly"},[C("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:u}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:o,column:n}=t,{options:u}=e,c=br(o,n);return[C(Xr(e),Object.assign(Object.assign({},po(e,t,c,{icons:u})),ho(e,t)))]},renderTableCell(e,t){const{row:o,column:n}=t,u=f.get(o,n.field);return C("i",{class:u})}},VxeRadioGroup:{renderTableDefault:Vm},VxeCheckbox:{renderTableDefault:xS},VxeCheckboxGroup:{renderTableDefault:Vm},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:jr,renderTableDefault:jr},VxeUpload:{renderTableEdit:jr,renderTableCell:jr,renderTableDefault:jr},VxeImage:{renderTableDefault(e,t){const{row:o,column:n}=t,{props:u}=e,c=br(o,n);return[C(Xr(e),Object.assign(Object.assign(Object.assign({},u),{src:c}),ho(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:o,column:n}=t,{props:u}=e,c=br(o,n);return[C(Xr(e),Object.assign(Object.assign(Object.assign({},u),{urlList:c}),ho(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:o,column:n}=t,{props:u}=e,c=br(o,n);return[C(Xr(e),Object.assign(Object.assign(Object.assign({},u),{content:c}),ho(e,t)))]}},VxeRate:{renderTableDefault:jr},VxeSlider:{renderTableDefault:jr},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:$i,renderTableCell(e,t){var o;const{props:n={}}=e,{row:u,column:c}=t,d=n.digits||((o=Yi().input)===null||o===void 0?void 0:o.digits)||2;let v=f.get(u,c.field);if(v)switch(n.type){case"date":case"week":case"month":case"year":v=Vd(v,n);break;case"float":v=f.toFixed(f.floor(v,d),d);break}return Ur(e,t,v)},renderTableDefault:$i,renderTableFilter:yS,tableFilterDefaultMethod:ni},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:sC},$buttons:{renderTableDefault:CS},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Ym,renderTableDefault:Ym,renderTableCell(e,t){return Ur(e,t,yl(e,t))},renderTableFilter(e,t){const{column:o}=t,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d}=e;return o.filters.map((v,m)=>{const x=v.data;return C(fs(e),Object.assign(Object.assign({key:m},Ji(e,t,x,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d})),Qi(e,t,v)))})},tableFilterDefaultMethod:oi,tableExportMethod:zi},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:$i,renderTableDefault:$i}});const If=Object.assign({},Vn,{install(e){e.component(Vn.name,Vn)}}),ES={useCellView:_R};ve.dynamicApp&&ve.dynamicApp.component(Vn.name,Vn);ve.component(Vn);ve.tableHandle=ES;const RS=If,kf=Object.assign({},Gn,{install(e){e.component(Gn.name,Gn)}});ve.dynamicApp&&ve.dynamicApp.component(Gn.name,Gn);ve.component(Gn);const SS=kf,OS={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},DS=[Sf,Of,Mf,If,kf];function MS(e,t){ve.setConfig(t),DS.forEach(o=>o.install(e))}if(!ve.hasLanguage("zh-CN")){const e="zh-CN";ve.setI18n(e,OS),ve.setLanguage(e)}ve.setTheme("light");const IS=Object.freeze(Object.defineProperty({__proto__:null,Colgroup:fR,Column:dR,Grid:qR,Table:RS,Toolbar:SS,VXETable:BE,VxeColgroup:Of,VxeColumn:Sf,VxeGrid:Mf,VxeTable:If,VxeToolbar:kf,VxeUI:ve,_t:Ax,clipboard:qE,commands:LE,config:Ix,formats:AE,getConfig:yE,getI18n:DE,getIcon:RE,getTheme:CE,globalEvents:ME,globalResize:TE,hooks:NE,install:MS,interceptor:HE,log:_E,menus:kE,modal:VE,print:WE,readFile:zE,renderer:FE,saveFile:$E,setConfig:wE,setI18n:OE,setIcon:EE,setLanguage:SE,setTheme:xE,setup:Fx,t:kx,use:PE,validators:IE,version:Ef},Symbol.toStringTag,{value:"Module"}));export{_y as A,By as B,Gi as C,Cf as D,Jy as E,dE as F,Bn as G,Vi as H,oE as I,gE as J,pE as K,IS as L,ve as V,f as X,$y as a,zy as b,Vy as c,hE as d,Gy as e,Sx as f,Py as g,Cl as h,vE as i,Xy as j,Zy as k,eE as l,Ky as m,wf as n,Yn as o,uE as p,cE as q,bE as r,Ny as s,sE as t,fE as u,tE as v,mE as w,jC as x,lE as y,Qy as z};
