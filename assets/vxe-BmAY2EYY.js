import{g as NC}from"./element-CqORJRZK.js";import{V as Co,c as Ne,i as Lr,p as yn,G as rt,w as Mt,n as ge,aa as w,t as lo,r as ze,f as Gn,P as jn,af as Dl,a0 as Ym,W as PC,a2 as BC,U as $C,ac as zC}from"./vue-BmJ3WjEf.js";const VC="4.1.0",Un={coreVersion:VC,uiVersion:"",tableVersion:""};var Ds,Yf;function Bo(){if(Yf)return Ds;Yf=1;var e={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1};return Ds=e,Ds}var Ms,Xf;function Nr(){if(Xf)return Ms;Xf=1;function e(t,o,n){if(t)if(t.forEach)t.forEach(o,n);else for(var u=0,c=t.length;u<c;u++)o.call(n,t[u],u,t)}return Ms=e,Ms}var Ts,Kf;function Xm(){if(Kf)return Ts;Kf=1;var e=Object.prototype.toString;return Ts=e,Ts}var Fs,Zf;function ci(){if(Zf)return Fs;Zf=1;var e=Xm();function t(o){return function(n){return"[object "+o+"]"===e.call(n)}}return Fs=t,Fs}var Is,Jf;function or(){if(Jf)return Is;Jf=1;var e=ci(),t=Array.isArray||e("Array");return Is=t,Is}var ks,Qf;function wo(){if(Qf)return ks;Qf=1;function e(t,o){return t&&t.hasOwnProperty?t.hasOwnProperty(o):!1}return ks=e,ks}var As,eh;function ui(){if(eh)return As;eh=1;var e=wo();function t(o,n,u){if(o)for(var c in o)e(o,c)&&n.call(u,o[c],c,o)}return As=t,As}var Ls,th;function Tr(){if(th)return Ls;th=1;var e=or(),t=Nr(),o=ui();function n(u,c,d){return u&&(e(u)?t:o)(u,c,d)}return Ls=n,Ls}var Hs,rh;function Tl(){if(rh)return Hs;rh=1;function e(t){return function(o){return typeof o===t}}return Hs=e,Hs}var qs,oh;function Kr(){if(oh)return qs;oh=1;var e=Tl(),t=e("function");return qs=t,qs}var _s,nh;function ef(){if(nh)return _s;nh=1;var e=Tr();function t(o,n){var u=Object[o];return function(c){var d=[];if(c){if(u)return u(c);e(c,n>1?function(v){d.push([""+v,c[v]])}:function(){d.push(arguments[n])})}return d}}return _s=t,_s}var Ns,lh;function Xo(){if(lh)return Ns;lh=1;var e=ef(),t=e("keys",1);return Ns=t,Ns}var Ps,ih;function tf(){if(ih)return Ps;ih=1;var e=Xm(),t=ui(),o=Nr();function n(v,m){var x=v.__proto__.constructor;return m?new x(m):new x}function u(v,m){return m?c(v,m):v}function c(v,m){if(v)switch(e.call(v)){case"[object Object]":{var x=Object.create(Object.getPrototypeOf(v));return t(v,function(O,S){x[S]=u(O,m)}),x}case"[object Date]":case"[object RegExp]":return n(v,v.valueOf());case"[object Array]":case"[object Arguments]":{var i=[];return o(v,function(O){i.push(u(O,m))}),i}case"[object Set]":{var s=n(v);return s.forEach(function(O){s.add(u(O,m))}),s}case"[object Map]":{var y=n(v);return y.forEach(function(O,S){y.set(S,u(O,m))}),y}}return v}function d(v,m){return v&&c(v,m)}return Ps=d,Ps}var Bs,sh;function yo(){if(sh)return Bs;sh=1;var e=Nr(),t=Xo(),o=or(),n=tf(),u=Object.assign;function c(v,m,x){for(var i=m.length,s,y=1;y<i;y++)s=m[y],e(t(m[y]),x?function(O){v[O]=n(s[O],x)}:function(O){v[O]=s[O]});return v}var d=function(v){if(v){var m=arguments;if(v===!0){if(m.length>1)return v=o(v[1])?[]:{},c(v,m,!0)}else return u?u.apply(Object,m):c(v,m)}return v};return Bs=d,Bs}var $s,ah;function WC(){if(ah)return $s;ah=1;var e=Bo(),t=Nr(),o=Tr(),n=Kr(),u=yo(),c=function(){};function d(){t(arguments,function(i){o(i,function(s,y){c[y]=n(s)?function(){var O=s.apply(c.$context,arguments);return c.$context=null,O}:s})})}function v(i){return u(e,i)}function m(){return e}var x="3.7.4";return c.VERSION=x,c.version=x,c.mixin=d,c.setup=v,c.setConfig=v,c.getConfig=m,$s=c,$s}var zs,ch;function rf(){if(ch)return zs;ch=1;function e(t,o,n){for(var u=t.length-1;u>=0;u--)o.call(n,t[u],u,t)}return zs=e,zs}var Vs,uh;function Km(){if(uh)return Vs;uh=1;var e=rf(),t=Xo();function o(n,u,c){e(t(n),function(d){u.call(c,n[d],d,n)})}return Vs=o,Vs}var Ws,dh;function Ko(){if(dh)return Ws;dh=1;function e(t){return t===null}return Ws=e,Ws}var Gs,fh;function Fl(){if(fh)return Gs;fh=1;var e=Ko();function t(o,n){return function(u){return e(u)?n:u[o]}}return Gs=t,Gs}var js,hh;function GC(){if(hh)return js;hh=1;var e=Tr(),t=Kr(),o=Fl();function n(u,c,d){var v={};if(u)if(c)t(c)||(c=o(c)),e(u,function(m,x){v[x]=c.call(d,m,x,u)});else return u;return v}return js=n,js}var Us,ph;function Il(){if(ph)return Us;ph=1;function e(t){return t?t.constructor===Object:!1}return Us=e,Us}var Ys,gh;function Zm(){if(gh)return Ys;gh=1;function e(t){return t!=="__proto__"&&t!=="constructor"}return Ys=e,Ys}var Xs,vh;function jC(){if(vh)return Xs;vh=1;var e=or(),t=Il(),o=Kr(),n=Tr(),u=Zm();function c(v,m){return t(v)&&t(m)||e(v)&&e(m)?(n(m,function(x,i){u(i)&&(v[i]=o(m)?x:c(v[i],x))}),v):m}var d=function(v){v||(v={});for(var m=arguments,x=m.length,i,s=1;s<x;s++)i=m[s],i&&c(v,i);return v};return Xs=d,Xs}var Ks,mh;function En(){if(mh)return Ks;mh=1;var e=Tr();function t(o,n,u){var c=[];if(o&&arguments.length>1){if(o.map)return o.map(n,u);e(o,function(){c.push(n.apply(u,arguments))})}return c}return Ks=t,Ks}var Zs,bh;function Ji(){if(bh)return Zs;bh=1;var e=wo(),t=or();function o(n,u,c,d,v){return function(m,x,i){if(m&&x){if(n&&m[n])return m[n](x,i);if(u&&t(m)){for(var s=0,y=m.length;s<y;s++)if(!!x.call(i,m[s],s,m)===d)return[!0,!1,s,m[s]][c]}else for(var O in m)if(e(m,O)&&!!x.call(i,m[O],O,m)===d)return[!0,!1,O,m[O]][c]}return v}}return Zs=o,Zs}var Js,xh;function Jm(){if(xh)return Js;xh=1;var e=Ji(),t=e("some",1,0,!0,!1);return Js=t,Js}var Qs,Ch;function Qm(){if(Ch)return Qs;Ch=1;var e=Ji(),t=e("every",1,1,!1,!0);return Qs=t,Qs}var ea,wh;function kl(){if(wh)return ea;wh=1;var e=wo();function t(o,n){if(o){if(o.includes)return o.includes(n);for(var u in o)if(e(o,u)&&n===o[u])return!0}return!1}return ea=t,ea}var ta,yh;function eb(){if(yh)return ta;yh=1;var e=or(),t=kl();function o(n,u){var c,d=0;if(e(n)&&e(u)){for(c=u.length;d<c;d++)if(!t(n,u[d]))return!1;return!0}return t(n,u)}return ta=o,ta}var ra,Eh;function tb(){if(Eh)return ra;Eh=1;var e=Tr(),t=kl(),o=Kr(),n=Fl();function u(c,d,v){var m=[];if(d){o(d)||(d=n(d));var x,i={};e(c,function(s,y){x=d.call(v,s,y,c),i[x]||(i[x]=1,m.push(s))})}else e(c,function(s){t(m,s)||m.push(s)});return m}return ra=u,ra}var oa,Rh;function of(){if(Rh)return oa;Rh=1;var e=En();function t(o){return e(o,function(n){return n})}return oa=t,oa}var na,Sh;function UC(){if(Sh)return na;Sh=1;var e=tb(),t=of();function o(){for(var n=arguments,u=[],c=0,d=n.length;c<d;c++)u=u.concat(t(n[c]));return e(u)}return na=o,na}var la,Oh;function Eo(){if(Oh)return la;Oh=1;var e="undefined";return la=e,la}var ia,Dh;function $o(){if(Dh)return ia;Dh=1;var e=Eo(),t=Tl(),o=t(e);return ia=o,ia}var sa,Mh;function Zo(){if(Mh)return sa;Mh=1;var e=Ko(),t=$o();function o(n){return e(n)||t(n)}return sa=o,sa}var aa,Th;function rb(){if(Th)return aa;Th=1;var e=/(.+)?\[(\d+)\]$/;return aa=e,aa}var ca,Fh;function nf(){if(Fh)return ca;Fh=1;function e(t){return t?t.splice&&t.join?t:(""+t).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}return ca=e,ca}var ua,Ih;function di(){if(Ih)return ua;Ih=1;var e=rb(),t=nf(),o=wo(),n=$o(),u=Zo();function c(m,x,i){if(u(m))return i;var s=v(m,x);return n(s)?i:s}function d(m,x){var i=x?x.match(e):"";return i?i[1]?m[i[1]]?m[i[1]][i[2]]:void 0:m[i[2]]:m[x]}function v(m,x){if(m){var i,s,y,O=0;if(m[x]||o(m,x))return m[x];if(s=t(x),y=s.length,y){for(i=m;O<y;O++)if(i=d(i,s[O]),u(i))return O===y-1?i:void 0}return i}}return ua=c,ua}var da,kh;function lf(){if(kh)return da;kh=1;var e=Nr(),t=of(),o=En(),n=or(),u=Kr(),c=Il(),d=$o(),v=Ko(),m=Zo(),x=di(),i=Fl(),s="asc",y="desc";function O(A,_){return d(A)?1:v(A)?d(_)?-1:1:A&&A.localeCompare?A.localeCompare(_):A>_?1:-1}function S(A,_,V){return function(Y,ee){var X=Y[A],D=ee[A];return X===D?V?V(Y,ee):0:_.order===y?O(D,X):O(X,D)}}function T(A,_,V,Y){var ee=[];return V=n(V)?V:[V],e(V,function(X,D){if(X){var F=X,H;n(X)?(F=X[0],H=X[1]):c(X)&&(F=X.field,H=X.order),ee.push({field:F,order:H||s}),e(_,u(F)?function(j,Z){j[D]=F.call(Y,j.data,Z,A)}:function(j){j[D]=F?x(j.data,F):j.data})}}),ee}function q(A,_,V){if(A){if(m(_))return t(A).sort(O);for(var Y,ee=o(A,function(F){return{data:F}}),X=T(A,ee,_,V),D=X.length-1;D>=0;)Y=S(D,X[D],Y),D--;return Y&&(ee=ee.sort(Y)),o(ee,i("data"))}return[]}return da=q,da}var fa,Ah;function YC(){if(Ah)return fa;Ah=1;var e=lf(),t=e;return fa=t,fa}var ha,Lh;function ob(){if(Lh)return ha;Lh=1;function e(t,o){return t>=o?t:(t=t>>0)+Math.round(Math.random()*((o||9)-t))}return ha=e,ha}var pa,Hh;function Al(){if(Hh)return pa;Hh=1;var e=ef(),t=e("values",0);return pa=t,pa}var ga,qh;function nb(){if(qh)return ga;qh=1;var e=ob(),t=Al();function o(n){for(var u,c=[],d=t(n),v=d.length-1;v>=0;v--)u=v>0?e(0,v):0,c.push(d[u]),d.splice(u,1);return c}return ga=o,ga}var va,_h;function XC(){if(_h)return va;_h=1;var e=nb();function t(o,n){var u=e(o);return arguments.length<=1?u[0]:(n<u.length&&(u.length=n||0),u)}return va=t,va}var ma,Nh;function lb(){if(Nh)return ma;Nh=1;function e(t){return function(o){if(o){var n=t(o&&o.replace?o.replace(/,/g,""):o);if(!isNaN(n))return n}return 0}}return ma=e,ma}var ba,Ph;function Yn(){if(Ph)return ba;Ph=1;var e=lb(),t=e(parseFloat);return ba=t,ba}var xa,Bh;function Xn(){if(Bh)return xa;Bh=1;var e=Yn();function t(o,n,u){var c=[],d=arguments.length;if(o){if(n=d>=2?e(n):0,u=d>=3?e(u):o.length,o.slice)return o.slice(n,u);for(;n<u;n++)c.push(o[n])}return c}return xa=t,xa}var Ca,$h;function KC(){if($h)return Ca;$h=1;var e=Tr();function t(o,n,u){var c=[];if(o&&n){if(o.filter)return o.filter(n,u);e(o,function(d,v){n.call(u,d,v,o)&&c.push(d)})}return c}return Ca=t,Ca}var wa,zh;function ZC(){if(zh)return wa;zh=1;var e=Ji(),t=e("",0,2,!0);return wa=t,wa}var ya,Vh;function JC(){if(Vh)return ya;Vh=1;var e=Ji(),t=e("find",1,3,!0);return ya=t,ya}var Ea,Wh;function QC(){if(Wh)return Ea;Wh=1;var e=or(),t=Al();function o(n,u,c){if(n){e(n)||(n=t(n));for(var d=n.length-1;d>=0;d--)if(u.call(c,n[d],d,n))return n[d]}}return Ea=o,Ea}var Ra,Gh;function ew(){if(Gh)return Ra;Gh=1;var e=Xo();function t(o,n,u){if(o){var c,d,v=0,m=null,x=u,i=arguments.length>2,s=e(o);if(o.length&&o.reduce)return d=function(){return n.apply(m,arguments)},i?o.reduce(d,x):o.reduce(d);for(i&&(v=1,x=o[s[0]]),c=s.length;v<c;v++)x=n.call(m,x,o[s[v]],v,o);return x}}return Ra=t,Ra}var Sa,jh;function tw(){if(jh)return Sa;jh=1;var e=or();function t(o,n,u,c){if(e(o)&&o.copyWithin)return o.copyWithin(n,u,c);var d,v,m=n>>0,x=u>>0,i=o.length,s=arguments.length>3?c>>0:i;if(m<i&&(m=m>=0?m:i+m,m>=0&&(x=x>=0?x:i+x,s=s>=0?s:i+s,x<s)))for(d=0,v=o.slice(x,s);m<i&&!(v.length<=d);m++)o[m]=v[d++];return o}return Sa=t,Sa}var Oa,Uh;function rw(){if(Uh)return Oa;Uh=1;var e=or();function t(o,n){var u,c=[],d=n>>0||1;if(e(o))if(d>=0&&o.length>d)for(u=0;u<o.length;)c.push(o.slice(u,u+d)),u+=d;else c=o.length?[o]:o;return c}return Oa=t,Oa}var Da,Yh;function ib(){if(Yh)return Da;Yh=1;var e=En(),t=Fl();function o(n,u){return e(n,t(u))}return Da=o,Da}var Ma,Xh;function sb(){if(Xh)return Ma;Xh=1;var e=Kr(),t=Zo(),o=di(),n=Nr();function u(c){return function(d,v){if(d&&d.length){var m,x;return n(d,function(i,s){v&&(i=e(v)?v(i,s,d):o(i,v)),!t(i)&&(t(m)||c(m,i))&&(x=s,m=i)}),d[x]}return m}}return Ma=u,Ma}var Ta,Kh;function ab(){if(Kh)return Ta;Kh=1;var e=sb(),t=e(function(o,n){return o<n});return Ta=t,Ta}var Fa,Zh;function cb(){if(Zh)return Fa;Zh=1;var e=ib(),t=ab();function o(n){var u,c,d,v=[];if(n&&n.length)for(u=0,c=t(n,function(m){return m?m.length:0}),d=c?c.length:0;u<d;u++)v.push(e(n,u));return v}return Fa=o,Fa}var Ia,Jh;function ow(){if(Jh)return Ia;Jh=1;var e=cb();function t(){return e(arguments)}return Ia=t,Ia}var ka,Qh;function nw(){if(Qh)return ka;Qh=1;var e=Al(),t=Tr();function o(n,u){var c={};return u=u||[],t(e(n),function(d,v){c[d]=u[v]}),c}return ka=o,ka}var Aa,ep;function lw(){if(ep)return Aa;ep=1;var e=or(),t=Nr();function o(u,c){var d=[];return t(u,function(v){d=d.concat(e(v)?c?o(v,c):v:[v])}),d}function n(u,c){return e(u)?o(u,c):[]}return Aa=n,Aa}var La,tp;function iw(){if(tp)return La;tp=1;var e=En(),t=or();function o(u,c){for(var d=0,v=c.length;u&&d<v;)u=u[c[d++]];return v&&u?u:0}function n(u,c){for(var d,v=arguments,m=[],x=[],i=2,s=v.length;i<s;i++)m.push(v[i]);if(t(c)){for(s=c.length-1,i=0;i<s;i++)x.push(c[i]);c=c[s]}return e(u,function(y){if(x.length&&(y=o(y,x)),d=y[c]||c,d&&d.apply)return d.apply(y,m)})}return La=n,La}var Ha,rp;function ub(){if(rp)return Ha;rp=1;function e(t,o){try{delete t[o]}catch{t[o]=void 0}}return Ha=e,Ha}var qa,op;function db(){if(op)return qa;op=1;var e=or(),t=rf(),o=Km();function n(u,c,d){return u&&(e(u)?t:o)(u,c,d)}return qa=n,qa}var _a,np;function Qi(){if(np)return _a;np=1;var e=Tl(),t=e("object");return _a=t,_a}var Na,lp;function fb(){if(lp)return Na;lp=1;var e=ub(),t=Il(),o=Qi(),n=or(),u=Ko(),c=yo(),d=ui();function v(m,x,i){if(m){var s,y=arguments.length>1&&(u(x)||!o(x)),O=y?i:x;if(t(m))d(m,y?function(S,T){m[T]=x}:function(S,T){e(m,T)}),O&&c(m,O);else if(n(m)){if(y)for(s=m.length;s>0;)s--,m[s]=x;else m.length=0;O&&m.push.apply(m,O)}}return m}return Na=v,Na}var Pa,ip;function hb(){if(ip)return Pa;ip=1;var e=ub(),t=Kr(),o=or(),n=Tr(),u=Nr(),c=db(),d=fb(),v=Zo();function m(i){return function(s,y){return y===i}}function x(i,s,y){if(i){if(!v(s)){var O=[],S=[];return t(s)||(s=m(s)),n(i,function(T,q,A){s.call(y,T,q,A)&&O.push(q)}),o(i)?c(O,function(T,q){S.push(i[T]),i.splice(T,1)}):(S={},u(O,function(T){S[T]=i[T],e(i,T)})),S}return d(i)}return i}return Pa=x,Pa}var Ba,sp;function sw(){if(sp)return Ba;sp=1;var e=Bo();En();var t=lf(),o=tf(),n=Zo(),u=Tr(),c=hb(),d=yo();function v(x,i){u(x,function(s){s[i]&&!s[i].length&&c(s,i)})}function m(x,i){var s=d({},e.treeOptions,i),y=s.strict,O=s.key,S=s.parentKey,T=s.children,q=s.mapChildren,A=s.sortKey,_=s.reverse,V=s.data,Y=[],ee={},X={},D,F,H;return A&&(x=t(o(x),A),_&&(x=x.reverse())),u(x,function(j){D=j[O],X[D]=!0}),u(x,function(j){D=j[O],V?(F={},F[V]=j):F=j,H=j[S],ee[D]=ee[D]||[],F[O]=D,F[S]=H,D===H&&(H=null),ee[H]=ee[H]||[],ee[H].push(F),F[T]=ee[D],q&&(F[q]=ee[D]),(!y||y&&n(H))&&(X[H]||Y.push(F))}),y&&v(x,T),Y}return Ba=m,Ba}var $a,ap;function aw(){if(ap)return $a;ap=1;var e=Bo(),t=Nr(),o=yo();function n(c,d,v,m){var x=m.key,i=m.parentKey,s=m.children,y=m.data,O=m.updated,S=m.clear;return t(v,function(T){var q=T[s];y&&(T=T[y]),O!==!1&&(T[i]=d?d[x]:null),c.push(T),q&&q.length&&n(c,T,q,m),S&&delete T[s]}),c}function u(c,d){return n([],null,c,o({},e.treeOptions,d))}return $a=u,$a}var za,cp;function es(){if(cp)return za;cp=1;function e(t){return function(o,n,u,c){var d=u||{},v=d.children||"children";return t(null,o,n,c,[],[],v,d)}}return za=e,za}var Va,up;function cw(){if(up)return Va;up=1;var e=es();function t(n,u,c,d,v,m,x,i){if(u){var s,y,O,S,T,q;for(y=0,O=u.length;y<O;y++){if(s=u[y],S=v.concat([""+y]),T=m.concat([s]),c.call(d,s,y,u,S,n,T))return{index:y,item:s,path:S,items:u,parent:n,nodes:T};if(x&&s&&(q=t(s,s[x],c,d,S.concat([x]),T,x),q))return q}}}var o=e(t);return Va=o,Va}var Wa,dp;function pb(){if(dp)return Wa;dp=1;var e=es(),t=Tr();function o(u,c,d,v,m,x,i,s){var y,O;t(c,function(S,T){y=m.concat([""+T]),O=x.concat([S]),d.call(v,S,T,c,y,u,O),S&&i&&(y.push(i),o(S,S[i],d,v,y,O,i))})}var n=e(o);return Wa=n,Wa}var Ga,fp;function uw(){if(fp)return Ga;fp=1;var e=es(),t=En();function o(u,c,d,v,m,x,i,s){var y,O,S,T=s.mapChildren||i;return t(c,function(q,A){return y=m.concat([""+A]),O=x.concat([q]),S=d.call(v,q,A,c,y,u,O),S&&q&&i&&q[i]&&(S[T]=o(q,q[i],d,v,y,O,i,s)),S})}var n=e(o);return Ga=n,Ga}var ja,hp;function dw(){if(hp)return ja;hp=1;var e=pb();function t(o,n,u,c){var d=[];return o&&n&&e(o,function(v,m,x,i,s,y){n.call(c,v,m,x,i,s,y)&&d.push(v)},u),d}return ja=t,ja}var Ua,pp;function fw(){if(pp)return Ua;pp=1;var e=es(),t=Nr(),o=yo();function n(c,d,v,m,x,i,s,y,O){var S,T,q,A,_,V=[],Y=O.original,ee=O.data,X=O.mapChildren||y,D=O.isEvery;return t(v,function(F,H){S=i.concat([""+H]),T=s.concat([F]),A=c&&!D||m.call(x,F,H,v,S,d,T),_=y&&F[y],A||_?(Y?q=F:(q=o({},F),ee&&(q[ee]=F)),q[X]=n(A,F,F[y],m,x,S,T,y,O),(A||q[X].length)&&V.push(q)):A&&V.push(q)}),V}var u=e(function(c,d,v,m,x,i,s,y){return n(0,c,d,v,m,x,i,s,y)});return Ua=u,Ua}var Ya,gp;function gb(){if(gp)return Ya;gp=1;function e(t,o){if(t.indexOf)return t.indexOf(o);for(var n=0,u=t.length;n<u;n++)if(o===t[n])return n}return Ya=e,Ya}var Xa,vp;function vb(){if(vp)return Xa;vp=1;function e(t,o){if(t.lastIndexOf)return t.lastIndexOf(o);for(var n=t.length-1;n>=0;n--)if(o===t[n])return n;return-1}return Xa=e,Xa}var Ka,mp;function zo(){if(mp)return Ka;mp=1;var e=Tl(),t=e("number");return Ka=t,Ka}var Za,bp;function hw(){if(bp)return Za;bp=1;var e=zo();function t(o){return e(o)&&isNaN(o)}return Za=t,Za}var Ja,xp;function Jo(){if(xp)return Ja;xp=1;var e=Tl(),t=e("string");return Ja=t,Ja}var Qa,Cp;function Rn(){if(Cp)return Qa;Cp=1;var e=ci(),t=e("Date");return Qa=t,Qa}var ec,wp;function fi(){if(wp)return ec;wp=1;var e=parseInt;return ec=e,ec}var tc,yp;function pw(){if(yp)return tc;yp=1;function e(t){return Date.UTC(t.y,t.M||0,t.d||1,t.H||0,t.m||0,t.s||0,t.S||0)}return tc=e,tc}var rc,Ep;function go(){if(Ep)return rc;Ep=1;function e(t){return t.getTime()}return rc=e,rc}var oc,Rp;function Zr(){if(Rp)return oc;Rp=1;var e=fi(),t=pw(),o=go(),n=Jo(),u=Rn();function c(J){return"(\\d{"+J+"})"}function d(J){return J<10?J*100:J<100?J*10:J}function v(J){return isNaN(J)?J:e(J)}for(var m=c(2),x=c("1,2"),i=c("1,7"),s=c("3,4"),y=".{1}",O=y+x,S="(([zZ])|([-+]\\d{2}:?\\d{2}))",T=[s,O,O,O,O,O,y+i,S],q=[],A=T.length-1;A>=0;A--){for(var _="",V=0;V<A+1;V++)_+=T[V];q.push(new RegExp("^"+_+"$"))}function Y(J){for(var Ce,xe={},ue=0,pe=q.length;ue<pe;ue++)if(Ce=J.match(q[ue]),Ce){xe.y=Ce[1],xe.M=Ce[2],xe.d=Ce[3],xe.H=Ce[4],xe.m=Ce[5],xe.s=Ce[6],xe.S=Ce[7],xe.Z=Ce[8];break}return xe}for(var ee=[["yyyy",s],["yy",m],["MM",m],["M",x],["dd",m],["d",x],["HH",m],["H",x],["mm",m],["m",x],["ss",m],["s",x],["SSS",c(3)],["S",i],["Z",S]],X={},D=["\\[([^\\]]+)\\]"],V=0;V<ee.length;V++){var F=ee[V];X[F[0]]=F[1]+"?",D.push(F[0])}var H=new RegExp(D.join("|"),"g"),j={};function Z(J,Ce){var xe=j[Ce];if(!xe){var ue=[],pe=Ce.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(H,function(ne,oe){var ie=ne.charAt(0);return ie==="["?oe:(ue.push(ie),X[ne])});xe=j[Ce]={_i:ue,_r:new RegExp(pe)}}var Se={},Ee=J.match(xe._r);if(Ee){for(var W=xe._i,de=1,ce=Ee.length;de<ce;de++)Se[W[de-1]]=Ee[de];return Se}return Se}function k(J){if(/^[zZ]/.test(J.Z))return new Date(t(J));var Ce=J.Z.match(/([-+])(\d{2}):?(\d{2})/);return Ce?new Date(t(J)-(Ce[1]==="-"?-1:1)*e(Ce[2])*36e5+e(Ce[3])*6e4):new Date("")}function K(J,Ce){if(J){var xe=u(J);if(xe||!Ce&&/^[0-9]{11,15}$/.test(J))return new Date(xe?o(J):e(J));if(n(J)){var ue=Ce?Z(J,Ce):Y(J);if(ue.y)return ue.M&&(ue.M=v(ue.M)-1),ue.S&&(ue.S=d(v(ue.S.substring(0,3)))),ue.Z?k(ue):new Date(ue.y,ue.M||0,ue.d||1,ue.H||0,ue.m||0,ue.s||0,ue.S||0)}}return new Date("")}return oc=K,oc}var nc,Sp;function ts(){if(Sp)return nc;Sp=1;function e(){return new Date}return nc=e,nc}var lc,Op;function mb(){if(Op)return lc;Op=1;var e=Rn(),t=Zr(),o=ts();function n(u){var c,d=u?t(u):o();return e(d)?(c=d.getFullYear(),c%4===0&&(c%100!==0||c%400===0)):!1}return lc=n,lc}var ic,Dp;function gw(){if(Dp)return ic;Dp=1;var e=or(),t=wo();function o(n,u,c){if(n){if(e(n))for(var d=0,v=n.length;d<v&&u.call(c,n[d],d,n)!==!1;d++);else for(var m in n)if(t(n,m)&&u.call(c,n[m],m,n)===!1)break}}return ic=o,ic}var sc,Mp;function vw(){if(Mp)return sc;Mp=1;var e=or(),t=wo();function o(n,u,c){if(n){var d,v;if(e(n))for(d=n.length-1;d>=0&&u.call(c,n[d],d,n)!==!1;d--);else for(v=t(n),d=v.length-1;d>=0&&u.call(c,n[v[d]],v[d],n)!==!1;d--);}}return sc=o,sc}var ac,Tp;function bb(){if(Tp)return ac;Tp=1;var e=or(),t=Jo(),o=wo();function n(u,c){return function(d,v){if(d){if(d[u])return d[u](v);if(t(d)||e(d))return c(d,v);for(var m in d)if(o(d,m)&&v===d[m])return m}return-1}}return ac=n,ac}var cc,Fp;function mw(){if(Fp)return cc;Fp=1;var e=bb(),t=gb(),o=e("indexOf",t);return cc=o,cc}var uc,Ip;function xb(){if(Ip)return uc;Ip=1;var e=bb(),t=vb(),o=e("lastIndexOf",t);return uc=o,uc}var dc,kp;function Cb(){if(kp)return dc;kp=1;var e=or(),t=Jo(),o=Tr();function n(u){var c=0;return t(u)||e(u)?u.length:(o(u,function(){c++}),c)}return dc=n,dc}var fc,Ap;function bw(){if(Ap)return fc;Ap=1;var e=zo();function t(o){return e(o)&&isFinite(o)}return fc=t,fc}var hc,Lp;function wb(){if(Lp)return hc;Lp=1;var e=or(),t=Ko(),o=function(n){return!t(n)&&!isNaN(n)&&!e(n)&&n%1===0};return hc=o,hc}var pc,Hp;function xw(){if(Hp)return pc;Hp=1;var e=or(),t=wb(),o=Ko();function n(u){return!o(u)&&!isNaN(u)&&!e(u)&&!t(u)}return pc=n,pc}var gc,qp;function yb(){if(qp)return gc;qp=1;var e=Tl(),t=e("boolean");return gc=t,gc}var vc,_p;function sf(){if(_p)return vc;_p=1;var e=ci(),t=e("RegExp");return vc=t,vc}var mc,Np;function Eb(){if(Np)return mc;Np=1;var e=ci(),t=e("Error");return mc=t,mc}var bc,Pp;function Cw(){if(Pp)return bc;Pp=1;function e(t){return t?t.constructor===TypeError:!1}return bc=e,bc}var xc,Bp;function Rb(){if(Bp)return xc;Bp=1;function e(t){for(var o in t)return!1;return!0}return xc=e,xc}var Cc,$p;function Sb(){if($p)return Cc;$p=1;var e=Eo(),t=typeof Symbol!==e;function o(n){return t&&Symbol.isSymbol?Symbol.isSymbol(n):typeof n=="symbol"}return Cc=o,Cc}var wc,zp;function ww(){if(zp)return wc;zp=1;var e=ci(),t=e("Arguments");return wc=t,wc}var yc,Vp;function yw(){if(Vp)return yc;Vp=1;var e=Jo(),t=zo();function o(n){return!!(n&&e(n.nodeName)&&t(n.nodeType))}return yc=o,yc}var Ec,Wp;function af(){if(Wp)return Ec;Wp=1;var e=Eo(),t=typeof document===e?0:document;return Ec=t,Ec}var Rc,Gp;function Ew(){if(Gp)return Rc;Gp=1;var e=af();function t(o){return!!(o&&e&&o.nodeType===9)}return Rc=t,Rc}var Sc,jp;function Ob(){if(jp)return Sc;jp=1;var e=Eo(),t=typeof window===e?0:window;return Sc=t,Sc}var Oc,Up;function Rw(){if(Up)return Oc;Up=1;var e=Ob();function t(o){return!!(e&&(o&&o===o.window))}return Oc=t,Oc}var Dc,Yp;function Sw(){if(Yp)return Dc;Yp=1;var e=Eo(),t=typeof FormData!==e;function o(n){return t&&n instanceof FormData}return Dc=o,Dc}var Mc,Xp;function Ow(){if(Xp)return Mc;Xp=1;var e=Eo(),t=typeof Map!==e;function o(n){return t&&n instanceof Map}return Mc=o,Mc}var Tc,Kp;function Dw(){if(Kp)return Tc;Kp=1;var e=Eo(),t=typeof WeakMap!==e;function o(n){return t&&n instanceof WeakMap}return Tc=o,Tc}var Fc,Zp;function Mw(){if(Zp)return Fc;Zp=1;var e=Eo(),t=typeof Set!==e;function o(n){return t&&n instanceof Set}return Fc=o,Fc}var Ic,Jp;function Tw(){if(Jp)return Ic;Jp=1;var e=Eo(),t=typeof WeakSet!==e;function o(n){return t&&n instanceof WeakSet}return Ic=o,Ic}var kc,Qp;function Db(){if(Qp)return kc;Qp=1;var e=Kr(),t=Jo(),o=or(),n=wo();function u(c){return function(d,v,m){if(d&&e(v)){if(o(d)||t(d))return c(d,v,m);for(var x in d)if(n(d,x)&&v.call(m,d[x],x,d))return x}return-1}}return kc=u,kc}var Ac,eg;function cf(){if(eg)return Ac;eg=1;var e=Db(),t=e(function(o,n,u){for(var c=0,d=o.length;c<d;c++)if(n.call(u,o[c],c,o))return c;return-1});return Ac=t,Ac}var Lc,tg;function Mb(){if(tg)return Lc;tg=1;var e=zo(),t=or(),o=Jo(),n=sf(),u=Rn(),c=yb(),d=$o(),v=Xo(),m=Qm();function x(i,s,y,O,S,T,q){if(i===s)return!0;if(i&&s&&!e(i)&&!e(s)&&!o(i)&&!o(s)){if(n(i))return y(""+i,""+s,S,T,q);if(u(i)||c(i))return y(+i,+s,S,T,q);var A,_,V,Y=t(i),ee=t(s);if(Y||ee?Y&&ee:i.constructor===s.constructor)return _=v(i),V=v(s),O&&(A=O(i,s,S)),_.length===V.length?d(A)?m(_,function(X,D){return X===V[D]&&x(i[X],s[V[D]],y,O,Y||ee?D:X,i,s)}):!!A:!1}return y(i,s,S,T,q)}return Lc=x,Lc}var Hc,rg;function Tb(){if(rg)return Hc;rg=1;function e(t,o){return t===o}return Hc=e,Hc}var qc,og;function Fb(){if(og)return qc;og=1;var e=Mb(),t=Tb();function o(n,u){return e(n,u,t)}return qc=o,qc}var _c,ng;function Fw(){if(ng)return _c;ng=1;var e=Xo(),t=cf(),o=Fb(),n=Jm(),u=eb();function c(d,v){var m=e(d),x=e(v);if(x.length){if(u(m,x))return n(x,function(i){return t(m,function(s){return s===i&&o(d[s],v[i])})>-1})}else return!0;return o(d,v)}return _c=c,_c}var Nc,lg;function Iw(){if(lg)return Nc;lg=1;var e=Mb(),t=Tb(),o=Kr(),n=$o();function u(c,d,v){return o(v)?e(c,d,function(m,x,i,s,y){var O=v(m,x,i,s,y);return n(O)?t(m,x):!!O},v):e(c,d,t)}return Nc=u,Nc}var Pc,ig;function kw(){if(ig)return Pc;ig=1;var e=Sb(),t=Rn(),o=or(),n=sf(),u=Eb(),c=Ko();function d(v){return c(v)?"null":e(v)?"symbol":t(v)?"date":o(v)?"array":n(v)?"regexp":u(v)?"error":typeof v}return Pc=d,Pc}var Bc,sg;function Aw(){if(sg)return Bc;sg=1;var e=Bo(),t=Zo();function o(n){return""+(t(n)?"":n)+e.keyId++}return Bc=o,Bc}var $c,ag;function Lw(){if(ag)return $c;ag=1;var e=Db(),t=e(function(o,n,u){for(var c=o.length-1;c>=0;c--)if(n.call(u,o[c],c,o))return c;return-1});return $c=t,$c}var zc,cg;function Hw(){if(cg)return zc;cg=1;var e=Il(),t=Jo();function o(n){if(e(n))return n;if(t(n))try{return JSON.parse(n)}catch{}return{}}return zc=o,zc}var Vc,ug;function qw(){if(ug)return Vc;ug=1;var e=Zo();function t(o){return e(o)?"":JSON.stringify(o)}return Vc=t,Vc}var Wc,dg;function _w(){if(dg)return Wc;dg=1;var e=ef(),t=e("entries",2);return Wc=t,Wc}var Gc,fg;function Ib(){if(fg)return Gc;fg=1;var e=Kr(),t=or(),o=Tr(),n=cf();function u(c,d){return function(v,m){var x,i,s={},y=[],O=this,S=arguments,T=S.length;if(!e(m)){for(i=1;i<T;i++)x=S[i],y.push.apply(y,t(x)?x:[x]);m=0}return o(v,function(q,A){((m?m.call(O,q,A,v):n(y,function(_){return _===A})>-1)?c:d)&&(s[A]=q)}),s}}return Gc=u,Gc}var jc,hg;function Nw(){if(hg)return jc;hg=1;var e=Ib(),t=e(1,0);return jc=t,jc}var Uc,pg;function Pw(){if(pg)return Uc;pg=1;var e=Ib(),t=e(0,1);return Uc=t,Uc}var Yc,gg;function Bw(){if(gg)return Yc;gg=1;var e=Al();function t(o){return e(o)[0]}return Yc=t,Yc}var Xc,vg;function $w(){if(vg)return Xc;vg=1;var e=Al();function t(o){var n=e(o);return n[n.length-1]}return Xc=t,Xc}var Kc,mg;function zw(){if(mg)return Kc;mg=1;var e=rb(),t=nf(),o=wo();function n(u,c){if(u){if(o(u,c))return!0;var d,v,m,x,i,s,y=t(c),O=0,S=y.length;for(i=u;O<S&&(s=!1,d=y[O],x=d?d.match(e):"",x?(v=x[1],m=x[2],v?i[v]&&o(i[v],m)&&(s=!0,i=i[v][m]):o(i,m)&&(s=!0,i=i[m])):o(i,d)&&(s=!0,i=i[d]),s);O++)if(O===S-1)return!0}return!1}return Kc=n,Kc}var Zc,bg;function Vw(){if(bg)return Zc;bg=1;var e=fi(),t=nf(),o=Zm(),n=wo(),u=/(.+)?\[(\d+)\]$/;function c(m,x,i,s,y){if(m[x])i&&(m[x]=y);else{var O,S,T=x?x.match(u):null;if(i)S=y;else{var q=s?s.match(u):null;q&&!q[1]?S=new Array(e(q[2])+1):S={}}return T?T[1]?(O=e(T[2]),m[T[1]]?i?m[T[1]][O]=S:m[T[1]][O]?S=m[T[1]][O]:m[T[1]][O]=S:(m[T[1]]=new Array(O+1),m[T[1]][O]=S)):m[T[2]]=S:m[x]=S,S}return m[x]}function d(m,x,i){if(m&&o(x)){if((m[x]||n(m,x))&&!v(x))m[x]=i;else for(var s=m,y=t(x),O=y.length,S=0;S<O;S++)if(!v(y[S])){var T=S===O-1;s=c(s,y[S],T,T?null:y[S+1],i)}}return m}function v(m){return m==="__proto__"||m==="constructor"||m==="prototype"}return Zc=d,Zc}var Jc,xg;function kb(){if(xg)return Jc;xg=1;var e=Rb(),t=Qi(),o=Kr(),n=Fl(),u=Tr();function c(v){return function(){return e(v)}}function d(v,m,x){var i,s={};return v&&(m&&t(m)?m=c(m):o(m)||(m=n(m)),u(v,function(y,O){i=m?m.call(x,y,O,v):y,s[i]?s[i].push(y):s[i]=[y]})),s}return Jc=d,Jc}var Qc,Cg;function Ww(){if(Cg)return Qc;Cg=1;var e=kb(),t=ui();function o(n,u,c){var d=e(n,u,c||this);return t(d,function(v,m){d[m]=v.length}),d}return Qc=o,Qc}var eu,wg;function Ab(){if(wg)return eu;wg=1;function e(t,o,n){var u,c,d=[],v=arguments;if(v.length<2&&(o=v[0],t=0),u=t>>0,c=o>>0,u<o)for(n=n>>0||1;u<c;u+=n)d.push(u);return d}return eu=e,eu}var tu,yg;function Gw(){if(yg)return tu;yg=1;var e=Xo(),t=Xn(),o=kl(),n=Nr(),u=yo();function c(d,v){if(d&&v){var m=u.apply(this,[{}].concat(t(arguments,1))),x=e(m);n(e(d),function(i){o(x,i)&&(d[i]=m[i])})}return d}return tu=c,tu}var ru,Eg;function jw(){if(Eg)return ru;Eg=1;var e=sb(),t=e(function(o,n){return o>n});return ru=t,ru}var ou,Rg;function rs(){if(Rg)return ou;Rg=1;function e(t){return(t.split(".")[1]||"").length}return ou=e,ou}var nu,Sg;function hi(){if(Sg)return nu;Sg=1;var e=fi();function t(o,n){if(o.repeat)return o.repeat(n);var u=isNaN(n)?[]:new Array(e(n));return u.join(o)+(u.length>0?o:"")}return nu=t,nu}var lu,Og;function Lb(){if(Og)return lu;Og=1;function e(t,o){return t.substring(0,o)+"."+t.substring(o,t.length)}return lu=e,lu}var iu,Dg;function Sn(){if(Dg)return iu;Dg=1;var e=hi(),t=Lb();function o(n){var u=""+n,c=u.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(c){var d=n<0,v=d?"-":"",m=c[3]||"",x=c[5]||"",i=c[6]||"",s=c[7],y=c[8],O=y-i.length,S=y-m.length,T=y-x.length;return s==="+"?m?v+m+e("0",y):O>0?v+x+i+e("0",O):v+x+t(i,y):m?S>0?v+"0."+e("0",Math.abs(S))+m:v+t(m,S):T>0?v+"0."+e("0",Math.abs(T))+x+i:v+t(x,T)+i}return u}return iu=o,iu}var su,Mg;function Hb(){if(Mg)return su;Mg=1;var e=rs(),t=Sn();function o(n,u){var c=t(n),d=t(u);return parseInt(c.replace(".",""))*parseInt(d.replace(".",""))/Math.pow(10,e(c)+e(d))}return su=o,su}var au,Tg;function uf(){if(Tg)return au;Tg=1;var e=Hb(),t=Yn(),o=Sn();function n(u){return function(c,d){var v=t(c),m=v;if(v){d=d>>0;var x=o(v),i=x.split("."),s=i[0],y=i[1]||"",O=y.substring(0,d+1),S=s+(O?"."+O:"");if(d>=y.length)return t(S);if(S=v,d>0){var T=Math.pow(10,d);m=Math[u](e(S,T))/T}else m=Math[u](S)}return m}}return au=n,au}var cu,Fg;function df(){if(Fg)return cu;Fg=1;var e=uf(),t=e("round");return cu=t,cu}var uu,Ig;function qb(){if(Ig)return uu;Ig=1;var e=uf(),t=e("ceil");return uu=t,uu}var du,kg;function _b(){if(kg)return du;kg=1;var e=uf(),t=e("floor");return du=t,du}var fu,Ag;function Jr(){if(Ag)return fu;Ag=1;var e=Zo(),t=zo(),o=Sn();function n(u){return t(u)?o(u):""+(e(u)?"":u)}return fu=n,fu}var hu,Lg;function ff(){if(Lg)return hu;Lg=1;var e=df(),t=Jr(),o=hi(),n=Lb();function u(c,d){d=d>>0;var v=t(e(c,d)),m=v.split("."),x=m[0],i=m[1]||"",s=d-i.length;return d?s>0?x+"."+i+o("0",s):x+n(i,Math.abs(s)):x}return hu=u,hu}var pu,Hg;function Uw(){if(Hg)return pu;Hg=1;var e=Bo(),t=df(),o=qb(),n=_b(),u=zo(),c=Jr(),d=ff(),v=Sn(),m=yo();function x(i,s){var y=m({},e.commafyOptions,s),O=y.digits,S=u(i),T,q,A,_,V;return S?(T=(y.ceil?o:y.floor?n:t)(i,O),q=v(O?d(T,O):T).split("."),_=q[0],V=q[1],A=_&&T<0,A&&(_=_.substring(1,_.length))):(T=c(i).replace(/,/g,""),q=T?[T]:[],_=q[0]),q.length?(A?"-":"")+_.replace(new RegExp("(?=(?!(\\b))(.{"+(y.spaceNumber||3)+"})+$)","g"),y.separator||",")+(V?"."+V:""):T}return pu=x,pu}var gu,qg;function Yw(){if(qg)return gu;qg=1;var e=fi(),t=lb(),o=t(e);return gu=o,gu}var vu,_g;function hf(){if(_g)return vu;_g=1;var e=Hb(),t=Yn();function o(n,u){var c=t(n),d=t(u);return e(c,d)}return vu=o,vu}var mu,Ng;function Nb(){if(Ng)return mu;Ng=1;var e=rs(),t=Sn(),o=hf();function n(u,c){var d=t(u),v=t(c),m=Math.pow(10,Math.max(e(d),e(v)));return(o(u,m)+o(c,m))/m}return mu=n,mu}var bu,Pg;function Xw(){if(Pg)return bu;Pg=1;var e=Nb(),t=Yn();function o(n,u){return e(t(n),t(u))}return bu=o,bu}var xu,Bg;function Kw(){if(Bg)return xu;Bg=1;var e=rs(),t=Sn(),o=Yn(),n=ff();function u(c,d){var v=o(c),m=o(d),x=t(v),i=t(m),s=e(x),y=e(i),O=Math.pow(10,Math.max(s,y)),S=s>=y?s:y;return parseFloat(n((v*O-m*O)/O,S))}return xu=u,xu}var Cu,$g;function Pb(){if($g)return Cu;$g=1;var e=rs(),t=Sn(),o=hf();function n(u,c){var d=t(u),v=t(c),m=e(d),x=e(v),i=x-m,s=i<0,y=Math.pow(10,s?Math.abs(i):i);return o(d.replace(".","")/v.replace(".",""),s?1/y:y)}return Cu=n,Cu}var wu,zg;function Zw(){if(zg)return wu;zg=1;var e=Pb(),t=Yn();function o(n,u){return e(t(n),t(u))}return wu=o,wu}var yu,Vg;function Bb(){if(Vg)return yu;Vg=1;var e=Nb(),t=Kr(),o=or(),n=Tr(),u=di();function c(d,v,m){var x=0;return n(d&&d.length>2&&o(d)?d.sort():d,v?t(v)?function(){x=e(x,v.apply(m,arguments))}:function(i){x=e(x,u(i,v))}:function(i){x=e(x,i)}),x}return yu=c,yu}var Eu,Wg;function Jw(){if(Wg)return Eu;Wg=1;var e=Pb(),t=Cb(),o=Bb();function n(u,c,d){return e(o(u,c,d),t(u))}return Eu=n,Eu}var Ru,Gg;function pi(){if(Gg)return Ru;Gg=1;var e="first";return Ru=e,Ru}var Su,jg;function os(){if(jg)return Su;jg=1;var e="last";return Su=e,Su}var Ou,Ug;function gi(){if(Ug)return Ou;Ug=1;function e(t){return t.getFullYear()}return Ou=e,Ou}var Du,Yg;function Ll(){if(Yg)return Du;Yg=1;var e=864e5;return Du=e,Du}var Mu,Xg;function ns(){if(Xg)return Mu;Xg=1;function e(t){return t.getMonth()}return Mu=e,Mu}var Tu,Kg;function vo(){if(Kg)return Tu;Kg=1;var e=Rn(),t=go();function o(n){return e(n)&&!isNaN(t(n))}return Tu=o,Tu}var Fu,Zg;function vi(){if(Zg)return Fu;Zg=1;var e=pi(),t=os(),o=Ll(),n=gi(),u=go(),c=ns(),d=Zr(),v=vo(),m=zo();function x(i,s,y){var O=s&&!isNaN(s)?s:0;if(i=d(i),v(i)){if(y===e)return new Date(n(i),c(i)+O,1);if(y===t)return new Date(u(x(i,O+1,e))-1);if(m(y)&&i.setDate(y),O){var S=i.getDate();if(i.setMonth(c(i)+O),S!==i.getDate())return i.setDate(1),new Date(u(i)-o)}}return i}return Fu=x,Fu}var Iu,Jg;function ls(){if(Jg)return Iu;Jg=1;var e=pi(),t=os(),o=gi(),n=vi(),u=Zr(),c=vo();function d(v,m,x){var i;if(v=u(v),c(v)&&(m&&(i=m&&!isNaN(m)?m:0,v.setFullYear(o(v)+i)),x||!isNaN(x))){if(x===e)return new Date(o(v),0,1);if(x===t)return v.setMonth(11),n(v,0,t);v.setMonth(x)}return v}return Iu=d,Iu}var ku,Qg;function Qw(){if(Qg)return ku;Qg=1;var e=vi(),t=Zr(),o=vo();function n(c){var d=c.getMonth();return d<3?1:d<6?2:d<9?3:4}function u(c,d,v){var m,x=d&&!isNaN(d)?d*3:0;return c=t(c),o(c)?(m=(n(c)-1)*3,c.setMonth(m),e(c,x,v)):c}return ku=u,ku}var Au,ev;function $b(){if(ev)return Au;ev=1;var e=pi(),t=os(),o=fi(),n=gi(),u=ns(),c=go(),d=Zr(),v=vo();function m(x,i,s){if(x=d(x),v(x)&&!isNaN(i)){if(x.setDate(x.getDate()+o(i)),s===e)return new Date(n(x),u(x),x.getDate());if(s===t)return new Date(c(m(x,1,e))-1)}return x}return Au=m,Au}var Lu,tv;function zb(){if(tv)return Lu;tv=1;function e(t){return t.toUpperCase()}return Lu=e,Lu}var Hu,rv;function Vb(){if(rv)return Hu;rv=1;var e=Ll(),t=e*7;return Hu=t,Hu}var qu,ov;function Wb(){if(ov)return qu;ov=1;var e=Bo(),t=Ll(),o=Vb(),n=go(),u=Zr(),c=vo(),d=zo();function v(m,x,i,s){if(m=u(m),c(m)){var y=d(i),O=d(s),S=n(m);if(y||O){var T=O?s:e.firstDayOfWeek,q=m.getDay(),A=y?i:q;if(q!==A){var _=0;T>q?_=-(7-T+q):T<q&&(_=T-q),A>T?S+=((A===0?7:A)-T+_)*t:A<T?S+=(7-T+A+_)*t:S+=_*t}}return x&&!isNaN(x)&&(S+=x*o),new Date(S)}return m}return qu=v,qu}var _u,nv;function Gb(){if(nv)return _u;nv=1;var e=Bo(),t=Ll(),o=Vb(),n=zo(),u=kl(),c=Zr(),d=vo(),v=Wb(),m=Ab(),x=En(),i=go(),s=x(m(0,7),function(S){return[(S+1)%7,(S+2)%7,(S+3)%7]});function y(S,T){var q=new Date(S).getDay();return u(s[T],q)}function O(S,T){return function(q,A){var _=n(A)?A:e.firstDayOfWeek,V=c(q);if(d(V)){var Y=v(V,0,_,_),ee=S(Y),X=i(ee),D=i(Y),F=D+t*6,H=new Date(F),j=v(ee,0,_,_),Z=i(j),k;if(D===Z)return 1;if(T(Y,H)){for(k=i(S(H));k<F;k+=t)if(y(k,_))return 1}var K=Z+t*6,J=new Date(F),Ce=1;if(T(j,J)){for(Ce=0,k=X;k<K;k+=t)if(y(k,_)){Ce++;break}}return Math.floor((D-Z)/o)+Ce}return NaN}}return _u=O,_u}var Nu,lv;function jb(){if(lv)return Nu;lv=1;var e=Gb(),t=e(function(o){return new Date(o.getFullYear(),0,1)},function(o,n){return o.getFullYear()!==n.getFullYear()});return Nu=t,Nu}var Pu,iv;function ey(){if(iv)return Pu;iv=1;var e=gi(),t=ns();function o(n){return new Date(e(n),t(n),n.getDate())}return Pu=o,Pu}var Bu,sv;function ty(){if(sv)return Bu;sv=1;var e=go(),t=ey();function o(n){return e(t(n))}return Bu=o,Bu}var $u,av;function Ub(){if(av)return $u;av=1;var e=Ll(),t=pi(),o=ty(),n=ls(),u=Zr(),c=vo();function d(v){return v=u(v),c(v)?Math.floor((o(v)-o(n(v,0,t)))/e)+1:NaN}return $u=d,$u}var zu,cv;function Yb(){if(cv)return zu;cv=1;var e=Jr(),t=$o(),o=hi();function n(u,c,d){var v=e(u);return c=c>>0,d=t(d)?" ":""+d,v.padStart?v.padStart(c,d):c>v.length?(c-=v.length,c>d.length&&(d+=o(d,c/d.length)),d.slice(0,c)+v):v}return zu=n,zu}var Vu,uv;function Xb(){if(uv)return Vu;uv=1;var e=Bo(),t=zb(),o=gi(),n=ns(),u=Zr(),c=jb(),d=Ub(),v=yo(),m=vo(),x=Kr(),i=Yb();function s(S,T,q,A){var _=T[q];return _?x(_)?_(A,q,S):_[A]:A}var y=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function O(S,T,q){if(S){if(S=u(S),m(S)){var A=T||e.parseDateFormat||e.formatString,_=S.getHours(),V=_<12?"am":"pm",Y=v({},e.parseDateRules||e.formatStringMatchs,q?q.formats:null),ee=function(ue,pe){return(""+o(S)).substr(4-pe)},X=function(ue,pe){return i(n(S)+1,pe,"0")},D=function(ue,pe){return i(S.getDate(),pe,"0")},F=function(ue,pe){return i(_,pe,"0")},H=function(ue,pe){return i(_<=12?_:_-12,pe,"0")},j=function(ue,pe){return i(S.getMinutes(),pe,"0")},Z=function(ue,pe){return i(S.getSeconds(),pe,"0")},k=function(ue,pe){return i(S.getMilliseconds(),pe,"0")},K=function(ue,pe){var Se=S.getTimezoneOffset()/60*-1;return s(S,Y,ue,(Se>=0?"+":"-")+i(Se,2,"0")+(pe===1?":":"")+"00")},J=function(ue,pe){return i(s(S,Y,ue,c(S,(q?q.firstDay:null)||e.firstDayOfWeek)),pe,"0")},Ce=function(ue,pe){return i(s(S,Y,ue,d(S)),pe,"0")},xe={yyyy:ee,yy:ee,MM:X,M:X,dd:D,d:D,HH:F,H:F,hh:H,h:H,mm:j,m:j,ss:Z,s:Z,SSS:k,S:k,ZZ:K,Z:K,WW:J,W:J,DDD:Ce,D:Ce,a:function(ue){return s(S,Y,ue,V)},A:function(ue){return s(S,Y,ue,t(V))},e:function(ue){return s(S,Y,ue,S.getDay())},E:function(ue){return s(S,Y,ue,S.getDay())},q:function(ue){return s(S,Y,ue,Math.floor((n(S)+3)/3))}};return A.replace(y,function(ue,pe){return pe||(xe[ue]?xe[ue](ue,ue.length):ue)})}return"Invalid Date"}return""}return Vu=O,Vu}var Wu,dv;function Kb(){if(dv)return Wu;dv=1;var e=go(),t=ts(),o=Date.now||function(){return e(t())};return Wu=o,Wu}var Gu,fv;function ry(){if(fv)return Gu;fv=1;var e=go(),t=Kb(),o=Zr(),n=Rn(),u=function(c,d){if(c){var v=o(c,d);return n(v)?e(v):v}return t()};return Gu=u,Gu}var ju,hv;function oy(){if(hv)return ju;hv=1;var e=Xb();function t(o,n,u){return o&&n?(o=e(o,u),o!=="Invalid Date"&&o===e(n,u)):!1}return ju=t,ju}var Uu,pv;function ny(){if(pv)return Uu;pv=1;var e=Gb(),t=e(function(o){return new Date(o.getFullYear(),o.getMonth(),1)},function(o,n){return o.getMonth()!==n.getMonth()});return Uu=t,Uu}var Yu,gv;function ly(){if(gv)return Yu;gv=1;var e=ls(),t=Zr(),o=vo(),n=mb();function u(c,d){return c=t(c),o(c)?n(e(c,d))?366:365:NaN}return Yu=u,Yu}var Xu,vv;function iy(){if(vv)return Xu;vv=1;var e=Ll(),t=pi(),o=os(),n=go(),u=vi(),c=Zr(),d=vo();function v(m,x){return m=c(m),d(m)?Math.floor((n(u(m,x,o))-n(u(m,x,t)))/e)+1:NaN}return Xu=v,Xu}var Ku,mv;function sy(){if(mv)return Ku;mv=1;var e=go(),t=ts(),o=Zr(),n=vo(),u=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function c(d,v){var m,x,i,s,y,O,S={done:!1,time:0};if(d=o(d),v=v?o(v):t(),n(d)&&n(v)&&(m=e(d),x=e(v),m<x))for(s=S.time=x-m,S.done=!0,O=0,y=u.length;O<y;O++)i=u[O],s>=i[1]?O===y-1?S[i[0]]=s||0:(S[i[0]]=Math.floor(s/i[1]),s-=S[i[0]]*i[1]):S[i[0]]=0;return S}return Ku=c,Ku}var Zu,bv;function ay(){if(bv)return Zu;bv=1;var e=Jr(),t=$o(),o=hi();function n(u,c,d){var v=e(u);return c=c>>0,d=t(d)?" ":""+d,v.padEnd?v.padEnd(c,d):c>v.length?(c-=v.length,c>d.length&&(d+=o(d,c/d.length)),v+d.slice(0,c)):v}return Zu=n,Zu}var Ju,xv;function cy(){if(xv)return Ju;xv=1;var e=Jr(),t=hi();function o(n,u){return t(e(n),u)}return Ju=o,Ju}var Qu,Cv;function Zb(){if(Cv)return Qu;Cv=1;var e=Jr();function t(o){return o&&o.trimRight?o.trimRight():e(o).replace(/[\s\uFEFF\xA0]+$/g,"")}return Qu=t,Qu}var ed,wv;function Jb(){if(wv)return ed;wv=1;var e=Jr();function t(o){return o&&o.trimLeft?o.trimLeft():e(o).replace(/^[\s\uFEFF\xA0]+/g,"")}return ed=t,ed}var td,yv;function Qb(){if(yv)return td;yv=1;var e=Zb(),t=Jb();function o(n){return n&&n.trim?n.trim():e(t(n))}return td=o,td}var rd,Ev;function ex(){if(Ev)return rd;Ev=1;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return rd=e,rd}var od,Rv;function tx(){if(Rv)return od;Rv=1;var e=Jr(),t=Xo();function o(n){var u=new RegExp("(?:"+t(n).join("|")+")","g");return function(c){return e(c).replace(u,function(d){return n[d]})}}return od=o,od}var nd,Sv;function uy(){if(Sv)return nd;Sv=1;var e=ex(),t=tx(),o=t(e);return nd=o,nd}var ld,Ov;function dy(){if(Ov)return ld;Ov=1;var e=ex(),t=tx(),o=Tr(),n={};o(e,function(c,d){n[e[d]]=d});var u=t(n);return ld=u,ld}var id,Dv;function rx(){if(Dv)return id;Dv=1;function e(t,o,n){return t.substring(o,n)}return id=e,id}var sd,Mv;function ox(){if(Mv)return sd;Mv=1;function e(t){return t.toLowerCase()}return sd=e,sd}var ad,Tv;function fy(){if(Tv)return ad;Tv=1;var e=Jr(),t=rx(),o=zb(),n=ox(),u={};function c(d){if(d=e(d),u[d])return u[d];var v=d.length,m=d.replace(/([-]+)/g,function(x,i,s){return s&&s+i.length<v?"-":""});return v=m.length,m=m.replace(/([A-Z]+)/g,function(x,i,s){var y=i.length;return i=n(i),s?y>2&&s+y<v?o(t(i,0,1))+t(i,1,y-1)+o(t(i,y-1,y)):o(t(i,0,1))+t(i,1,y):y>1&&s+y<v?t(i,0,y-1)+o(t(i,y-1,y)):i}).replace(/(-[a-zA-Z])/g,function(x,i){return o(t(i,1,i.length))}),u[d]=m,m}return ad=c,ad}var cd,Fv;function hy(){if(Fv)return cd;Fv=1;var e=Jr(),t=rx(),o=ox(),n={};function u(c){if(c=e(c),n[c])return n[c];if(/^[A-Z]+$/.test(c))return o(c);var d=c.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(v,m,x,i){var s=x.length;return s>1?m+"-"+o(t(x,0,s-1))+"-"+o(t(x,s-1,s))+i:o(m+"-"+x+i)}).replace(/^([A-Z]+)([a-z]+)?$/,function(v,m,x){var i=m.length;return o(t(m,0,i-1)+"-"+t(m,i-1,i)+(x||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(v,m,x,i,s){var y=x.length;return y>1&&(m&&(m+="-"),i)?(m||"")+o(t(x,0,y-1))+"-"+o(t(x,y-1,y))+i:(m||"")+(s?"-":"")+o(x)+(i||"")});return d=d.replace(/([-]+)/g,function(v,m,x){return x&&x+m.length<d.length?"-":""}),n[c]=d,d}return cd=u,cd}var ud,Iv;function py(){if(Iv)return ud;Iv=1;var e=Jr();function t(o,n,u){var c=e(o);return(arguments.length===1?c:c.substring(u)).indexOf(n)===0}return ud=t,ud}var dd,kv;function gy(){if(kv)return dd;kv=1;var e=Jr();function t(o,n,u){var c=e(o),d=arguments.length;return d>1&&(d>2?c.substring(0,u).indexOf(n)===u-1:c.indexOf(n)===c.length-1)}return dd=t,dd}var fd,Av;function nx(){if(Av)return fd;Av=1;var e=Bo(),t=Jr(),o=Qb(),n=di();function u(c,d,v){return t(c).replace((v||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(m,x){return n(d,o(x))})}return fd=u,fd}var hd,Lv;function vy(){if(Lv)return hd;Lv=1;var e=nx();function t(o,n){return e(o,n,{tmplRE:/\{([.\w[\]\s]+)\}/g})}return hd=t,hd}var pd,Hv;function my(){if(Hv)return pd;Hv=1;function e(){}return pd=e,pd}var gd,qv;function by(){if(qv)return gd;qv=1;var e=Xn();function t(o,n){var u=e(arguments,2);return function(){return o.apply(n,e(arguments).concat(u))}}return gd=t,gd}var vd,_v;function xy(){if(_v)return vd;_v=1;var e=Xn();function t(o,n){var u=!1,c=null,d=e(arguments,2);return function(){return u||(c=o.apply(n,e(arguments).concat(d)),u=!0),c}}return vd=t,vd}var md,Nv;function Cy(){if(Nv)return md;Nv=1;var e=Xn();function t(o,n,u){var c=0,d=[];return function(){var v=arguments;c++,c<=o&&d.push(v[0]),c>=o&&n.apply(u,[d].concat(e(v)))}}return md=t,md}var bd,Pv;function wy(){if(Pv)return bd;Pv=1;var e=Xn();function t(o,n,u){var c=0,d=[];return u=u||this,function(){var v=arguments;c++,c<o&&(d.push(v[0]),n.apply(u,[d].concat(e(v))))}}return bd=t,bd}var xd,Bv;function yy(){if(Bv)return xd;Bv=1;function e(t,o,n){var u=null,c=null,d=n||{},v=!1,m=null,x="leading"in d?d.leading:!0,i="trailing"in d?d.trailing:!1,s=function(){u=null,c=null},y=function(){v=!0,t.apply(c,u),m=setTimeout(O,o),s()},O=function(){m=null,!v&&i===!0&&y()},S=function(){var q=m!==null;return q&&clearTimeout(m),s(),m=null,v=!1,q},T=function(){u=arguments,c=this,v=!1,m===null&&(x===!0?y():i===!0&&(m=setTimeout(O,o)))};return T.cancel=S,T}return xd=e,xd}var Cd,$v;function Ey(){if($v)return Cd;$v=1;function e(t,o,n){var u=null,c=null,d=n||{},v=!1,m=null,x=typeof n=="boolean",i="leading"in d?d.leading:x,s="trailing"in d?d.trailing:!x,y=function(){u=null,c=null},O=function(){v=!0,t.apply(c,u),y()},S=function(){i===!0&&(m=null),!v&&s===!0&&O()},T=function(){var A=m!==null;return A&&clearTimeout(m),y(),m=null,v=!1,A},q=function(){v=!1,u=arguments,c=this,m===null?i===!0&&O():clearTimeout(m),m=setTimeout(S,o)};return q.cancel=T,q}return Cd=e,Cd}var wd,zv;function Ry(){if(zv)return wd;zv=1;var e=Xn();function t(o,n){var u=e(arguments,2),c=this;return setTimeout(function(){o.apply(c,u)},n)}return wd=t,wd}var yd,Vv;function lx(){if(Vv)return yd;Vv=1;var e=decodeURIComponent;return yd=e,yd}var Ed,Wv;function ix(){if(Wv)return Ed;Wv=1;var e=lx(),t=Nr(),o=Jo();function n(u){var c,d={};return u&&o(u)&&t(u.split("&"),function(v){c=v.split("="),d[e(c[0])]=e(c[1]||"")}),d}return Ed=n,Ed}var Rd,Gv;function sx(){if(Gv)return Rd;Gv=1;var e=encodeURIComponent;return Rd=e,Rd}var Sd,jv;function Sy(){if(jv)return Sd;jv=1;var e=sx(),t=Tr(),o=or(),n=Ko(),u=$o(),c=Il();function d(m,x,i){var s,y=[];return t(m,function(O,S){s=o(O),c(O)||s?y=y.concat(d(O,x+"["+S+"]",s)):y.push(e(x+"["+(i?"":S)+"]")+"="+e(n(O)?"":O))}),y}function v(m){var x,i=[];return t(m,function(s,y){u(s)||(x=o(s),c(s)||x?i=i.concat(d(s,y,x)):i.push(e(y)+"="+e(n(s)?"":s)))}),i.join("&").replace(/%20/g,"+")}return Sd=v,Sd}var Od,Uv;function is(){if(Uv)return Od;Uv=1;var e=Eo(),t=typeof location===e?0:location;return Od=t,Od}var Dd,Yv;function ax(){if(Yv)return Dd;Yv=1;var e=is();function t(){return e?e.origin||e.protocol+"//"+e.host:""}return Dd=t,Dd}var Md,Xv;function cx(){if(Xv)return Md;Xv=1;var e=is(),t=ix(),o=ax();function n(c){return t(c.split("?")[1]||"")}function u(c){var d,v,m,x,i=""+c;return i.indexOf("//")===0?i=(e?e.protocol:"")+i:i.indexOf("/")===0&&(i=o()+i),m=i.replace(/#.*/,"").match(/(\?.*)/),x={href:i,hash:"",host:"",hostname:"",protocol:"",port:"",search:m&&m[1]&&m[1].length>1?m[1]:""},x.path=i.replace(/^([a-z0-9.+-]*:)\/\//,function(s,y){return x.protocol=y,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(s,y,O){return v=O||"",x.port=v.replace(":",""),x.hostname=y,x.host=y+v,"/"}).replace(/(#.*)/,function(s,y){return x.hash=y.length>1?y:"",""}),d=x.hash.match(/#((.*)\?|(.*))/),x.pathname=x.path.replace(/(\?|#.*).*/,""),x.origin=x.protocol+"//"+x.host,x.hashKey=d&&(d[2]||d[1])||"",x.hashQuery=n(x.hash),x.searchQuery=n(x.search),x}return Md=u,Md}var Td,Kv;function Oy(){if(Kv)return Td;Kv=1;var e=is(),t=ax(),o=xb();function n(){if(e){var u=e.pathname,c=o(u,"/")+1;return t()+(c===u.length?u:u.substring(0,c))}return""}return Td=n,Td}var Fd,Zv;function Dy(){if(Zv)return Fd;Zv=1;var e=is(),t=cx();function o(){return e?t(e.href):{}}return Fd=o,Fd}var Id,Jv;function My(){if(Jv)return Id;Jv=1;var e=Bo(),t=af(),o=lx(),n=sx(),u=or(),c=Qi(),d=Rn(),v=$o(),m=kl(),x=Xo(),i=yo(),s=Nr(),y=ts(),O=go(),S=ls(),T=vi(),q=$b();function A(j,Z){var k=parseFloat(Z),K=y(),J=O(K);switch(j){case"y":return O(S(K,k));case"M":return O(T(K,k));case"d":return O(q(K,k));case"h":case"H":return J+k*60*60*1e3;case"m":return J+k*60*1e3;case"s":return J+k*1e3}return J}function _(j){return(d(j)?j:new Date(j)).toUTCString()}function V(j,Z,k){if(t){var K,J,Ce,xe,ue,pe,Se=[],Ee=arguments;return u(j)?Se=j:Ee.length>1?Se=[i({name:j,value:Z},k)]:c(j)&&(Se=[j]),Se.length>0?(s(Se,function(W){K=i({},e.cookies,W),Ce=[],K.name&&(J=K.expires,Ce.push(n(K.name)+"="+n(c(K.value)?JSON.stringify(K.value):K.value)),J&&(isNaN(J)?J=J.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(de,ce,ne){return _(A(ne,ce))}):/^[0-9]{11,13}$/.test(J)||d(J)?J=_(J):J=_(A("d",J)),K.expires=J),s(["expires","path","domain","secure"],function(de){v(K[de])||Ce.push(K[de]&&de==="secure"?de:de+"="+K[de])})),t.cookie=Ce.join("; ")}),!0):(xe={},ue=t.cookie,ue&&s(ue.split("; "),function(W){pe=W.indexOf("="),xe[o(W.substring(0,pe))]=o(W.substring(pe+1)||"")}),Ee.length===1?xe[j]:xe)}return!1}function Y(j){return m(F(),j)}function ee(j){return V(j)}function X(j,Z,k){return V(j,Z,k),V}function D(j,Z){V(j,"",i({expires:-1},e.cookies,Z))}function F(){return x(V())}function H(){return V()}return i(V,{has:Y,set:X,setItem:X,get:ee,getItem:ee,remove:D,removeItem:D,keys:F,getJSON:H}),Id=V,Id}var kd,Qv;function Ty(){if(Qv)return kd;Qv=1;var e=Eo(),t=af(),o=Ob(),n=yo(),u=Nr();function c(m){try{var x="__xe_t";return m.setItem(x,1),m.removeItem(x),!0}catch{return!1}}function d(m){return navigator.userAgent.indexOf(m)>-1}function v(){var m,x,i,s=!1,y=!1,O=!1,S={isNode:!1,isMobile:s,isPC:!1,isDoc:!!t};if(!o&&typeof process!==e)S.isNode=!0;else{i=d("Edge"),x=d("Chrome"),s=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),S.isDoc&&(m=t.body||t.documentElement,u(["webkit","khtml","moz","ms","o"],function(T){S["-"+T]=!!m[T+"MatchesSelector"]}));try{y=c(o.localStorage)}catch{}try{O=c(o.sessionStorage)}catch{}n(S,{edge:i,firefox:d("Firefox"),msie:!i&&S["-ms"],safari:!x&&!i&&d("Safari"),isMobile:s,isPC:!s,isLocalStorage:y,isSessionStorage:O})}return S}return kd=v,kd}var Ad,em;function Fy(){if(em)return Ad;em=1;var e=WC(),t=yo(),o=ui(),n=Km(),u=GC(),c=jC(),d=En(),v=Jm(),m=Qm(),x=eb(),i=Nr(),s=rf(),y=tb(),O=UC(),S=of(),T=YC(),q=lf(),A=nb(),_=XC(),V=Xn(),Y=KC(),ee=ZC(),X=kl(),D=JC(),F=QC(),H=ew(),j=tw(),Z=rw(),k=ow(),K=cb(),J=nw(),Ce=lw(),xe=ib(),ue=iw(),pe=sw(),Se=aw(),Ee=cw(),W=pb(),de=uw(),ce=dw(),ne=fw(),oe=gb(),ie=vb(),we=wo(),se=or(),Oe=Ko(),fe=hw(),he=$o(),Te=Kr(),me=Qi(),le=Jo(),Fe=Il(),Re=mb(),Ye=Rn(),Ve=Zo(),je=Tr(),Le=gw(),lt=vw(),yt=mw(),mt=xb(),ct=Xo(),at=Al(),vt=tf(),Ze=Cb(),Pe=db(),Ue=hb(),ut=fb(),Ae=bw(),Me=xw(),He=wb(),ht=yb(),et=zo(),ae=sf(),be=Eb(),re=Cw(),Ie=Rb(),Be=Sb(),tt=ww(),it=yw(),bt=Ew(),dt=Rw(),Lt=Sw(),Tt=Ow(),$e=Dw(),Bt=Mw(),Pt=Tw(),Gt=Fw(),Xt=Fb(),jt=Iw(),ar=kw(),St=Aw(),Zt=cf(),Qe=Lw(),Ht=Hw(),dr=qw(),Ft=_w(),cr=Nw(),kt=Pw(),lr=Bw(),gr=$w(),zt=zw(),Qt=di(),Rr=Vw(),vr=kb(),ir=Ww(),wr=Ab(),Ct=Gw(),st=ob(),fr=ab(),io=jw(),so=Uw(),yr=df(),Qo=qb(),Kn=_b(),en=ff(),Zn=Yw(),Jn=Yn(),Hl=Sn(),ql=Xw(),_l=Kw(),Qn=hf(),el=Zw(),h=Bb(),tl=Jw(),tn=ls(),rn=Qw(),Ro=vi(),on=$b(),nn=Zr(),Pr=Xb(),ln=Kb(),On=ry(),Vo=vo(),Dn=oy(),So=Wb(),rl=Ub(),Nl=jb(),Br=ny(),Mn=ly(),Oo=iy(),sn=sy(),Do=ay(),ao=Yb(),Wo=cy(),ol=Qb(),an=Zb(),cn=Jb(),Tn=uy(),$r=dy(),un=fy(),Fn=hy(),_r=py(),Qr=gy(),co=nx(),qt=vy(),zr=Jr(),dn=my(),fn=Fl(),Pl=by(),In=xy(),Bl=Cy(),$l=wy(),Vr=yy(),eo=Ey(),Hr=Ry(),hn=ix(),It=Sy(),Sr=cx(),Wr=Oy(),xi=Dy(),Ci=My(),wi=Ty();return t(e,{assign:t,objectEach:o,lastObjectEach:n,objectMap:u,merge:c,uniq:y,union:O,sortBy:T,orderBy:q,shuffle:A,sample:_,some:v,every:m,slice:V,filter:Y,find:D,findLast:F,findKey:ee,includes:X,arrayIndexOf:oe,arrayLastIndexOf:ie,map:d,reduce:H,copyWithin:j,chunk:Z,zip:k,unzip:K,zipObject:J,flatten:Ce,toArray:S,includeArrays:x,pluck:xe,invoke:ue,arrayEach:i,lastArrayEach:s,toArrayTree:pe,toTreeArray:Se,findTree:Ee,eachTree:W,mapTree:de,filterTree:ce,searchTree:ne,hasOwnProp:we,eqNull:Ve,isNaN:fe,isFinite:Ae,isUndefined:he,isArray:se,isFloat:Me,isInteger:He,isFunction:Te,isBoolean:ht,isString:le,isNumber:et,isRegExp:ae,isObject:me,isPlainObject:Fe,isDate:Ye,isError:be,isTypeError:re,isEmpty:Ie,isNull:Oe,isSymbol:Be,isArguments:tt,isElement:it,isDocument:bt,isWindow:dt,isFormData:Lt,isMap:Tt,isWeakMap:$e,isSet:Bt,isWeakSet:Pt,isLeapYear:Re,isMatch:Gt,isEqual:Xt,isEqualWith:jt,getType:ar,uniqueId:St,getSize:Ze,indexOf:yt,lastIndexOf:mt,findIndexOf:Zt,findLastIndexOf:Qe,toStringJSON:Ht,toJSONString:dr,keys:ct,values:at,entries:Ft,pick:cr,omit:kt,first:lr,last:gr,each:je,forOf:Le,lastForOf:lt,lastEach:Pe,has:zt,get:Qt,set:Rr,groupBy:vr,countBy:ir,clone:vt,clear:ut,remove:Ue,range:wr,destructuring:Ct,random:st,min:io,max:fr,commafy:so,round:yr,ceil:Qo,floor:Kn,toFixed:en,toNumber:Jn,toNumberString:Hl,toInteger:Zn,add:ql,subtract:_l,multiply:Qn,divide:el,sum:h,mean:tl,now:ln,timestamp:On,isValidDate:Vo,isDateSame:Dn,toStringDate:nn,toDateString:Pr,getWhatYear:tn,getWhatQuarter:rn,getWhatMonth:Ro,getWhatWeek:So,getWhatDay:on,getYearDay:rl,getYearWeek:Nl,getMonthWeek:Br,getDayOfYear:Mn,getDayOfMonth:Oo,getDateDiff:sn,trim:ol,trimLeft:cn,trimRight:an,escape:Tn,unescape:$r,camelCase:un,kebabCase:Fn,repeat:Wo,padStart:ao,padEnd:Do,startsWith:_r,endsWith:Qr,template:co,toFormatString:qt,toString:zr,toValueString:zr,noop:dn,property:fn,bind:Pl,once:In,after:Bl,before:$l,throttle:Vr,debounce:eo,delay:Hr,unserialize:hn,serialize:It,parseUrl:Sr,getBaseURL:Wr,locat:xi,browse:wi,cookie:Ci}),Ad=e,Ad}var Iy=Fy();const f=NC(Iy);var Rl=null,Ld=null,gn=null,tm="z-index-manage",qn=null,rm="z-index-style",ux="m",dx="s",si={m:1e3,s:1e3};function pf(){return Rl||typeof document<"u"&&(Rl=document),Rl}function fx(){return Rl&&!Ld&&(Ld=Rl.body||Rl.getElementsByTagName("body")[0]),Ld}function ky(){var e=0,t=pf();if(t){var o=fx();if(o)for(var n=o.getElementsByTagName("*"),u=0;u<n.length;u++){var c=n[u];if(c&&c.style&&c.nodeType===1){var d=c.style.zIndex;d&&/^\d+$/.test(d)&&(e=Math.max(e,Number(d)))}}}return e}function Ay(){if(!qn){var e=pf();e&&(qn=e.getElementById(rm),qn||(qn=e.createElement("style"),qn.id=rm,e.getElementsByTagName("head")[0].appendChild(qn)))}return qn}function hx(){var e=Ay();if(e){var t="--dom-",o="-z-index";e.innerHTML=":root{"+t+"main"+o+":"+ss()+";"+t+"sub"+o+":"+mf()+"}"}}function px(){if(!gn){var e=pf();if(e&&(gn=e.getElementById(tm),!gn)){var t=fx();t&&(gn=e.createElement("div"),gn.id=tm,gn.style.display="none",t.appendChild(gn),gf(si.m),vf(si.s))}}return gn}function gx(e){return function(t){if(t){t=Number(t),si[e]=t;var o=px();o&&(o.dataset?o.dataset[e]=t+"":o.setAttribute("data-"+e,t+""))}return hx(),si[e]}}var gf=gx(ux);function vx(e,t){return function(n){var u,c=px();if(c){var d=c.dataset?c.dataset[e]:c.getAttribute("data-"+e);d&&(u=Number(d))}return u||(u=si[e]),n?Number(n)<u?t():n:u}}var ss=vx(ux,mx);function mx(){return gf(ss()+1)}var vf=gx(dx),bx=vx(dx,xx);function mf(){return ss()+bx()}function xx(){return vf(bx()+1),mf()}var bf={setCurrent:gf,getCurrent:ss,getNext:mx,setSubCurrent:vf,getSubCurrent:mf,getSubNext:xx,getMax:ky};hx();const Ml={size:"",version:1,zIndex:999,resizeInterval:500},Cx={theme:""};function xf(e){const t=!e||e==="default"?"light":e;if(Cx.theme=t,typeof document<"u"){const o=document.documentElement;o&&o.setAttribute("data-vxe-ui-theme",t)}return Un}function Ly(){return Cx.theme}function Hy(e){return e&&(e.zIndex&&bf.setCurrent(e.zIndex),e.theme&&xf(e.theme),f.merge(Ml,e)),Un}function qy(e,t){return arguments.length?f.get(Ml,e,t):Ml}const _y={},jd={};function Ny(e){return e&&Object.assign(jd,e),Un}function Py(e){return arguments.length?f.get(jd,e):jd}const Pn={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},Ud=f.browse(),om={" ":"Spacebar",Apps:Pn.CONTEXT_MENU,Del:Pn.DELETE,Up:Pn.ARROW_UP,Down:Pn.ARROW_DOWN,Left:Pn.ARROW_LEFT,Right:Pn.ARROW_RIGHT},wx=Ud.firefox?"DOMMouseScroll":"mousewheel",Yd=[];function jo(e){const t=e.type===wx;Yd.forEach(({type:o,cb:n})=>{e.cancelBubble||(o===e.type||t&&o==="mousewheel")&&n(e)})}class By{constructor(t,o,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=t,t&&(t.type&&(this.type=t.type),t.key&&(this.key=t.key),t.code&&(this.code=t.code)),Object.assign(this,o),f.objectEach(n,(u,c)=>{if(f.isFunction(u)){let d=null,v=!1;Object.defineProperty(this,c,{get(){return v||(v=!0,d=u()),d}})}else this[c]=u})}stopPropagation(){const t=this.$event;t&&t.stopPropagation()}preventDefault(){const t=this.$event;t&&t.preventDefault()}}const $y=(e,t,o)=>new By(e,t,o),zy={on(e,t,o){Yd.push({comp:e,type:t,cb:o})},off(e,t){f.remove(Yd,o=>o.comp===e&&o.type===t)},hasKey(e,t){const{key:o}=e;return t=t.toLowerCase(),o?t===o.toLowerCase()||!!(om[o]&&om[o].toLowerCase()===t):!1}};Ud.isDoc&&(Ud.msie||(window.addEventListener("copy",jo,!1),window.addEventListener("cut",jo,!1),window.addEventListener("paste",jo,!1)),document.addEventListener("keydown",jo,!1),document.addEventListener("contextmenu",jo,!1),window.addEventListener("mousedown",jo,!1),window.addEventListener("blur",jo,!1),window.addEventListener("resize",jo,!1),window.addEventListener(wx,f.throttle(jo,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let nm;const $n=[],Vy=500;function Wy(){$n.length&&($n.forEach(e=>{e.tarList.forEach(t=>{const{target:o,width:n,heighe:u}=t,c=o.clientWidth,d=o.clientHeight;(c&&n!==c||d&&u!==d)&&(t.width=c,t.heighe=d,setTimeout(e.callback))})}),yx())}function yx(){clearTimeout(nm),nm=setTimeout(Wy,Ml.resizeInterval||Vy)}class Gy{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:o}=this;o.some(n=>n.target===t)||o.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),$n.length||yx(),$n.some(n=>n===this)||$n.push(this)}}unobserve(t){f.remove($n,o=>o.tarList.some(n=>n.target===t))}disconnect(){f.remove($n,t=>t===this)}}const jy={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new Gy(e)}},mi=Co({language:"",langMaps:{}});let lm=!1;function Ex(e,t){const{langMaps:o,language:n}=mi,{i18n:u}=Ml;return u?`${u(e,t)||""}`:(lm||(o[n]||console.error(`[vxe core] 语言包未安装。Language not installed. https://${Un.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),lm=!0),f.toFormatString(f.get(o[n],e,e),t))}function Uy(e){return mi.language=e||"zh-CN",Un}function Yy(e,t){return mi.langMaps[e]=Object.assign({},t),Un}function Xy(e){const{langMaps:t}=mi;return!!t[e]}function Ky(){const{language:e}=mi;return e}function Hd(e,t){return function(o,n){const u=`[vxe ${t||""}] ${Ex(o,n)}`;return console[e](u),u}}const im="4.1.0",Zy={create:Hd,warn:Hd("warn",`v${im}`),err:Hd("error",`v${im}`)},Yl={},xl={mixin(e){return f.each(e,(t,o)=>xl.add(o,t)),xl},get(e){return Yl[e]||null},add(e,t){if(e&&t){const o=Yl[e];o?Object.assign(o,t):Yl[e]=t}return xl},forEach(e){return f.objectEach(Yl,e),xl},delete(e){return delete Yl[e],xl}};class Rx{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];return this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const Jy=new Rx;class Qy{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];return f.isFunction(o)&&(o={menuMethod:o}),this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const eE=new Qy;class tE{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];return f.isFunction(o)&&(o={cellFormatMethod:o}),this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const rE=new tE;class oE{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];return f.isFunction(o)&&(o={commandMethod:o}),this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const nE=new oE,Xl={},zi={mixin(e){return f.each(e,(t,o)=>{zi.add(o,t)}),zi},get(e){return Xl[e]||[]},add(e,t){f.isFunction(t)&&(t={tableInterceptorMethod:t});const o=t.tableInterceptorMethod;if(o){let n=Xl[e];n||(n=Xl[e]=[]),n.push(o)}return zi},delete(e,t){const o=Xl[e];if(o){f.isFunction(t)&&(t={tableInterceptorMethod:t});const n=t?t.tableInterceptorMethod:null;n?f.remove(o,u=>u===n):delete Xl[e]}}};let Lo;const Kl={text:"",html:""};function lE(e){if(!Lo){Lo=document.createElement("textarea"),Lo.id="$VxeCopy";const t=Lo.style;t.width="48px",t.height="24px",t.position="fixed",t.zIndex="0",t.left="-500px",t.top="-500px",document.body.appendChild(Lo)}Lo.value=e}const iE={getStore(){return Kl},setStore(e){Object.assign(Kl,e||{})},copy(e){let t=!1;try{const o=f.toValueString(e);lE(o),Lo.select(),Lo.setSelectionRange(0,Lo.value.length),t=document.execCommand("copy"),Lo.blur(),Kl.text=o,Kl.html=""}catch{}return t},getText(){return Kl.text||""}};function Vi(e,t){let o=!0,n=!1;const u=t||Ml.permissionMethod;if(e&&u){o=!1,n=!0;let d=!1,v=!1;const m=String(e).split("|");for(let x=0;x<m.length;x++){const i=m[x];let s=!0,y=!1;const O=u({code:i});if(f.isBoolean(O)?s=O:O&&(s=!!O.visible,y=!!O.disabled),!y&&!v&&(v=!0,n=y),s&&!d&&(d=!0,o=s),d&&v)break}}return{code:e,visible:o,disabled:n}}const sE={getCheckInfo(e){return Vi(e)},checkVisible(e){return Vi(e).visible},checkDisable(e){return Vi(e).disabled}},aE=new Rx;function cE(e){const t=Lr("xeSizeInfo",null),o=Ne(()=>e.size||(t?t.value:null));return yn("xeSizeInfo",o),{computeSize:o}}function uE(e){return{computePermissionInfo:Ne(()=>Vi(e.permissionCode,e.permissionMethod))}}const dE={useSize:cE,usePermission:uE},sm=[];function fE(e,t){return e&&e.install&&sm.indexOf(e)===-1&&(e.install(ve,t),sm.push(e)),ve}const Xd={};function hE(e){return Xd[e]||null}function pE(e){e&&e.name&&(Xd[e.name]=e,Xd[f.kebabCase(e.name)]=e)}function gE(){return rt()}const ve=Object.assign(Un,{renderEmptyElement:gE,setTheme:xf,getTheme:Ly,setConfig:Hy,getConfig:qy,setIcon:Ny,getIcon:Py,setLanguage:Uy,hasLanguage:Xy,getLanguage:Ky,setI18n:Yy,getI18n:Ex,globalEvents:zy,GLOBAL_EVENT_KEYS:Pn,createEvent:$y,globalResize:jy,renderer:xl,validators:Jy,menus:eE,formats:rE,commands:nE,interceptor:zi,clipboard:iE,log:Zy,permission:sE,globalStore:_y,hooks:aE,component:pE,getComponent:hE,useFns:dE,use:fE});xf();function xt(e){return e&&e.enabled!==!1}function Cf(e){return e==null||e===""}function Sx(e){const t=e.name,o=f.lastIndexOf(t,"."),n=t.substring(o+1,t.length).toLowerCase();return{filename:t.substring(0,o),type:n}}function Ox(){return bf.getNext()}function Dx(){return bf.getCurrent()}function yl(e){return e&&e.children&&e.children.length>0}function Po(e,t){if(e){const o=ve.getConfig().translate;return f.toValueString(o?o(""+e,t):e)}return""}function Cr(e,t){return""+(Cf(e)?t?ve.getConfig().emptyCell:"":e)}function _o(e){return e===""||f.eqNull(e)}const wf="4.13.13";ve.version=wf;ve.tableVersion=wf;ve.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},rowGroupConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{enabled:!0,gt:24,preSize:1,oSize:0},virtualYConfig:{enabled:!0,gt:100,preSize:1,oSize:0},scrollbarConfig:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const At="vxe-table-icon-";ve.setIcon({TABLE_SORT_ASC:At+"caret-up",TABLE_SORT_DESC:At+"caret-down",TABLE_FILTER_NONE:At+"funnel",TABLE_FILTER_MATCH:At+"funnel",TABLE_EDIT:At+"edit",TABLE_TITLE_PREFIX:At+"question-circle-fill",TABLE_TITLE_SUFFIX:At+"question-circle-fill",TABLE_TREE_LOADED:At+"spinner roll",TABLE_TREE_OPEN:At+"caret-right rotate90",TABLE_TREE_CLOSE:At+"caret-right",TABLE_EXPAND_LOADED:At+"spinner roll",TABLE_EXPAND_OPEN:At+"arrow-right rotate90",TABLE_EXPAND_CLOSE:At+"arrow-right",TABLE_CHECKBOX_CHECKED:At+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:At+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:At+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:At+"radio-checked-fill",TABLE_RADIO_UNCHECKED:At+"radio-unchecked",TABLE_CUSTOM_SORT:At+"drag-handle",TABLE_MENU_OPTIONS:At+"arrow-right",TABLE_DRAG_ROW:At+"drag-handle",TABLE_DRAG_COLUMN:At+"drag-handle",TABLE_DRAG_STATUS_ROW:At+"sort",TABLE_DRAG_STATUS_SUB_ROW:At+"add-sub",TABLE_DRAG_STATUS_COLUMN:At+"swap",TABLE_DRAG_DISABLED:At+"no-drop",TABLE_ROW_GROUP_OPEN:At+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:At+"arrow-right",TOOLBAR_TOOLS_REFRESH:At+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:At+"repeat roll",TOOLBAR_TOOLS_IMPORT:At+"upload",TOOLBAR_TOOLS_EXPORT:At+"download",TOOLBAR_TOOLS_PRINT:At+"print",TOOLBAR_TOOLS_FULLSCREEN:At+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:At+"minimize",TOOLBAR_TOOLS_CUSTOM:At+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:At+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:At+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:At+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:At+"fixed-right-fill"});const vE=ve.setTheme,mE=ve.getTheme,bE=ve.setConfig,xE=ve.getConfig,CE=ve.setIcon,wE=ve.getIcon,yE=ve.setLanguage,EE=ve.setI18n,RE=ve.getI18n,SE=ve.globalEvents,OE=ve.globalResize,DE=ve.renderer,ME=ve.validators,TE=ve.menus,FE=ve.formats,IE=ve.commands,kE=ve.interceptor,AE=ve.clipboard,LE=ve.log,HE=ve.hooks,qE=ve.use,Mx=e=>ve.setConfig(e);ve.setup=Mx;const Tx=e=>ve.setConfig(e);ve.config=Tx;const Fx=(e,t)=>ve.getI18n(e,t);ve.t=Fx;const Ix=(e,t)=>Po(e,t);ve._t=Ix;const _E=ve,NE=e=>ve.saveFile(e),PE=e=>ve.readFile(e),BE=e=>ve.print(e),$E={get(e){return ve.modal.get(e)},close(e){return ve.modal.close(e)},open(e){return ve.modal.open(e)},alert(e,t,o){return ve.modal.alert(e,t,o)},confirm(e,t,o){return ve.modal.confirm(e,t,o)},message(e,t){return ve.modal.message(e,t)},notification(e,t,o){return ve.modal.notification(e,t,o)}},{log:kx}=ve,Ax="table v4.13.13",wt=kx.create("warn",Ax),Ke=kx.create("error",Ax),{getI18n:zE,formats:am}=ve;class Kd{constructor(t,o,{renderHeader:n,renderCell:u,renderFooter:c,renderData:d}={}){const v=t.props,m=t.xeGrid,x=o.formatter,i=f.isBoolean(o.visible)?o.visible:!0,s=["seq","checkbox","radio","expand","html"];if(o.type&&s.indexOf(o.type)===-1&&wt("vxe.error.errProp",[`type=${o.type}`,s.join(", ")]),(f.isBoolean(o.cellRender)||o.cellRender&&!f.isObject(o.cellRender))&&wt("vxe.error.errProp",[`column.cell-render=${o.cellRender}`,"column.cell-render={}"]),(f.isBoolean(o.editRender)||o.editRender&&!f.isObject(o.editRender))&&wt("vxe.error.errProp",[`column.edit-render=${o.editRender}`,"column.edit-render={}"]),o.type==="expand"){const{treeConfig:y}=v,{computeTreeOpts:O}=t.getComputeMaps(),S=O.value;y&&(S.showLine||S.line)&&Ke("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(x){if(f.isString(x)){const y=am.get(x)||f[x];(!y||!f.isFunction(y.tableCellFormatMethod||y.cellFormatMethod))&&Ke("vxe.error.notFormats",[x])}else if(f.isArray(x)){const y=am.get(x[0])||f[x[0]];(!y||!f.isFunction(y.tableCellFormatMethod||y.cellFormatMethod))&&Ke("vxe.error.notFormats",[x[0]])}}if(Object.assign(this,{type:o.type,property:o.field,field:o.field,title:o.title,width:o.width,minWidth:o.minWidth,maxWidth:o.maxWidth,resizable:o.resizable,fixed:o.fixed,align:o.align,headerAlign:o.headerAlign,footerAlign:o.footerAlign,showOverflow:o.showOverflow,showHeaderOverflow:o.showHeaderOverflow,showFooterOverflow:o.showFooterOverflow,className:o.className,headerClassName:o.headerClassName,footerClassName:o.footerClassName,formatter:x,footerFormatter:o.footerFormatter,padding:o.padding,verticalAlign:o.verticalAlign,sortable:o.sortable,sortBy:o.sortBy,sortType:o.sortType,filters:Bx(o.filters),filterMultiple:f.isBoolean(o.filterMultiple)?o.filterMultiple:!0,filterMethod:o.filterMethod,filterResetMethod:o.filterResetMethod,filterRecoverMethod:o.filterRecoverMethod,filterRender:o.filterRender,rowGroupNode:o.rowGroupNode,treeNode:o.treeNode,dragSort:o.dragSort,rowResize:o.rowResize,cellType:o.cellType,cellRender:o.cellRender,editRender:o.editRender,contentRender:o.contentRender,headerExportMethod:o.headerExportMethod,exportMethod:o.exportMethod,footerExportMethod:o.footerExportMethod,titleHelp:o.titleHelp,titlePrefix:o.titlePrefix,titleSuffix:o.titleSuffix,params:o.params,id:o.colId||f.uniqueId("col_"),parentId:null,visible:i,halfVisible:!1,defaultVisible:i,defaultFixed:o.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||o.renderHeader,renderCell:u||o.renderCell,renderFooter:c||o.renderFooter,renderData:d,slots:o.slots}),m){const{computeProxyOpts:y}=m.getComputeMaps(),O=y.value;O.beforeColumn&&O.beforeColumn({$grid:m,column:this})}}getTitle(){return Po(this.title||(this.type==="seq"?zE("vxe.table.seqTitle"):""))}getKey(){const{type:t}=this;return this.field||(t?`type=${t}`:null)}update(t,o){t!=="filters"&&(t==="field"&&(this.property=o),this[t]=o)}}const qd={};let El;function Lx(){return El||(El=new Image,El.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),El}function Zd(){return El||Lx()}function bn(e,t){return e?f.isFunction(e)?e(t):e:""}function Hx(e){return qd[e]||(qd[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),qd[e]}function qx(e,t,o){if(e){const n=e.parentNode;if(o.top+=e.offsetTop,o.left+=e.offsetLeft,n&&n!==document.documentElement&&n!==document.body&&(o.top-=n.scrollTop,o.left-=n.scrollLeft),!(t&&(e===t||e.offsetParent===t))&&e.offsetParent)return qx(e.offsetParent,t,o)}return o}function Jd(e){return e&&/^\d+(px)?$/.test(e)}function Cl(e){return e&&/^\d+%$/.test(e)}function No(e,t){return e&&e.className&&e.className.match&&e.className.match(Hx(t))}function Yr(e,t){e&&No(e,t)&&(e.className=e.className.replace(Hx(t),""))}function xo(e,t){e&&!No(e,t)&&(Yr(e,t),e.className=`${e.className} ${t}`)}function li(e){return e.ctrlKey||e.metaKey}function ai(e,t="px"){return f.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function as(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function Zl(e){return e?e.offsetHeight:0}function Qd(e){if(e){const t=getComputedStyle(e),o=f.toNumber(t.paddingTop),n=f.toNumber(t.paddingBottom);return o+n}return 0}function Jt(e,t){e&&(e.scrollTop=t)}function tr(e,t){e&&(e.scrollLeft=t)}function yf(e,t){const o=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==o&&e.setAttribute("title",o)}function Nt(e,t,o,n){let u,c=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;c&&c.nodeType&&c!==document;){if(o&&No(c,o)&&(!n||n(c)))u=c;else if(c===t)return{flag:o?!!u:!0,container:t,targetElem:u};c=c.parentNode}return{flag:!1}}function VE(e,t){return qx(e,t,{left:0,top:0})}function Wi(e){const t=e.getBoundingClientRect(),o=t.top,n=t.left,{scrollTop:u,scrollLeft:c,visibleHeight:d,visibleWidth:v}=as();return{boundingTop:o,top:u+o,boundingLeft:n,left:c+n,visibleHeight:d,visibleWidth:v}}const cm="scrollIntoViewIfNeeded",um="scrollIntoView";function WE(e){e&&(e[cm]?e[cm]():e[um]&&e[um]())}function GE(e,t){e&&e.dispatchEvent(new Event(t))}const _x=(e,t)=>{const o=[];return e.forEach(n=>{n.parentId=t?t.id:null,n.visible&&(n.children&&n.children.length&&n.children.some(u=>u.visible)?(o.push(n),o.push(..._x(n.children,n))):o.push(n))}),o},jE=e=>{let t=1;const o=(c,d)=>{if(d&&(c.level=d.level+1,t<c.level&&(t=c.level)),c.children&&c.children.length&&c.children.some(v=>v.visible)){let v=0;c.children.forEach(m=>{m.visible&&(o(m,c),v+=m.colSpan)}),c.colSpan=v}else c.colSpan=1};e.forEach(c=>{c.level=1,o(c)});const n=[];for(let c=0;c<t;c++)n.push([]);return _x(e).forEach(c=>{c.children&&c.children.length&&c.children.some(d=>d.visible)?c.rowSpan=1:c.rowSpan=t-c.level+1,n[c.level-1].push(c)}),n};function _d(e,t,o){const n=e.internalData;return t||o?(n.intoRunScroll=!1,n.inVirtualScroll=!1,n.inWheelScroll=!1,n.inHeaderScroll=!1,n.inBodyScroll=!1,n.inFooterScroll=!1,n.scrollRenderType="",e.scrollTo(t,o)):ge()}function ii(){return f.uniqueId("row_")}function Ao(e){const{props:t}=e,{computeRowOpts:o}=e.getComputeMaps(),n=o.value;return`${t.rowId||n.keyField||"_X_ROW_KEY"}`}function qe(e,t){const o=f.get(t,Ao(e));return UE(o)}function dm(e){const t=Ao(e),n=t.indexOf(".")>-1?YE:XE;return{rowKey:t,handleUpdateRowId(u){return u?n(u,t):null}}}function pr(e){const t=Ao(e),n=t.indexOf(".")>-1?Nx:Px;return{rowKey:t,handleGetRowId(u){return u?n(u,t):null}}}function UE(e){return f.eqNull(e)?"":encodeURIComponent(e)}function Nx(e,t){return f.get(e,t)}function YE(e,t){let o=Nx(e,t);return _o(o)&&(o=ii(),f.set(e,t,o)),o}function Px(e,t){return e[t]}function XE(e,t){let o=Px(e,t);return _o(o)&&(o=ii(),e[t]=o),o}const hr=(e,t)=>t?f.isString(t)||f.isNumber(t)?e.getColumnByField(`${t}`):t:null,fm=(e,t)=>{if(t){const o=f.isString(t)||f.isNumber(t)?t:qe(e,t);return e.getRowById(o)}return null};function Ii(e){if(e){const t=getComputedStyle(e),o=f.toNumber(t.paddingLeft),n=f.toNumber(t.paddingRight);return o+n}return 0}function dl(e){if(e){const t=getComputedStyle(e),o=f.toNumber(t.marginLeft),n=f.toNumber(t.marginRight);return e.offsetWidth+o+n}return 0}function Uo(e,t){return e.querySelector(".vxe-cell"+t)}function Bx(e){return e&&f.isArray(e)?e.map(({label:t,value:o,data:n,resetValue:u,checked:c})=>({label:t,value:o,data:n,resetValue:u,checked:!!c,_checked:!!c})):e}function hm(e){return e.map((t,o)=>o%2===0?Number(t)+1:".").join("")}function br(e,t){return f.get(e,t.field)}function Ho(e,t,o){return f.set(e,t.field,o)}function ot(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function $x(e){return e==="unset"?0:e||0}function pm(e){const{$table:t,column:o,cell:n}=e,u=t.props,c=t.internalData,{computeResizableOpts:d}=t.getComputeMaps(),v=d.value,{minWidth:m}=v;if(m){const ee=f.isFunction(m)?m(e):m;if(ee!=="auto")return Math.max(1,f.toNumber(ee))}const{elemStore:x}=c,{showHeaderOverflow:i}=u,{showHeaderOverflow:s,minWidth:y}=o,O=f.isUndefined(s)||f.isNull(s)?i:s,A=O==="title"||(O===!0||O==="tooltip")||O==="ellipsis",_=f.floor((f.toNumber(getComputedStyle(n).fontSize)||14)*1.6),V=Ii(n)+Ii(Uo(n,""));let Y=_+V;if(A){const ee=Ii(Uo(n,">.vxe-cell--drag-handle")),X=Ii(Uo(n,">.vxe-cell--checkbox")),D=dl(Uo(n,">.vxe-cell--required-icon")),F=dl(Uo(n,">.vxe-cell--edit-icon")),H=dl(Uo(n,">.vxe-cell-title-prefix-icon")),j=dl(Uo(n,">.vxe-cell-title-suffix-icon")),Z=dl(Uo(n,">.vxe-cell--sort")),k=dl(Uo(n,">.vxe-cell--filter"));Y+=ee+X+D+F+H+j+k+Z}if(y){const ee=ot(x["main-body-scroll"]);if(ee){if(Cl(y)){const D=(ee.clientWidth-1)/100;return Math.max(Y,Math.floor(f.toInteger(y)*D))}else if(Jd(y))return Math.max(Y,f.toInteger(y))}}return Y}function Gi(e){return e&&(e.constructor===Kd||e instanceof Kd)}function KE(e,t,o){return Gi(t)?t:Co(new Kd(e,t,o))}function zx(e,t,o){Object.keys(t).forEach(n=>{Mt(()=>t[n],u=>{o.update(n,u),e&&(n==="filters"?(e.setFilter(o,u),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(n)&&e.handleRefreshColumnQueue())})})}function Vx(e,t,o,n){const{reactData:u}=e,{staticColumns:c}=u,d=t.parentNode,v=n?n.columnConfig:null,m=v?v.children:c;d&&m&&(m.splice(f.arrayIndexOf(d.children,t),0,o),u.staticColumns=c.slice(0))}function Wx(e,t){const{reactData:o}=e,{staticColumns:n}=o,u=f.findTree(n,c=>c.id===t.id,{children:"children"});u&&u.items.splice(u.index,1),o.staticColumns=n.slice(0)}function gm(e,t){const{internalData:o}=e,{fullColumnIdData:n}=o;if(!t)return null;let u=t.parentId;for(;n[u];){const c=n[u].column;if(u=c.parentId,!u)return c}return t}const ZE={mini:3,small:2,medium:1,large:0},Gx=(e,t)=>{let o=1;if(!e)return o;const{$table:n}=t,{computeTreeOpts:u}=n.getComputeMaps(),c=u.value,{transform:d,mapChildrenField:v}=c,m=c.children||c.childrenField,x=e[d?v:m];if(x&&n.isTreeExpandByRow(e))for(let i=0;i<x.length;i++)o+=Gx(x[i],t);return o},jx=e=>{const{computeSize:t}=e.getComputeMaps(),o=t.value;return o&&ZE[o]||0};function JE(e,t){const{$table:o,row:n}=e,u=o.props,c=o.reactData,d=o.internalData,{showOverflow:v}=u,{scrollYLoad:m}=c,{fullAllDataRowIdData:x}=d,{computeRowOpts:i,computeCellOpts:s,computeDefaultRowHeight:y}=o.getComputeMaps(),O=i.value,S=s.value,T=y.value,q=qe(o,n),A=x[q],_=A.resizeHeight||S.height||O.height||A.height||T;let V=1;t&&(V=Gx(t,e));let Y=_;const ee=A.height;return m&&(v||(Y=ee||_)),Y*V-(t?1:12-jx(o))}function QE(e){const{props:t,internalData:o}=e;return o.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function eR(e){return e.clearFilter&&e.clearFilter(),QE(e)}function vm(e,t){const o=e.props,n=e.reactData,u=e.internalData,{computeLeftFixedWidth:c,computeRightFixedWidth:d,computeRowOpts:v,computeCellOpts:m,computeDefaultRowHeight:x}=e.getComputeMaps(),{showOverflow:i}=o,{scrollYLoad:s}=n,{elemStore:y,afterFullData:O,fullAllDataRowIdData:S,isResizeCellHeight:T}=u,q=v.value,A=m.value,_=x.value,V=c.value,Y=d.value,ee=ot(y["main-body-scroll"]),X=qe(e,t);if(ee){const D=ee.clientHeight,F=ee.scrollTop,H=ee.querySelector(`[rowid="${X}"]`);if(H){const j=H.offsetParent,Z=H.offsetTop+(j?j.offsetTop:0),k=H.clientHeight;if(Z<F||Z>F+D)return e.scrollTo(null,Z);if(Z+k>=D+F)return e.scrollTo(null,F+k)}else if(s){if(!(T||A.height||q.height)&&i)return e.scrollTo(null,(e.findRowIndexOf(O,t)-1)*_);let Z=0;const k=S[X]||{},K=k.resizeHeight||A.height||q.height||k.height||_;for(let J=0;J<O.length;J++){const Ce=O[J],xe=qe(e,Ce);if(Ce===t||xe===X)break;const ue=S[xe]||{};Z+=ue.resizeHeight||A.height||q.height||ue.height||_}return Z<F?e.scrollTo(null,Z-V-1):e.scrollTo(null,Z+K-(D-Y-1))}}return Promise.resolve()}function mm(e,t,o){const n=e.reactData,u=e.internalData,{computeLeftFixedWidth:c,computeRightFixedWidth:d}=e.getComputeMaps(),{scrollXLoad:v}=n,{elemStore:m,visibleColumn:x}=u,i=c.value,s=d.value,y=ot(m["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(y){const O=y.clientWidth,S=y.scrollLeft;let T=null;if(o){const q=qe(e,o);T=y.querySelector(`[rowid="${q}"] .${t.id}`)}if(T||(T=y.querySelector(`.${t.id}`)),T){const q=T.offsetParent,A=T.offsetLeft+(q?q.offsetLeft:0),_=T.clientWidth;if(A<S+i)return e.scrollTo(A-i-1);if(A+_-S>O-s)return e.scrollTo(A+_-(O-s-1))}else if(v){let q=0;const A=t.renderWidth;for(let _=0;_<x.length;_++){const V=x[_];if(V===t||V.id===t.id)break;q+=V.renderWidth}return q<S?e.scrollTo(q-i-1):e.scrollTo(q+A-(O-s-1))}}return Promise.resolve()}function xn(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Ux(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function Yx(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Ar(e){return e==null?[]:f.isArray(e)?e:[e]}const{getI18n:Jl,getIcon:rr,renderer:oi,formats:bm,renderEmptyElement:zn}=ve;function tR(e){const{$table:t,column:o}=e,n=o.titlePrefix||o.titleHelp;return n?w("i",{class:["vxe-cell-title-prefix-icon",n.iconStatus?`theme--${n.iconStatus}`:"",n.icon||rr().TABLE_TITLE_PREFIX],onMouseenter(u){t.triggerHeaderTitleEvent(u,n,e)},onMouseleave(u){t.handleTargetLeaveEvent(u)}}):zn(t)}function rR(e){const{$table:t,column:o}=e,n=o.titleSuffix;return n?w("i",{class:["vxe-cell-title-suffix-icon",n.iconStatus?`theme--${n.iconStatus}`:"",n.icon||rr().TABLE_TITLE_SUFFIX],onMouseenter(u){t.triggerHeaderTitleEvent(u,n,e)},onMouseleave(u){t.handleTargetLeaveEvent(u)}}):zn(t)}function xm(e){const{$table:t,column:o}=e,{context:n}=t,u=n.slots,c=t.props,{slots:d}=o,{dragConfig:v}=c,{computeRowDragOpts:m}=t.getComputeMaps(),x=m.value,{icon:i,trigger:s,disabledMethod:y}=x,O=y||(v?v.rowDisabledMethod:null),S=O&&O(e),T=(d?d.rowDragIcon||d["row-drag-icon"]:null)||u.rowDragIcon||u["row-drag-icon"],q={};return s!=="cell"&&(q.onMousedown=A=>{S||t.handleCellDragMousedownEvent(A,e)},q.onMouseup=t.handleCellDragMouseupEvent),w("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":S}]},q),T?t.callSlot(T,e):[w("i",{class:i||(v?v.rowIcon:"")||rr().TABLE_DRAG_ROW})])}function Mr(e,t){const{$table:o,column:n,level:u}=e,{dragSort:c}=n,d=o.props,{treeConfig:v,dragConfig:m}=d,{computeRowOpts:x,computeRowDragOpts:i,computeTreeOpts:s}=o.getComputeMaps(),y=x.value,O=i.value,S=s.value,{showIcon:T,isPeerDrag:q,isCrossDrag:A,visibleMethod:_}=O,V=_||(m?m.rowVisibleMethod:null),Y=[];return c&&y.drag&&(T||m&&m.showRowIcon)&&(!V||V(e))&&(v?S.transform&&(q||A||!u)&&Y.push(xm(e)):Y.push(xm(e))),Y.concat(f.isArray(t)?t:[t])}function oR(e){const{$table:t,column:o}=e,{context:n}=t,u=n.slots,{slots:c}=o,{computeColumnOpts:d,computeColumnDragOpts:v}=t.getComputeMaps(),m=d.value,x=v.value,{showIcon:i,icon:s,trigger:y,isPeerDrag:O,isCrossDrag:S,visibleMethod:T,disabledMethod:q}=x;if(m.drag&&i&&(!T||T(e))&&!o.fixed&&(O||S||!o.parentId)){const A=q&&q(e),_=(c?c.columnDragIcon||c["column-drag-icon"]:null)||u.columnDragIcon||u["column-drag-icon"],V={};return y!=="cell"&&(V.onMousedown=Y=>{A||t.handleHeaderCellDragMousedownEvent(Y,e)},V.onMouseup=t.handleHeaderCellDragMouseupEvent),w("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":A}]},V),_?t.callSlot(_,e):[w("i",{class:s||rr().TABLE_DRAG_COLUMN})])}return zn(t)}function To(e,t){return[tR(e),oR(e),...f.isArray(t)?t:[t],rR(e)]}function vn(e,t){const{$table:o,column:n}=e,u=o.props,c=o.reactData,{computeTooltipOpts:d}=o.getComputeMaps(),{showHeaderOverflow:v}=u,{type:m,showHeaderOverflow:x}=n,s=d.value.showAll,y=f.isUndefined(x)||f.isNull(x)?v:x,O=y==="title",S=y===!0||y==="tooltip",T={};return(O||S||s)&&(T.onMouseenter=q=>{c.isDragResize||(O?yf(q.currentTarget,n):(S||s)&&o.triggerHeaderTooltipEvent(q,e))}),(S||s)&&(T.onMouseleave=q=>{c.isDragResize||(S||s)&&o.handleTargetLeaveEvent(q)}),[m==="html"&&f.isString(t)?w("span",Object.assign({class:"vxe-cell--title",innerHTML:t},T)):w("span",Object.assign({class:"vxe-cell--title"},T),Ar(t))]}function nR(e){const{$table:t,column:o,_columnIndex:n,items:u,row:c}=e,{slots:d,editRender:v,cellRender:m,footerFormatter:x}=o,i=v||m,s=d?d.footer:null;if(s)return t.callSlot(s,e);let y="";f.isArray(u)?y=u[n]:y=f.get(c,o.field);const O=Object.assign(e,{itemValue:y});if(x){if(f.isFunction(x))return[w("span",{class:"vxe-cell--label"},`${x(O)}`)];const S=f.isArray(x),T=S?bm.get(x[0]):bm.get(x),q=T?T.tableFooterCellFormatMethod:null;return q?[w("span",{class:"vxe-cell--label"},`${S?q(O,...x.slice(1)):q(O)}`)]:[w("span",{class:"vxe-cell--label"},"")]}if(i){const S=oi.get(i.name);if(S){const T=S.renderTableFooter||S.renderFooter;if(T)return Ar(T(i,O))}}return[w("span",{class:"vxe-cell--label"},Cr(y,1))]}function Cm(e){const{$table:t,row:o,column:n}=e;return Cr(t.getCellLabel(o,n),1)}function lR(e){const{column:t,$table:o}=e,n=o.props,{editConfig:u}=n,{type:c,treeNode:d,rowGroupNode:v,editRender:m}=t,{computeEditOpts:x,computeCheckboxOpts:i}=o.getComputeMaps(),s=i.value,y=x.value,O=d||v;switch(c){case"seq":return O?ft.renderDeepIndexCell(e):ft.renderSeqCell(e);case"radio":return O?ft.renderDeepRadioCell(e):ft.renderRadioCell(e);case"checkbox":return s.checkField?O?ft.renderDeepSelectionCellByProp(e):ft.renderCheckboxCellByProp(e):O?ft.renderDeepSelectionCell(e):ft.renderCheckboxCell(e);case"expand":return ft.renderExpandCell(e);case"html":return O?ft.renderDeepHTMLCell(e):ft.renderHTMLCell(e)}return xt(u)&&m?y.mode==="cell"?O?ft.renderDeepCellEdit(e):ft.renderCellEdit(e):O?ft.renderDeepRowEdit(e):ft.renderRowEdit(e):O?ft.renderDeepCell(e):ft.renderDefaultCell(e)}function iR(e){const{column:t,$table:o}=e,n=o.props,{editConfig:u}=n,{type:c,filters:d,sortable:v,editRender:m}=t;switch(c){case"seq":return ft.renderSeqHeader(e);case"radio":return ft.renderRadioHeader(e);case"checkbox":return ft.renderCheckboxHeader(e);case"html":if(d&&v)return ft.renderSortAndFilterHeader(e);if(v)return ft.renderSortHeader(e);if(d)return ft.renderFilterHeader(e);break}return u&&m?ft.renderEditHeader(e):d&&v?ft.renderSortAndFilterHeader(e):v?ft.renderSortHeader(e):d?ft.renderFilterHeader(e):ft.renderDefaultHeader(e)}function sR(e){return ft.renderDefaultFooter(e)}const ft={createColumn(e,t){const{type:o}=t,n={renderHeader:iR,renderCell:lR,renderFooter:sR};return o==="expand"&&(n.renderData=ft.renderExpandData),KE(e,t,n)},renderHeaderTitle(e){const{$table:t,column:o}=e,{slots:n,editRender:u,cellRender:c}=o,d=u||c,v=n?n.header:null;if(v)return vn(e,t.callSlot(v,e));if(d){const m=oi.get(d.name);if(m){const x=m.renderTableHeader||m.renderHeader;if(x)return vn(e,Ar(x(d,e)))}}return vn(e,Cr(o.getTitle(),1))},renderDefaultHeader(e){return To(e,ft.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:o,column:n}=e,u=t.reactData,c=t.internalData,{isRowGroupStatus:d}=u,{slots:v,editRender:m,cellRender:x,rowGroupNode:i}=n,s=m||x,y=v?v.default:null;if(y)return Mr(e,t.callSlot(y,e));if(s){const T=oi.get(s.name);if(T){const q=T.renderTableCell||T.renderCell,A=T.renderTableDefault||T.renderDefault,_=m?q:A;if(_)return Mr(e,Ar(_(s,Object.assign({$type:m?"edit":"cell"},e))))}}let O="";if(d&&i&&o.isAggregate){const{fullColumnFieldData:T}=c,{computeRowGroupOpts:q}=t.getComputeMaps(),A=q.value,{showTotal:_,totalMethod:V,contentMethod:Y,mapChildrenField:ee}=A,X=o.groupField;O=o.groupContent;const D=ee?o[ee]||[]:[],F=D.length,H=T[X]||{},j={$table:t,groupField:X,groupColumn:H?H.column:null,column:n,groupValue:O,children:D,totalValue:F};Y&&(O=`${Y(j)}`),_&&(O=Jl("vxe.table.rowGroupContentTotal",[O,V?V(j):F,F]))}else d&&o.isAggregate||(O=t.getCellLabel(o,n));const S=m?m.placeholder:"";return Mr(e,[w("span",{class:"vxe-cell--label"},[m&&_o(O)?w("span",{class:"vxe-cell--placeholder"},Cr(Po(S),1)):w("span",Cr(O,1))])])},renderDeepCell(e){return ft.renderDeepNodeBtn(e,ft.renderDefaultCell(e))},renderDefaultFooter(e){return nR(e)},renderRowGroupBtn(e,t){const{$table:o}=e,n=o.reactData,u=o.internalData,{row:c,level:d}=e,{computeRowGroupOpts:v}=o.getComputeMaps(),{rowGroupExpandedFlag:m}=n,{rowGroupExpandedMaps:x}=u,i=v.value,{padding:s,indent:y}=i,O=qe(o,c),S=!!m&&!!x[O];return w("div",{class:["vxe-row-group--tree-node",{"is--expanded":S}],style:s&&y?{paddingLeft:`${d*y}px`}:void 0},[w("span",{class:"vxe-row-group--node-btn",onClick(T){o.triggerRowGroupExpandEvent(T,e)}},[w("i",{class:S?rr().TABLE_ROW_GROUP_OPEN:rr().TABLE_ROW_GROUP_CLOSE})]),w("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:o,isHidden:n}=e,u=o.reactData,c=o.internalData,{row:d,column:v,level:m}=e,{slots:x}=v,i=x?x.icon:null;if(i)return o.callSlot(i,e);const{computeTreeOpts:s}=o.getComputeMaps(),{treeExpandedFlag:y}=u,{fullAllDataRowIdData:O,treeExpandedMaps:S,treeExpandLazyLoadedMaps:T}=c,q=s.value,{padding:A,indent:_,lazy:V,trigger:Y,iconLoaded:ee,showIcon:X,iconOpen:D,iconClose:F}=q,H=q.children||q.childrenField,j=q.hasChild||q.hasChildField,Z=d[H],k=Z&&Z.length;let K=!1,J=!1,Ce=!1,xe=!1;const ue={};if(!n){const pe=qe(o,d);if(J=!!y&&!!S[pe],V){const Se=O[pe];Ce=!!T[pe],K=d[j],xe=!!Se.treeLoaded}}return(!Y||Y==="default")&&(ue.onClick=pe=>{o.triggerTreeExpandEvent(pe,e)}),w("div",{class:["vxe-cell--tree-node",{"is--active":J}],style:A&&_?{paddingLeft:`${m*_}px`}:void 0},[X&&(V?xe?k:k||K:k)?[w("div",Object.assign({class:"vxe-cell--tree-btn"},ue),[w("i",{class:Ce?ee||rr().TABLE_TREE_LOADED:J?D||rr().TABLE_TREE_OPEN:F||rr().TABLE_TREE_CLOSE})])]:null,w("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{row:o,column:n}=e,{rowGroupNode:u}=n;return u&&o.isAggregate?[ft.renderRowGroupBtn(e,t)]:[ft.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:o}=e,{slots:n}=o,u=n?n.header:null;return To(e,vn(e,u?t.callSlot(u,e):Cr(o.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:o}=e,n=t.props,{treeConfig:u}=n,{computeSeqOpts:c}=t.getComputeMaps(),d=c.value,{slots:v}=o,m=v?v.default:null;if(m)return Mr(e,t.callSlot(m,e));const{seq:x}=e,i=d.seqMethod;return Mr(e,[w("span",`${Cr(i?i(e):u?x:(d.startIndex||0)+x,1)}`)])},renderDeepIndexCell(e){return ft.renderDeepNodeBtn(e,ft.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:o}=e,{slots:n}=o,u=n?n.header:null,c=n?n.title:null;return To(e,vn(e,u?t.callSlot(u,e):[w("span",{class:"vxe-radio--label"},c?t.callSlot(c,e):Cr(o.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:o,isHidden:n}=e,u=t.reactData,{computeRadioOpts:c}=t.getComputeMaps(),{selectRadioRow:d}=u,v=c.value,{slots:m}=o,{labelField:x,checkMethod:i,visibleMethod:s}=v,{row:y}=e,O=m?m.default:null,S=m?m.radio:null,T=t.eqRow(y,d),q=!s||s({$table:t,row:y});let A=!!i,_;n||(_={onClick(ee){!A&&q&&t.triggerRadioRowEvent(ee,e)}},i&&(A=!i({$table:t,row:y})));const V=Object.assign(Object.assign({},e),{checked:T,disabled:A,visible:q});if(S)return Mr(e,t.callSlot(S,V));const Y=[];return q&&Y.push(w("span",{class:["vxe-radio--icon",T?rr().TABLE_RADIO_CHECKED:rr().TABLE_RADIO_UNCHECKED]})),(O||x)&&Y.push(w("span",{class:"vxe-radio--label"},O?t.callSlot(O,V):f.get(y,x))),Mr(e,[w("span",Object.assign({class:["vxe-cell--radio",{"is--checked":T,"is--disabled":A}]},_),Y)])},renderDeepRadioCell(e){return ft.renderDeepNodeBtn(e,ft.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:o,isHidden:n}=e,u=t.reactData,{computeIsAllCheckboxDisabled:c,computeCheckboxOpts:d}=t.getComputeMaps(),{isAllSelected:v,isIndeterminate:m}=u,x=c.value,{slots:i}=o,s=i?i.header:null,y=i?i.title:null,O=d.value,{checkStrictly:S,showHeader:T,headerTitle:q}=O,A=o.getTitle(),_={};n||(_.onClick=Y=>{x||t.triggerCheckAllEvent(Y,!v)});const V=Object.assign(Object.assign({},e),{checked:v,disabled:x,indeterminate:m});return s?To(e,vn(V,t.callSlot(s,V))):(S?!T:T===!1)?To(e,vn(V,[w("span",{class:"vxe-checkbox--label"},y?t.callSlot(y,V):A)])):To(e,vn(V,[w("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":v,"is--disabled":x,"is--indeterminate":m}],title:f.eqNull(q)?Jl("vxe.table.allTitle"):`${q||""}`},_),[w("span",{class:["vxe-checkbox--icon",m?rr().TABLE_CHECKBOX_INDETERMINATE:v?rr().TABLE_CHECKBOX_CHECKED:rr().TABLE_CHECKBOX_UNCHECKED]})].concat(y||A?[w("span",{class:"vxe-checkbox--label"},y?t.callSlot(y,V):A)]:[]))]))},renderCheckboxCell(e){const{$table:t,row:o,column:n,isHidden:u}=e,c=t.props,d=t.reactData,v=t.internalData,{treeConfig:m}=c,{updateCheckboxFlag:x,isRowGroupStatus:i}=d,{selectCheckboxMaps:s,treeIndeterminateRowMaps:y}=v,{computeCheckboxOpts:O}=t.getComputeMaps(),S=O.value,{labelField:T,checkMethod:q,visibleMethod:A}=S,{slots:_}=n,V=_?_.default:null,Y=_?_.checkbox:null;let ee=!1,X=!1;const D=!A||A({$table:t,row:o});let F=!!q;const H={};if(!u){const k=qe(t,o);X=!!x&&!!s[k],H.onClick=K=>{!F&&D&&t.triggerCheckRowEvent(K,e,!X)},q&&(F=!q({$table:t,row:o})),(m||i)&&(ee=!!y[k])}const j=Object.assign(Object.assign({},e),{checked:X,disabled:F,visible:D,indeterminate:ee});if(Y)return Mr(e,t.callSlot(Y,j));const Z=[];return D&&Z.push(w("span",{class:["vxe-checkbox--icon",ee?rr().TABLE_CHECKBOX_INDETERMINATE:X?rr().TABLE_CHECKBOX_CHECKED:rr().TABLE_CHECKBOX_UNCHECKED]})),(V||T)&&Z.push(w("span",{class:"vxe-checkbox--label"},V?t.callSlot(V,j):f.get(o,T))),Mr(e,[w("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":X,"is--disabled":F,"is--indeterminate":ee,"is--hidden":!D}]},H),Z)])},renderDeepSelectionCell(e){return ft.renderDeepNodeBtn(e,ft.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:o,column:n,isHidden:u}=e,c=t.props,d=t.reactData,v=t.internalData,{treeConfig:m}=c,{updateCheckboxFlag:x,isRowGroupStatus:i}=d,{treeIndeterminateRowMaps:s}=v,{computeCheckboxOpts:y}=t.getComputeMaps(),O=y.value,{labelField:S,checkField:T,checkMethod:q,visibleMethod:A}=O,_=O.indeterminateField||O.halfField,{slots:V}=n,Y=V?V.default:null,ee=V?V.checkbox:null;let X=!1,D=!1;const F=!A||A({$table:t,row:o});let H=!!q;const j={};if(!u){const K=qe(t,o);D=!!x&&f.get(o,T),j.onClick=J=>{!H&&F&&t.triggerCheckRowEvent(J,e,!D)},q&&(H=!q({$table:t,row:o})),(m||i)&&(X=!!s[K])}const Z=Object.assign(Object.assign({},e),{checked:D,disabled:H,visible:F,indeterminate:X});if(ee)return Mr(e,t.callSlot(ee,Z));const k=[];return F&&(k.push(w("span",{class:["vxe-checkbox--icon",X?rr().TABLE_CHECKBOX_INDETERMINATE:D?rr().TABLE_CHECKBOX_CHECKED:rr().TABLE_CHECKBOX_UNCHECKED]})),(Y||S)&&k.push(w("span",{class:"vxe-checkbox--label"},Y?t.callSlot(Y,Z):f.get(o,S)))),Mr(e,[w("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":D,"is--disabled":H,"is--indeterminate":_&&!D?o[_]:X,"is--hidden":!F}]},j),k)])},renderDeepSelectionCellByProp(e){return ft.renderDeepNodeBtn(e,ft.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:o,row:n,column:u}=e,c=t.reactData,d=t.internalData,{isRowGroupStatus:v}=c,{rowExpandedMaps:m,rowExpandLazyLoadedMaps:x}=d,{computeExpandOpts:i}=t.getComputeMaps(),s=i.value,{lazy:y,labelField:O,iconLoaded:S,showIcon:T,iconOpen:q,iconClose:A,visibleMethod:_}=s,{slots:V}=u,Y=V?V.default:null,ee=V?V.icon:null;let X=!1,D=!1;if(v&&n.isAggregate)return Mr(e,[]);if(ee)return Mr(e,t.callSlot(ee,e));if(!o){const F=qe(t,n);X=!!m[F],y&&(D=!!x[F])}return Mr(e,[T&&(!_||_(e))?w("span",{class:["vxe-table--expanded",{"is--active":X}],onMousedown(F){F.stopPropagation()},onClick(F){t.triggerRowExpandEvent(F,e)}},[w("i",{class:["vxe-table--expand-btn",D?S||rr().TABLE_EXPAND_LOADED:X?q||rr().TABLE_EXPAND_OPEN:A||rr().TABLE_EXPAND_CLOSE]})]):zn(t),Y||O?w("span",{class:"vxe-table--expand-label"},Y?t.callSlot(Y,e):f.get(n,O)):zn(t)])},renderExpandData(e){const{$table:t,column:o}=e,{slots:n,contentRender:u}=o,c=n?n.content:null;if(c)return t.callSlot(c,e);if(u){const d=oi.get(u.name);if(d){const v=d.renderTableExpand||d.renderExpand;if(v)return Ar(v(u,e))}}return[]},renderHTMLCell(e){const{$table:t,column:o}=e,{slots:n}=o,u=n?n.default:null;return u?Mr(e,t.callSlot(u,e)):Mr(e,[w("span",{class:"vxe-cell--html",innerHTML:Cm(e)})])},renderDeepHTMLCell(e){return ft.renderDeepNodeBtn(e,ft.renderHTMLCell(e))},renderSortAndFilterHeader(e){return To(e,ft.renderHeaderTitle(e).concat(ft.renderSortIcon(e).concat(ft.renderFilterIcon(e))))},renderSortHeader(e){return To(e,ft.renderHeaderTitle(e).concat(ft.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:o}=e,{computeSortOpts:n}=t.getComputeMaps(),u=n.value,{showIcon:c,allowBtn:d,ascTitle:v,descTitle:m,iconLayout:x,iconAsc:i,iconDesc:s,iconVisibleMethod:y}=u,{order:O}=o;return c&&(!y||y(e))?[w("span",{class:["vxe-cell--sort",`vxe-cell--sort-${x}-layout`]},[w("i",{class:["vxe-sort--asc-btn",i||rr().TABLE_SORT_ASC,{"sort--active":O==="asc"}],title:f.eqNull(v)?Jl("vxe.table.sortAsc"):`${v||""}`,onClick:d?S=>{S.stopPropagation(),t.triggerSortEvent(S,o,"asc")}:void 0}),w("i",{class:["vxe-sort--desc-btn",s||rr().TABLE_SORT_DESC,{"sort--active":O==="desc"}],title:f.eqNull(m)?Jl("vxe.table.sortDesc"):`${m||""}`,onClick:d?S=>{S.stopPropagation(),t.triggerSortEvent(S,o,"desc")}:void 0})])]:[]},renderFilterHeader(e){return To(e,ft.renderHeaderTitle(e).concat(ft.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:o,hasFilter:n}=e,u=t.reactData,{filterStore:c}=u,{computeFilterOpts:d}=t.getComputeMaps(),v=d.value,{showIcon:m,iconNone:x,iconMatch:i,iconVisibleMethod:s}=v;return m&&(!s||s(e))?[w("span",{class:["vxe-cell--filter",{"is--active":c.visible&&c.column===o}],onClick(y){t.triggerFilterEvent&&t.triggerFilterEvent(y,e.column,e)}},[w("i",{class:["vxe-filter--btn",n?i||rr().TABLE_FILTER_MATCH:x||rr().TABLE_FILTER_NONE],title:Jl("vxe.table.filter")})])]:[]},renderEditHeader(e){const{$table:t,column:o}=e,n=t.props,{computeEditOpts:u}=t.getComputeMaps(),{editConfig:c,editRules:d}=n,v=u.value,{sortable:m,filters:x,editRender:i}=o;let s=!1;if(d){const O=f.get(d,o.field);O&&(s=O.some(S=>S.required))}let y=[];return xt(c)&&(y=[s&&v.showAsterisk?w("i",{class:"vxe-cell--required-icon"}):zn(t),xt(i)&&v.showIcon?w("i",{class:["vxe-cell--edit-icon",v.icon||rr().TABLE_EDIT]}):zn(t)]),To(e,y.concat(ft.renderHeaderTitle(e)).concat(m?ft.renderSortIcon(e):[]).concat(x?ft.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:o}=e,n=t.reactData,{editStore:u}=n,{actived:c}=u,{editRender:d}=o;return ft.runRenderer(e,xt(d)&&c&&c.row===e.row)},renderDeepRowEdit(e){return ft.renderDeepNodeBtn(e,ft.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:o}=e,n=t.reactData,{editStore:u}=n,{actived:c}=u,{editRender:d}=o;return ft.runRenderer(e,xt(d)&&c&&c.row===e.row&&c.column===e.column)},renderDeepCellEdit(e){return ft.renderDeepNodeBtn(e,ft.renderCellEdit(e))},runRenderer(e,t){const{$table:o,column:n}=e,{slots:u,editRender:c,formatter:d}=n,v=u?u.default:null,m=u?u.edit:null,x=oi.get(c.name),i=x?x.renderTableEdit||x.renderEdit:null,s=Object.assign({$type:"",isEdit:t},e);return t?(s.$type="edit",m?o.callSlot(m,s):i?Ar(i(c,s)):[]):v?Mr(e,o.callSlot(v,s)):d?Mr(e,[w("span",{class:"vxe-cell--label"},Cm(s))]):ft.renderDefaultCell(s)}},Xx={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},Cn=lo({name:"VxeColumn",props:Xx,setup(e,{slots:t}){const o=ze(),n=Lr("$xeTable",null),u=Lr("$xeColgroup",null);if(!n)return()=>rt();const c=ft.createColumn(n,e);c.slots=t;const d=()=>w("div",{ref:o}),v={columnConfig:c,renderVN:d};return zx(n,e,c),Gn(()=>{const m=o.value;m&&Vx(n,m,c,u)}),jn(()=>{Wx(n,c)}),yn("$xeColumn",v),yn("$xeGrid",null),d}}),Ef=Object.assign({},Cn,{install(e){e.component(Cn.name,Cn),e.component("VxeTableColumn",Cn)}});ve.dynamicApp&&(ve.dynamicApp.component(Cn.name,Cn),ve.dynamicApp.component("VxeTableColumn",Cn));ve.component(Cn);const aR=Ef,wn=lo({name:"VxeColgroup",props:Xx,setup(e,{slots:t}){const o=ze(),n=Lr("$xeTable",null),u=Lr("$xeColgroup",null);if(!n)return()=>rt();const c=ft.createColumn(n,e),d={};t.header&&(d.header=t.header),c.slots=d,c.children=[],zx(n,e,c),Gn(()=>{const x=o.value;x&&Vx(n,x,c,u)}),jn(()=>{Wx(n,c)});const v=()=>w("div",{ref:o},t.default?t.default():[]);return yn("$xeColgroup",{columnConfig:c}),yn("$xeGrid",null),v}}),Rf=Object.assign({},wn,{install(e){e.component(wn.name,wn),e.component("VxeTableColgroup",wn)}});ve.dynamicApp&&(ve.dynamicApp.component(wn.name,wn),ve.dynamicApp.component("VxeTableColgroup",wn));ve.component(wn);const cR=Rf,{getI18n:uR,renderer:wm,renderEmptyElement:Nd}=ve,ki="body",ym=lo({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=Lr("$xeTable",{}),{xID:o,props:n,context:u,reactData:c,internalData:d}=t,{computeEditOpts:v,computeMouseOpts:m,computeCellOffsetWidth:x,computeAreaOpts:i,computeDefaultRowHeight:s,computeEmptyOpts:y,computeTooltipOpts:O,computeRadioOpts:S,computeExpandOpts:T,computeTreeOpts:q,computeCheckboxOpts:A,computeCellOpts:_,computeValidOpts:V,computeRowOpts:Y,computeColumnOpts:ee,computeRowDragOpts:X,computeColumnDragOpts:D,computeResizableOpts:F,computeVirtualXOpts:H,computeVirtualYOpts:j}=t.getComputeMaps(),Z=ze(),k=ze(),K=ze(),J=ze(),Ce=ze(),xe=ze(),ue=ze(),pe=ze(),Se=()=>{const{delayHover:ne}=n,{lastScrollTime:oe,isDragResize:ie}=c;return!!(ie||oe&&Date.now()<oe+ne)},Ee=(ne,oe,ie)=>{const{row:we,column:se}=oe,{afterFullData:Oe}=d,{treeConfig:fe}=n,he=q.value,{slots:Te,treeNode:me}=se,{fullAllDataRowIdData:le}=d;if(Te&&Te.line)return t.callSlot(Te.line,oe);const Fe=le[ne];let Re=0,Ye=null;return Fe&&(Re=Fe.level,Ye=Fe.items[Fe.treeIndex-1]),fe&&me&&(he.showLine||he.line)?[w("div",{key:"tl",class:"vxe-tree--line-wrapper"},[w("div",{class:"vxe-tree--line",style:{height:`${t.eqRow(Oe[0],we)?1:JE(oe,Ye)}px`,bottom:`-${Math.floor(ie/2)}px`,left:`${Re*he.indent+(Re?2-jx(t):0)+16}px`}})])]:[]},W=(ne,oe,ie,we,se,Oe,fe,he,Te,me,le,Fe,Re)=>{const Ye=t.xeGrid,{columnKey:Ve,resizable:je,showOverflow:Le,border:lt,height:yt,treeConfig:mt,cellClassName:ct,cellStyle:at,align:vt,spanMethod:Ze,mouseConfig:Pe,editConfig:Ue,editRules:ut,tooltipConfig:Ae,padding:Me}=n,{tableData:He,dragRow:ht,overflowX:et,currentColumn:ae,scrollXLoad:be,scrollYLoad:re,mergeBodyFlag:Ie,calcCellHeightFlag:Be,resizeHeightFlag:tt,resizeWidthFlag:it,editStore:bt,isAllOverflow:dt,validErrorMaps:Lt}=c,{fullAllDataRowIdData:Tt,fullColumnIdData:$e,mergeBodyCellMaps:Bt,visibleColumn:Pt,afterFullData:Gt,mergeBodyList:Xt,scrollXStore:jt,scrollYStore:ar}=d,St=_.value,Zt=V.value,Qe=A.value,Ht=v.value,dr=O.value,Ft=F.value,cr=H.value,kt=j.value,{isAllColumnDrag:lr,isAllRowDrag:gr}=Ft,zt=Y.value,Qt=X.value,Rr=s.value,vr=Be?St.height||zt.height:0,{disabledMethod:ir,isCrossDrag:wr,isPeerDrag:Ct}=Qt,st=ee.value,fr=m.value,io=i.value,so=x.value,{selectCellToRow:yr}=io,{type:Qo,cellRender:Kn,editRender:en,align:Zn,showOverflow:Jn,className:Hl,treeNode:ql,rowResize:_l,padding:Qn,verticalAlign:el,slots:h}=me,{verticalAlign:tl}=St,{actived:tn}=bt,rn=Tt[oe]||{},Ro=me.id,on=$e[Ro]||{},nn=en||Kn,Pr=nn?wm.get(nn.name):null,ln=Pr?Pr.tableCellClassName||Pr.cellClassName:null,On=Pr?Pr.tableCellStyle||Pr.cellStyle:"",Vo=dr.showAll,Dn=on.index,So=on._index,rl=xt(en),Nl=tt?rn.resizeHeight:0;let Br=ie?me.fixed!==ie:me.fixed&&et;const Mn=f.eqNull(Qn)?Me===null?St.padding:Me:Qn,Oo=f.eqNull(Jn)?Le:Jn,sn=Oo==="ellipsis",Do=Oo==="title",ao=Oo===!0||Oo==="tooltip",Wo=dt||Do||ao||sn,ol=f.isBoolean(me.resizable)?me.resizable:st.resizable||je,an=!!vr,cn=Nl>0;let Tn;const $r={},un=Zn||(Pr?Pr.tableCellAlign:"")||vt,Fn=f.eqNull(el)?tl:el,_r=Lt[`${oe}:${Ro}`],Qr=ut&&Zt.showMessage&&(Zt.message==="default"?yt||He.length>1:Zt.message==="inline"),co={colid:Ro},qt={$table:t,$grid:Ye,isEdit:!1,seq:ne,rowid:oe,row:Oe,rowIndex:fe,$rowIndex:he,_rowIndex:Te,column:me,columnIndex:Dn,$columnIndex:le,_columnIndex:So,fixed:ie,type:ki,isHidden:!!Br,level:se,visibleData:Gt,data:He,items:Re};let zr=!1,dn=!1;zt.drag&&(zr=Qt.trigger==="row"||me.dragSort&&Qt.trigger==="cell"),zr&&(dn=!!(ir&&ir(qt))),(Do||ao||Vo||Ae)&&($r.onMouseenter=It=>{Se()||(Do?yf(It.currentTarget,me):(ao||Vo)&&t.triggerBodyTooltipEvent(It,qt),t.dispatchEvent("cell-mouseenter",Object.assign({cell:It.currentTarget},qt),It))}),(ao||Vo||Ae)&&($r.onMouseleave=It=>{Se()||((ao||Vo)&&t.handleTargetLeaveEvent(It),t.dispatchEvent("cell-mouseleave",Object.assign({cell:It.currentTarget},qt),It))}),(zr||Qe.range||Pe)&&($r.onMousedown=It=>{t.triggerCellMousedownEvent(It,qt)}),zr&&($r.onMouseup=t.triggerCellMouseupEvent),$r.onClick=It=>{t.triggerCellClickEvent(It,qt)},$r.onDblclick=It=>{t.triggerCellDblclickEvent(It,qt)};let fn=!1;if(Ie&&Xt.length){const It=Bt[`${Te}:${So}`];if(It){const{rowspan:Sr,colspan:Wr}=It;if(!Sr||!Wr)return null;Sr>1&&(fn=!0,co.rowspan=Sr),Wr>1&&(fn=!0,co.colspan=Wr)}}else if(Ze){const{rowspan:It=1,colspan:Sr=1}=Ze(qt)||{};if(!It||!Sr)return null;It>1&&(co.rowspan=It),Sr>1&&(co.colspan=Sr)}Br&&fn&&(co.colspan>1||co.rowspan>1)&&(Br=!1),!Br&&Ue&&(en||Kn)&&(Ht.showStatus||Ht.showUpdateStatus)&&(Tn=t.isUpdateByRow(Oe,me.field));const Pl=re&&!Wo,In=rn.resizeHeight||St.height||zt.height||rn.height||Rr,Bl=le===Fe.length-1,$l=!me.resizeWidth&&(me.minWidth==="auto"||me.width==="auto");let Vr=!1;fn||(!ht||qe(t,ht)!==oe)&&(re&&!mt&&!kt.immediate&&(Te<ar.visibleStartIndex-ar.preloadSize||Te>ar.visibleEndIndex+ar.preloadSize)||be&&!cr.immediate&&!me.fixed&&(So<jt.visibleStartIndex-jt.preloadSize||So>jt.visibleEndIndex+jt.preloadSize))&&(Vr=!0);const eo={};if(Wo&&it){let It=co.colspan||0;if(It>1)for(let Sr=1;Sr<It;Sr++){const Wr=Pt[Dn+Sr];Wr&&(It+=Wr.renderWidth)}eo.width=`${me.renderWidth-so*It}px`}re||Wo||an||cn?eo.height=`${In}px`:eo.minHeight=`${In}px`;const Hr=[];if(Br&&dt)Hr.push(w("div",{key:"tc",class:["vxe-cell",{"c--title":Do,"c--tooltip":ao,"c--ellipsis":sn}],style:eo}));else if(Hr.push(...Ee(oe,qt,In),w("div",{key:"tc",class:["vxe-cell",{"c--title":Do,"c--tooltip":ao,"c--ellipsis":sn}],style:eo,title:Do?t.getCellLabel(Oe,me):null},Vr?[]:[w("div",{colid:Ro,rowid:oe,class:"vxe-cell--wrapper"},me.renderCell(qt))])),Qr&&_r){const It=_r.rule,Sr=h?h.valid:null,Wr=Object.assign(Object.assign(Object.assign({},qt),_r),{rule:_r});Hr.push(w("div",{key:"tcv",class:["vxe-cell--valid-error-tip",bn(Zt.className,Wr)],style:It&&It.maxWidth?{width:`${It.maxWidth}px`}:null},[w("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${Zt.theme||"normal"}`},[Sr?t.callSlot(Sr,Wr):[w("span",{class:"vxe-cell--valid-error-msg"},_r.content)]])]))}let hn=!1;return Pe&&fr.area&&yr&&(!So&&yr===!0||yr===me.field)&&(hn=!0),!Br&&ol&&lr&&Hr.push(w("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!lt||lt==="none"}],onMousedown:It=>t.handleColResizeMousedownEvent(It,ie,qt),onDblclick:It=>t.handleColResizeDblclickEvent(It,qt)})),(_l||gr)&&zt.resizable&&Hr.push(w("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:It=>t.handleRowResizeMousedownEvent(It,qt),onDblclick:It=>t.handleRowResizeDblclickEvent(It,qt)})),w("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",Ro,Fn?`col--vertical-${Fn}`:"",un?`col--${un}`:"",Qo?`col--${Qo}`:"",{"col--last":Bl,"col--tree-node":ql,"col--edit":rl,"col--ellipsis":Wo,"col--cs-height":an,"col--rs-height":cn,"col--to-row":hn,"col--auto-height":Pl,"fixed--width":!$l,"fixed--hidden":Br,"is--padding":Mn,"is--progress":Br&&dt||Vr,"is--drag-cell":zr&&(wr||Ct||!se),"is--drag-disabled":dn,"col--dirty":Tn,"col--active":Ue&&rl&&tn.row===Oe&&(tn.column===me||Ht.mode==="row"),"col--valid-error":!!_r,"col--current":ae===me},bn(ln,qt),bn(Hl,qt),bn(ct,qt)],key:Ve||be||re||st.useKey||zt.useKey||st.drag?Ro:le},co),{style:Object.assign({},f.isFunction(On)?On(qt):On,f.isFunction(at)?at(qt):at)}),$r),we&&Br?[]:Hr)},de=(ne,oe,ie,we)=>{const se=t.xeGrid,{stripe:Oe,rowKey:fe,highlightHoverRow:he,rowClassName:Te,rowStyle:me,editConfig:le,treeConfig:Fe}=n,{hasFixedColumn:Re,treeExpandedFlag:Ye,isColLoading:Ve,scrollXLoad:je,scrollYLoad:Le,isAllOverflow:lt,rowExpandedFlag:yt,expandColumn:mt,selectRadioRow:ct,pendingRowFlag:at,isDragColMove:vt,rowExpandHeightFlag:Ze,isRowGroupStatus:Pe}=c,{fullAllDataRowIdData:Ue,fullColumnIdData:ut,treeExpandedMaps:Ae,pendingRowMaps:Me,rowExpandedMaps:He}=d,ht=A.value,et=S.value,ae=q.value,be=v.value,re=Y.value,Ie=ee.value,Be=D.value,{transform:tt,seqMode:it}=ae,bt=ae.children||ae.childrenField,dt=[],{handleGetRowId:Lt}=pr(t),Tt=Fe||Pe;return ie.forEach(($e,Bt)=>{const Pt=Lt($e),Gt=Ue[Pt]||{};let Xt=Bt,jt=0,ar=-1,St=-1;const Zt=Pe&&$e.isAggregate,Qe={};(re.isHover||he)&&(Qe.onMouseenter=zt=>{Se()||t.triggerHoverEvent(zt,{row:$e,rowIndex:Xt})},Qe.onMouseleave=()=>{Se()||t.clearHoverRow()}),Gt&&(jt=Gt.level,Zt||Fe&&tt&&it==="increasing"?ar=Gt._index+1:ar=Gt.seq,Xt=Gt.index,St=Gt._index);const Ht={$table:t,seq:ar,rowid:Pt,fixed:ne,type:ki,level:jt,row:$e,rowIndex:Xt,$rowIndex:Bt,_rowIndex:St},dr=mt&&!!yt&&!!He[Pt];let Ft=!1,cr=[],kt=!1;le&&(kt=t.isInsertByRow($e)),Fe&&!Le&&!tt&&(cr=$e[bt],Ft=!!Ye&&cr&&cr.length>0&&!!Ae[Pt]),re.drag&&!Pe&&(!Fe||tt)&&(Qe.onDragstart=t.handleRowDragDragstartEvent,Qe.onDragend=t.handleRowDragDragendEvent,Qe.onDragover=t.handleRowDragDragoverEvent);const lr=["vxe-body--row",Tt?`row--level-${jt}`:"",{"row--stripe":Oe&&(St+1)%2===0,"is--new":kt,"is--expand-row":dr,"is--expand-tree":Ft,"row--new":kt&&(be.showStatus||be.showInsertStatus),"row--radio":et.highlight&&t.eqRow(ct,$e),"row--checked":ht.highlight&&t.isCheckedByCheckboxRow($e),"row--pending":!!at&&!!Me[Pt],"row--group":Zt},bn(Te,Ht)],gr=we.map((zt,Qt)=>W(ar,Pt,ne,oe,jt,$e,Xt,Bt,St,zt,Qt,we,ie));if(dt.push(!Ve&&Ie.drag&&Be.animation?w(Dl,Object.assign({name:`vxe-header--col-list${vt?"":"-disabled"}`,tag:"tr",class:lr,rowid:Pt,style:me?f.isFunction(me)?me(Ht):me:null,key:fe||je||Le||re.useKey||re.drag||Ie.drag||Pe||Fe?Pt:Bt},Qe),{default:()=>gr}):w("tr",Object.assign({class:lr,rowid:Pt,style:me?f.isFunction(me)?me(Ht):me:null,key:fe||je||Le||re.useKey||re.drag||Ie.drag||Pe||Fe?Pt:Bt},Qe),gr)),dr){const zt=T.value,{height:Qt,padding:Rr,mode:vr}=zt;if(vr==="fixed")dt.push(w("tr",{class:"vxe-body--row-expanded-place",key:`expand_${Pt}`,rowid:Pt},[w("td",{class:"vxe-body--row-expanded-place-column",colspan:we.length,style:{height:`${Ze?Gt.expandHeight||Qt:0}px`}})]));else{const ir={};Qt&&(ir.height=`${Qt}px`),Fe&&(ir.paddingLeft=`${jt*ae.indent+30}px`);const{showOverflow:wr}=mt||{},Ct=mt.id,st=ut[Ct]||{},fr=f.isUndefined(wr)||f.isNull(wr)?lt:wr;let io=-1,so=-1,yr=-1;st&&(io=st.index,so=st.$index,yr=st._index);const Qo={$grid:se,$table:t,seq:ar,column:mt,columnIndex:io,$columnIndex:so,_columnIndex:yr,fixed:ne,type:ki,level:jt,row:$e,rowid:Pt,rowIndex:Xt,$rowIndex:Bt,_rowIndex:St,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};dt.push(w("tr",{class:["vxe-body--expanded-row",{"is--padding":Rr}],key:`expand_${Pt}`},[w("td",{class:["vxe-body--expanded-column",{"fixed--hidden":ne&&!Re,"col--ellipsis":fr}],colspan:we.length},[w("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":Qt}],style:ir},[mt.renderData(Qo)])])]))}}Ft&&dt.push(...de(ne,oe,cr,we))}),dt};return Gn(()=>{ge(()=>{const{fixedType:ne}=e,{elemStore:oe}=d,ie=`${ne||"main"}-body-`;oe[`${ie}wrapper`]=Z,oe[`${ie}scroll`]=k,oe[`${ie}table`]=K,oe[`${ie}colgroup`]=J,oe[`${ie}list`]=Ce,oe[`${ie}xSpace`]=xe,oe[`${ie}ySpace`]=ue,oe[`${ie}emptyBlock`]=pe})}),jn(()=>{const{fixedType:ne}=e,{elemStore:oe}=d,ie=`${ne||"main"}-body-`;oe[`${ie}wrapper`]=null,oe[`${ie}scroll`]=null,oe[`${ie}table`]=null,oe[`${ie}colgroup`]=null,oe[`${ie}list`]=null,oe[`${ie}xSpace`]=null,oe[`${ie}ySpace`]=null,oe[`${ie}emptyBlock`]=null}),()=>{const{slots:ne}=u,oe=t.xeGrid,{fixedColumn:ie,fixedType:we,tableColumn:se}=e,{spanMethod:Oe,footerSpanMethod:fe,mouseConfig:he}=n,{isGroup:Te,tableData:me,isRowLoading:le,isColLoading:Fe,overflowX:Re,scrollXLoad:Ye,scrollYLoad:Ve,isAllOverflow:je,isDragRowMove:Le,expandColumn:lt,dragRow:yt,dragCol:mt}=c,{visibleColumn:ct,fullAllDataRowIdData:at,fullColumnIdData:vt}=d,Ze=Y.value,Pe=y.value,Ue=m.value,ut=X.value,Ae=T.value;let Me=me,He=se,ht=!1;if((Ye||Ve||je)&&(lt&&Ae.mode!=="fixed"||Oe||fe||(ht=!0)),!Fe&&(we||!Re)&&(He=ct),we&&ht&&(He=ie||[]),Ve&&yt&&Me.length>2){const re=at[qe(t,yt)];if(re){const Ie=re._index,Be=Me[0],tt=Me[Me.length-1],it=at[qe(t,Be)],bt=at[qe(t,tt)];if(it&&bt){const dt=it._index,Lt=bt._index;Ie<dt?Me=[yt].concat(Me):Ie>Lt&&(Me=Me.concat([yt]))}}}if(!we&&!Te&&Ye&&mt&&He.length>2){const re=vt[mt.id];if(re){const Ie=re._index,Be=He[0],tt=He[He.length-1],it=vt[Be.id],bt=vt[tt.id];if(it&&bt){const dt=it._index,Lt=bt._index;Ie<dt?He=[mt].concat(He):Ie>Lt&&(He=He.concat([mt]))}}}let et;const ae=ne?ne.empty:null;if(ae)et=t.callSlot(ae,{$table:t,$grid:oe});else{const re=Pe.name?wm.get(Pe.name):null,Ie=re?re.renderTableEmpty||re.renderTableEmptyView||re.renderEmpty:null;Ie?et=Ar(Ie(Pe,{$table:t})):et=n.emptyText||uR("vxe.table.emptyText")}const be={onScroll(re){t.triggerBodyScrollEvent(re,we)}};return w("div",{ref:Z,class:["vxe-table--body-wrapper",we?`fixed-${we}--wrapper`:"body--wrapper"],xid:o},[w("div",Object.assign({ref:k,class:"vxe-table--body-inner-wrapper"},be),[we?Nd(t):w("div",{ref:xe,class:"vxe-body--x-space"}),w("div",{ref:ue,class:"vxe-body--y-space"}),w("table",{ref:K,class:"vxe-table--body",xid:o,cellspacing:0,cellpadding:0,border:0},[w("colgroup",{ref:J},He.map((re,Ie)=>w("col",{name:re.id,key:Ie,style:{width:`${re.renderWidth}px`}}))),!(le||Fe)&&Ze.drag&&ut.animation?w(Dl,{ref:Ce,name:`vxe-body--row-list${Le?"":"-disabled"}`,tag:"tbody"},{default:()=>de(we,ht,Me,He)}):w("tbody",{ref:Ce},de(we,ht,Me,He))]),w("div",{class:"vxe-table--checkbox-range"}),he&&Ue.area?w("div",{class:"vxe-table--cell-area"},[w("span",{class:"vxe-table--cell-main-area"},Ue.extension?[w("span",{class:"vxe-table--cell-main-area-btn",onMousedown(re){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(re,{$table:t,fixed:we,type:ki})}})]:[]),w("span",{class:"vxe-table--cell-copy-area"}),w("span",{class:"vxe-table--cell-extend-area"}),w("span",{class:"vxe-table--cell-multi-area"}),w("span",{class:"vxe-table--cell-active-area"}),w("span",{class:"vxe-table--cell-row-status-area"})]):Nd(t),we?Nd(t):w("div",{class:"vxe-table--empty-block",ref:pe},[w("div",{class:"vxe-table--empty-content"},et)])])])}}}),{renderer:dR,renderEmptyElement:Pd}=ve,Em="header",Rm=lo({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=Lr("$xeTable",{}),{xID:o,props:n,reactData:u,internalData:c}=t,{computeColumnOpts:d,computeColumnDragOpts:v,computeCellOpts:m,computeMouseOpts:x,computeHeaderCellOpts:i,computeDefaultRowHeight:s,computeVirtualXOpts:y}=t.getComputeMaps(),O=ze([]),S=ze(),T=ze(),q=ze(),A=ze(),_=ze(),V=ze(),Y=ze(),ee=()=>{const{isGroup:H}=u;O.value=H?jE(e.tableGroupColumn):[]},X=(H,j,Z,k)=>{const K=t.xeGrid,{fixedType:J}=e,{resizable:Ce,columnKey:xe,headerCellClassName:ue,headerCellStyle:pe,showHeaderOverflow:Se,headerAlign:Ee,align:W,mouseConfig:de}=n,{currentColumn:ce,dragCol:ne,scrollXLoad:oe,scrollYLoad:ie,overflowX:we}=u,{fullColumnIdData:se,scrollXStore:Oe}=c,fe=y.value,he=d.value,Te=v.value,me=m.value,le=s.value,Fe=i.value,Re=$x(Fe.height||me.height)||le,{disabledMethod:Ye,isCrossDrag:Ve,isPeerDrag:je}=Te;return Z.map((Le,lt)=>{const{type:yt,showHeaderOverflow:mt,headerAlign:ct,align:at,filters:vt,headerClassName:Ze,editRender:Pe,cellRender:Ue}=Le,ut=Le.id,Ae=se[ut]||{},Me=Pe||Ue,He=Me?dR.get(Me.name):null,ht=Le.children&&Le.children.length,et=J?Le.fixed!==J&&!ht:!!Le.fixed&&we,ae=f.isBoolean(Fe.padding)?Fe.padding:me.padding,be=f.eqNull(mt)?Se:mt,re=ct||(He?He.tableHeaderCellAlign:"")||Ee||at||(He?He.tableCellAlign:"")||W,Ie=be==="ellipsis",Be=be==="title",tt=be===!0||be==="tooltip",it=Be||tt||Ie;let bt=!1,dt=null;vt&&(dt=vt[0],bt=vt.some(Ht=>Ht.checked));const Lt=Ae.index,Tt=Ae._index,$e={$table:t,$grid:K,$rowIndex:k,column:Le,columnIndex:Lt,$columnIndex:lt,_columnIndex:Tt,firstFilterOption:dt,fixed:J,type:Em,isHidden:et,hasFilter:bt},Bt={colid:ut,colspan:Le.colSpan>1?Le.colSpan:null,rowspan:Le.rowSpan>1?Le.rowSpan:null},Pt={onClick:Ht=>t.triggerHeaderCellClickEvent(Ht,$e),onDblclick:Ht=>t.triggerHeaderCellDblclickEvent(Ht,$e)},Gt=he.drag&&Te.trigger==="cell";let Xt=!1;Gt&&(Xt=!!(Ye&&Ye($e))),(de||Gt)&&(Pt.onMousedown=Ht=>t.triggerHeaderCellMousedownEvent(Ht,$e)),he.drag&&(Pt.onDragstart=t.handleHeaderCellDragDragstartEvent,Pt.onDragend=t.handleHeaderCellDragDragendEvent,Pt.onDragover=t.handleHeaderCellDragDragoverEvent,Gt&&(Pt.onMouseup=t.handleHeaderCellDragMouseupEvent));const jt=lt===Z.length-1,ar=f.isBoolean(Le.resizable)?Le.resizable:he.resizable||Ce,St=!Le.resizeWidth&&(Le.minWidth==="auto"||Le.width==="auto");let Zt=!1;j&&!H&&(!ne||ne.id!==ut)&&oe&&!Le.fixed&&!fe.immediate&&(Tt<Oe.visibleStartIndex-Oe.preloadSize||Tt>Oe.visibleEndIndex+Oe.preloadSize)&&(Zt=!0);const Qe={};return it?Qe.height=`${Re}px`:Qe.minHeight=`${Re}px`,w("th",Object.assign(Object.assign(Object.assign({class:["vxe-header--column",ut,{[`col--${re}`]:re,[`col--${yt}`]:yt,"col--last":jt,"col--fixed":Le.fixed,"col--group":ht,"col--ellipsis":it,"fixed--width":!St,"fixed--hidden":et,"is--padding":ae,"is--sortable":Le.sortable,"col--filter":!!vt,"is--filter-active":bt,"is--drag-active":he.drag&&!Le.fixed&&!Xt&&(Ve||je||!Le.parentId),"is--drag-disabled":he.drag&&Xt,"col--current":ce===Le},Ze?f.isFunction(Ze)?Ze($e):Ze:"",ue?f.isFunction(ue)?ue($e):ue:""],style:pe?f.isFunction(pe)?pe($e):pe:null},Bt),Pt),{key:xe||oe||ie||he.useKey||he.drag||ht?ut:lt}),[w("div",{class:["vxe-cell",{"c--title":Be,"c--tooltip":tt,"c--ellipsis":Ie}],style:Qe},Zt||j&&et?[]:[w("div",{colid:ut,class:"vxe-cell--wrapper"},Le.renderHeader($e))]),!et&&ar?w("div",{class:"vxe-cell--col-resizable",onMousedown:Ht=>t.handleColResizeMousedownEvent(Ht,J,$e),onDblclick:Ht=>t.handleColResizeDblclickEvent(Ht,$e)}):Pd(t)])})},D=(H,j,Z)=>{const{fixedType:k}=e,{headerRowClassName:K,headerRowStyle:J}=n,{isColLoading:Ce,isDragColMove:xe}=u,ue=d.value,pe=v.value;return Z.map((Se,Ee)=>{const W={$table:t,$rowIndex:Ee,fixed:k,type:Em};return!Ce&&ue.drag&&pe.animation?w(Dl,{key:Ee,name:`vxe-header--col-list${xe?"":"-disabled"}`,tag:"tr",class:["vxe-header--row",K?f.isFunction(K)?K(W):K:""],style:J?f.isFunction(J)?J(W):J:null},{default:()=>X(H,j,Se,Ee)}):w("tr",{key:Ee,class:["vxe-header--row",K?f.isFunction(K)?K(W):K:""],style:J?f.isFunction(J)?J(W):J:null},X(H,j,Se,Ee))})},F=()=>{const{fixedType:H,fixedColumn:j,tableColumn:Z}=e,{mouseConfig:k,showHeaderOverflow:K,spanMethod:J,footerSpanMethod:Ce}=n,{isGroup:xe,isColLoading:ue,overflowX:pe,scrollXLoad:Se,dragCol:Ee}=u,{visibleColumn:W,fullColumnIdData:de}=c,ce=x.value;let ne=O.value,oe=Z,ie=!1;if(xe?oe=W:(Se&&K&&(J||Ce||(ie=!0)),(!ie||!ue&&(H||!pe))&&(oe=W),H&&ie&&(oe=j||[]),ne=[oe]),!H&&!xe&&Se&&Ee&&oe.length>2){const we=de[Ee.id];if(we){const se=we._index,Oe=oe[0],fe=oe[oe.length-1],he=de[Oe.id],Te=de[fe.id];if(he&&Te){const me=he._index,le=Te._index;se<me?(oe=[Ee].concat(oe),ne=[[Ee].concat(ne[0])].concat(ne.slice(1))):se>le&&(oe=oe.concat([Ee]),ne=[ne[0].concat([Ee])].concat(ne.slice(1)))}}}return w("div",{ref:S,class:["vxe-table--header-wrapper",H?`fixed-${H}--wrapper`:"body--wrapper"],xid:o},[w("div",{ref:T,class:"vxe-table--header-inner-wrapper",onScroll(we){t.triggerHeaderScrollEvent(we,H)}},[H?Pd(t):w("div",{ref:V,class:"vxe-body--x-space"}),w("table",{ref:q,class:"vxe-table--header",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:ie?"1":null},[w("colgroup",{ref:A},oe.map((we,se)=>w("col",{name:we.id,key:se,style:{width:`${we.renderWidth}px`}}))),w("thead",{ref:_},D(xe,ie,ne))]),k&&ce.area?w("div",{class:"vxe-table--cell-area"},[w("span",{class:"vxe-table--cell-main-area"}),w("span",{class:"vxe-table--cell-copy-area"}),w("span",{class:"vxe-table--cell-extend-area"}),w("span",{class:"vxe-table--cell-multi-area"}),w("span",{class:"vxe-table--cell-active-area"}),w("span",{class:"vxe-table--cell-col-status-area"})]):Pd(t)])])};return Mt(()=>e.tableColumn,ee),Gn(()=>{ge(()=>{const{fixedType:H}=e,{internalData:j}=t,{elemStore:Z}=j,k=`${H||"main"}-header-`;Z[`${k}wrapper`]=S,Z[`${k}scroll`]=T,Z[`${k}table`]=q,Z[`${k}colgroup`]=A,Z[`${k}list`]=_,Z[`${k}xSpace`]=V,Z[`${k}repair`]=Y,ee()})}),jn(()=>{const{fixedType:H}=e,{internalData:j}=t,{elemStore:Z}=j,k=`${H||"main"}-header-`;Z[`${k}wrapper`]=null,Z[`${k}scroll`]=null,Z[`${k}table`]=null,Z[`${k}colgroup`]=null,Z[`${k}list`]=null,Z[`${k}xSpace`]=null,Z[`${k}repair`]=null}),F}}),{renderer:fR,renderEmptyElement:Sm}=ve,Om="footer",Dm=lo({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=Lr("$xeTable",{}),{xID:o,props:n,reactData:u,internalData:c}=t,{computeTooltipOpts:d,computeColumnOpts:v,computeColumnDragOpts:m,computeCellOpts:x,computeFooterCellOpts:i,computeDefaultRowHeight:s,computeResizableOpts:y,computeVirtualXOpts:O}=t.getComputeMaps(),S=ze(),T=ze(),q=ze(),A=ze(),_=ze(),V=ze(),Y=(D,F,H,j,Z,k)=>{const K=t.xeGrid,{fixedType:J}=e,{resizable:Ce,border:xe,footerCellClassName:ue,footerCellStyle:pe,footerAlign:Se,footerSpanMethod:Ee,align:W,columnKey:de,showFooterOverflow:ce}=n,{scrollXLoad:ne,scrollYLoad:oe,overflowX:ie,currentColumn:we}=u,{fullColumnIdData:se,mergeFooterList:Oe,mergeFooterCellMaps:fe,scrollXStore:he}=c,Te=O.value,me=d.value,le=y.value,{isAllColumnDrag:Fe}=le,Re=v.value,Ye=s.value,Ve=x.value,je=i.value,Le=$x(je.height||Ve.height)||Ye;return F.map((lt,yt)=>{const{type:mt,showFooterOverflow:ct,footerAlign:at,align:vt,footerClassName:Ze,editRender:Pe,cellRender:Ue}=lt,ut=lt.id,Ae=se[ut]||{},Me=Pe||Ue,He=Me?fR.get(Me.name):null,ht=me.showAll,et=lt.children&&lt.children.length,ae=J?lt.fixed!==J&&!et:lt.fixed&&ie,be=f.isBoolean(je.padding)?je.padding:Ve.padding,re=f.eqNull(ct)?ce:ct,Ie=at||(He?He.tableFooterCellAlign:"")||Se||vt||(He?He.tableCellAlign:"")||W,Be=re==="ellipsis",tt=re==="title",it=re===!0||re==="tooltip",bt=tt||it||Be,dt=f.isBoolean(lt.resizable)?lt.resizable:Re.resizable||Ce,Lt={colid:ut},Tt={},$e=Ae.index,Bt=Ae._index,Gt={$table:t,$grid:K,row:j,rowIndex:k,_rowIndex:k,$rowIndex:Z,column:lt,columnIndex:$e,$columnIndex:yt,_columnIndex:Bt,itemIndex:Bt,items:j,fixed:J,type:Om,data:H};(tt||it||ht)&&(Tt.onMouseenter=Qe=>{tt?yf(Qe.currentTarget,lt):(it||ht)&&t.triggerFooterTooltipEvent(Qe,Gt)}),(it||ht)&&(Tt.onMouseleave=Qe=>{(it||ht)&&t.handleTargetLeaveEvent(Qe)}),Tt.onClick=Qe=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:Qe.currentTarget},Gt),Qe)},Tt.onDblclick=Qe=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:Qe.currentTarget},Gt),Qe)};let Xt=!1;if(Oe.length){const Qe=fe[`${k}:${Bt}`];if(Qe){const{rowspan:Ht,colspan:dr}=Qe;if(!Ht||!dr)return null;Ht>1&&(Xt=!0,Lt.rowspan=Ht),dr>1&&(Xt=!0,Lt.colspan=dr)}}else if(Ee){const{rowspan:Qe=1,colspan:Ht=1}=Ee(Gt)||{};if(!Qe||!Ht)return null;Qe>1&&(Lt.rowspan=Qe),Ht>1&&(Lt.colspan=Ht)}const jt=yt===F.length-1,ar=!lt.resizeWidth&&(lt.minWidth==="auto"||lt.width==="auto");let St=!1;D&&!Xt&&ne&&!lt.fixed&&!Te.immediate&&(Bt<he.visibleStartIndex-he.preloadSize||Bt>he.visibleEndIndex+he.preloadSize)&&(St=!0);const Zt={};return bt?Zt.height=`${Le}px`:Zt.minHeight=`${Le}px`,w("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",lt.id,{[`col--${Ie}`]:Ie,[`col--${mt}`]:mt,"col--last":jt,"fixed--width":!ar,"fixed--hidden":ae,"is--padding":be,"col--ellipsis":bt,"col--current":we===lt},bn(Ze,Gt),bn(ue,Gt)]},Lt),{style:pe?f.isFunction(pe)?pe(Gt):pe:null}),Tt),{key:de||ne||oe||Re.useKey||Re.drag?lt.id:yt}),[w("div",{class:["vxe-cell",{"c--title":tt,"c--tooltip":it,"c--ellipsis":Be}],style:Zt},St?[]:[w("div",{colid:ut,class:"vxe-cell--wrapper"},lt.renderFooter(Gt))]),!ae&&dt&&Fe?w("div",{class:["vxe-cell--col-resizable",{"is--line":!xe||xe==="none"}],onMousedown:Qe=>t.handleColResizeMousedownEvent(Qe,J,Gt),onDblclick:Qe=>t.handleColResizeDblclickEvent(Qe,Gt)}):Sm(t)])})},ee=(D,F)=>{const{fixedType:H,footerTableData:j}=e,{footerRowClassName:Z,footerRowStyle:k}=n,{isColLoading:K,isDragColMove:J}=u,Ce=v.value,xe=m.value;return j.map((ue,pe)=>{const Se=pe,Ee={$table:t,row:ue,_rowIndex:Se,$rowIndex:pe,fixed:H,type:Om};return!K&&Ce.drag&&xe.animation?w(Dl,{key:pe,name:`vxe-header--col-list${J?"":"-disabled"}`,tag:"tr",class:["vxe-footer--row",Z?f.isFunction(Z)?Z(Ee):Z:""],style:k?f.isFunction(k)?k(Ee):k:null},{default:()=>Y(D,F,j,ue,pe,Se)}):w("tr",{key:pe,class:["vxe-footer--row",Z?f.isFunction(Z)?Z(Ee):Z:""],style:k?f.isFunction(k)?k(Ee):k:null},Y(D,F,j,ue,pe,Se))})},X=()=>{const{fixedType:D,fixedColumn:F,tableColumn:H}=e,{spanMethod:j,footerSpanMethod:Z,showFooterOverflow:k}=n,{visibleColumn:K,fullColumnIdData:J}=c,{isGroup:Ce,isColLoading:xe,overflowX:ue,scrollXLoad:pe,dragCol:Se}=u;let Ee=H,W=!1;if(pe&&k&&(j||Z||(W=!0)),(!W||!xe&&(D||!ue))&&(Ee=K),D&&W&&(Ee=F||[]),!D&&!Ce&&pe&&Se&&Ee.length>2){const de=J[Se.id];if(de){const ce=de._index,ne=Ee[0],oe=Ee[Ee.length-1],ie=J[ne.id],we=J[oe.id];if(ie&&we){const se=ie._index,Oe=we._index;ce<se?Ee=[Se].concat(Ee):ce>Oe&&(Ee=Ee.concat([Se]))}}}return w("div",{ref:S,class:["vxe-table--footer-wrapper",D?`fixed-${D}--wrapper`:"body--wrapper"],xid:o},[w("div",{ref:T,class:"vxe-table--footer-inner-wrapper",onScroll(de){t.triggerFooterScrollEvent(de,D)}},[D?Sm(t):w("div",{ref:V,class:"vxe-body--x-space"}),w("table",{ref:q,class:"vxe-table--footer",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:W?"1":null},[w("colgroup",{ref:A},Ee.map((de,ce)=>w("col",{name:de.id,key:ce,style:{width:`${de.renderWidth}px`}}))),w("tfoot",{ref:_},ee(W,Ee))])])])};return Gn(()=>{ge(()=>{const{fixedType:D}=e,{elemStore:F}=c,H=`${D||"main"}-footer-`;F[`${H}wrapper`]=S,F[`${H}scroll`]=T,F[`${H}table`]=q,F[`${H}colgroup`]=A,F[`${H}list`]=_,F[`${H}xSpace`]=V})}),jn(()=>{const{fixedType:D}=e,{elemStore:F}=c,H=`${D||"main"}-footer-`;F[`${H}wrapper`]=null,F[`${H}scroll`]=null,F[`${H}table`]=null,F[`${H}colgroup`]=null,F[`${H}list`]=null,F[`${H}xSpace`]=null}),X}}),{getConfig:ur}=ve,Ui={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>ur().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>ur().table.resizable},stripe:{type:Boolean,default:()=>ur().table.stripe},border:{type:[Boolean,String],default:()=>ur().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>ur().table.round},size:{type:String,default:()=>ur().table.size||ur().size},fit:{type:Boolean,default:()=>ur().table.fit},loading:Boolean,align:{type:String,default:()=>ur().table.align},headerAlign:{type:String,default:()=>ur().table.headerAlign},footerAlign:{type:String,default:()=>ur().table.footerAlign},showHeader:{type:Boolean,default:()=>ur().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>ur().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>ur().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>ur().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>ur().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>ur().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>ur().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>ur().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>ur().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>ur().table.emptyText},keepSource:{type:Boolean,default:()=>ur().table.keepSource},autoResize:{type:Boolean,default:()=>ur().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>ur().table.animat},delayHover:{type:Number,default:()=>ur().table.delayHover},params:Object},Sf=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],{getI18n:Ut,getIcon:mr,renderEmptyElement:Ai}=ve,hR=lo({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const t=ve.getComponent("VxeModal"),o=ve.getComponent("VxeDrawer"),n=ve.getComponent("VxeButton"),u=ve.getComponent("VxeNumberInput"),c=ve.getComponent("VxeRadioGroup"),d=Lr("$xeTable",{}),{props:v,reactData:m,internalData:x}=d,{computeCustomOpts:i,computeColumnDragOpts:s,computeColumnOpts:y,computeIsMaxFixedColumn:O,computeResizableOpts:S}=d.getComputeMaps(),T=ze(),q=ze(),A=ze(),_=ze(),V=ze();let Y,ee=!1,X;const D=fe=>{const{customStore:he}=e;he.activeWrapper=!0,d.customOpenEvent(fe)},F=fe=>{const{customStore:he}=e;he.activeWrapper=!1,setTimeout(()=>{!he.activeBtn&&!he.activeWrapper&&d.customCloseEvent(fe)},300)},H=({$event:fe})=>{m.isCustomStatus=!0,d.saveCustom(),d.closeCustom(),d.emitCustomEvent("confirm",fe)},j=({$event:fe})=>{d.closeCustom(),d.emitCustomEvent("close",fe)},Z=({$event:fe})=>{d.cancelCustom(),d.closeCustom(),d.emitCustomEvent("cancel",fe)},k=fe=>{d.resetCustom(!0),d.closeCustom(),d.emitCustomEvent("reset",fe)},K=({$event:fe})=>{ve.modal?ve.modal.confirm({content:Ut("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(he=>{he==="confirm"&&k(fe)}):k(fe)},J=fe=>{const{customColumnList:he}=m,Te=f.findTree(he,me=>me===fe);if(Te&&Te.parent){const{parent:me}=Te;me.children&&me.children.length&&(me.renderVisible=me.children.every(le=>le.renderVisible),me.halfVisible=!me.renderVisible&&me.children.some(le=>le.renderVisible||le.halfVisible),J(me))}},Ce=fe=>{const he=!fe.renderVisible;i.value.immediate?(f.eachTree([fe],me=>{me.visible=he,me.renderVisible=he,me.halfVisible=!1}),m.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:visible")):f.eachTree([fe],me=>{me.renderVisible=he,me.halfVisible=!1}),J(fe),d.checkCustomStatus()},xe=fe=>{i.value.immediate&&fe.renderResizeWidth!==fe.renderWidth&&(fe.resizeWidth=fe.renderResizeWidth,fe.renderWidth=fe.renderResizeWidth,m.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:width"))},ue=(fe,he)=>{const Te=O.value;i.value.immediate?(fe.renderFixed===he?f.eachTree([fe],le=>{le.fixed="",le.renderFixed=""}):(!Te||fe.renderFixed)&&f.eachTree([fe],le=>{le.fixed=he,le.renderFixed=he}),m.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:fixed")):fe.renderFixed===he?f.eachTree([fe],le=>{le.renderFixed=""}):(!Te||fe.renderFixed)&&f.eachTree([fe],le=>{le.renderFixed=he})},pe=()=>{d.toggleCustomAllCheckbox()},Se=(fe,he,Te,me)=>{const le=q.value;if(!le)return;const Fe=le.getBoundingClientRect();if(he){const Ye=A.value;if(Ye)if(Te){const Ve=he.getBoundingClientRect();Ye.style.display="block",Ye.style.top=`${Math.max(1,Ve.y+le.scrollTop-Fe.y)}px`,Ye.style.height=`${Ve.height}px`,Ye.style.width=`${Ve.width}px`,Ye.setAttribute("drag-pos",me),Ye.setAttribute("drag-to-child",ee?"y":"n")}else Ye.style.display=""}const Re=_.value;Re&&(Re.style.display="block",Re.style.top=`${Math.min(le.clientHeight+le.scrollTop-Re.clientHeight,fe.clientY+le.scrollTop-Fe.y)}px`,Re.style.left=`${Math.min(le.clientWidth+le.scrollLeft-Re.clientWidth,fe.clientX+le.scrollLeft-Fe.x)}px`,Re.setAttribute("drag-status",Te?ee?"sub":"normal":"disabled"))},Ee=()=>{const fe=_.value,he=A.value;fe&&(fe.style.display=""),he&&(he.style.display="")},W=fe=>{const le=fe.currentTarget.parentElement.parentElement.parentElement,Fe=le.getAttribute("colid"),Re=d.getColumnById(Fe);le.draggable=!0,V.value=Re,xo(le,"active--drag-origin")},de=fe=>{const le=fe.currentTarget.parentElement.parentElement.parentElement;Ee(),le.draggable=!1,V.value=null,Yr(le,"active--drag-origin")},ce=fe=>{fe.dataTransfer&&fe.dataTransfer.setDragImage(Zd(),0,0)},ne=fe=>{const{mouseConfig:he}=v,{customColumnList:Te}=m,{collectColumn:me}=x,le=i.value,{immediate:Fe}=le,Re=fe.currentTarget,Ye=V.value,Ve=s.value,{isCrossDrag:je,isSelfToChildDrag:Le,isToChildDrag:lt,dragEndMethod:yt}=Ve,mt=X==="bottom"?1:0;if(Y&&Ye&&Y!==Ye){const ct=Ye,at=Y;Promise.resolve(yt?yt({oldColumn:ct,newColumn:at,dragColumn:ct,dragPos:X,dragToChild:!!ee,offsetIndex:mt}):!0).then(vt=>{if(!vt)return;let Ze=-1,Pe=-1;const Ue={};f.eachTree([ct],Ae=>{Ue[Ae.id]=Ae});let ut=!1;if(Fe){if(ct.parentId&&at.parentId){if(!je)return;if(Ue[at.id]&&(ut=!0,!(je&&Le))){ve.modal&&ve.modal.message({status:"error",content:Ut("vxe.error.treeDragChild")});return}}else if(ct.parentId){if(!je)return}else if(at.parentId){if(!je)return;if(Ue[at.id]&&(ut=!0,!(je&&Le))){ve.modal&&ve.modal.message({status:"error",content:Ut("vxe.error.treeDragChild")});return}}const Ae=f.findTree(me,He=>He.id===ct.id);if(ut&&je&&Le){if(Ae){const{items:He,index:ht}=Ae,et=ct.children||[];et.forEach(ae=>{ae.parentId=ct.parentId}),He.splice(ht,1,...et),ct.children=[]}}else if(Ae){const{items:He,index:ht,parent:et}=Ae;He.splice(ht,1),et||(Ze=ht)}const Me=f.findTree(me,He=>He.id===at.id);if(Me){const{items:He,index:ht,parent:et}=Me;je&&lt&&ee?(ct.parentId=at.id,at.children=(at.children||[]).concat([ct])):(ct.parentId=at.parentId,He.splice(ht+mt,0,ct)),et||(Pe=ht)}f.eachTree(me,(He,ht,et,ae,be)=>{if(!be){const re=ht+1;He.renderSortNumber=re}})}else Ze=f.findIndexOf(Te,Ae=>Ae.id===ct.id),Te.splice(Ze,1),Pe=f.findIndexOf(Te,Ae=>Ae.id===at.id),Te.splice(Pe+mt,0,ct);m.isDragColMove=!0,he&&(d.clearSelected&&d.clearSelected(),d.clearCellAreas&&(d.clearCellAreas(),d.clearCopyCellArea())),d.dispatchEvent("column-dragend",{oldColumn:ct,newColumn:at,dragColumn:ct,dragPos:X,offsetIndex:mt,_index:{newIndex:Pe,oldIndex:Ze}},fe),Fe&&(m.customColumnList=me.slice(0),d.handleColDragSwapColumn())}).catch(()=>{})}Ee(),V.value=null,Re.draggable=!1,Re.removeAttribute("drag-pos"),Yr(Re,"active--drag-target"),Yr(Re,"active--drag-origin")},oe=fe=>{const he=i.value,{immediate:Te}=he,me=s.value,{isCrossDrag:le,isToChildDrag:Fe}=me,Re=fe.currentTarget,Ye=li(fe),Ve=Re.getAttribute("colid"),je=d.getColumnById(Ve),Le=V.value;if(je&&(le||je.level===1)){fe.preventDefault();const yt=fe.clientY-Re.getBoundingClientRect().y<Re.clientHeight/2?"top":"bottom";if(Le&&Le.id===je.id||!le&&je.level>1||!Te&&je.level>1||je.renderFixed){Se(fe,Re,!1,yt);return}ee=!!(le&&Fe&&Ye&&Te),Y=je,X=yt,Se(fe,Re,!0,yt)}},ie=()=>{const fe=V.value,he=s.value;return w("div",{},[w("div",{ref:A,class:["vxe-table-custom-popup--drag-line",{"is--guides":he.showGuidesStatus}]}),w("div",{ref:_,class:"vxe-table-custom-popup--drag-tip"},[w("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[w("div",{class:"vxe-table-custom-popup--drag-tip-status"},[w("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",mr().TABLE_DRAG_STATUS_ROW]}),w("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",mr().TABLE_DRAG_STATUS_SUB_ROW]}),w("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",mr().TABLE_DRAG_DISABLED]})]),w("div",{class:"vxe-table-custom-popup--drag-tip-content"},Ut("vxe.custom.cstmDragTarget",[fe&&fe.type!=="html"?fe.getTitle():""]))])])])},we=()=>{const fe=d.xeGrid,{customStore:he}=e,{isCustomStatus:Te,customColumnList:me}=m,le=i.value,{immediate:Fe}=le,Re=s.value,{maxHeight:Ye}=he,{checkMethod:Ve,visibleMethod:je,allowVisible:Le,allowSort:lt,allowFixed:yt,trigger:mt,placement:ct}=le,at=O.value,{isCrossDrag:vt}=Re,Ze=le.slots||{},Pe=Ze.header,Ue=Ze.top,ut=Ze.bottom,Ae=Ze.default,Me=Ze.footer,He=[],ht={},et=he.isAll,ae=he.isIndeterminate;mt==="hover"&&(ht.onMouseenter=D,ht.onMouseleave=F);const be={$table:d,$grid:fe,columns:me,isAllChecked:et,isAllIndeterminate:ae,isCustomStatus:Te};return f.eachTree(me,(re,Ie,Be,tt,it)=>{if(je?je({$table:d,column:re}):!0){const dt=re.renderVisible,Lt=re.halfVisible,Tt=re.children&&re.children.length,$e=Cr(re.getTitle(),1),Bt=Ve?!Ve({$table:d,column:re}):!1,Pt=!dt;He.push(w("li",{key:re.id,colid:re.id,class:["vxe-table-custom--option",`level--${re.level}`,{"is--hidden":Bt||Pt,"is--group":Tt}],onDragstart:ce,onDragend:ne,onDragover:oe},[Le?w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":dt,"is--indeterminate":Lt,"is--disabled":Bt}],title:Ut("vxe.custom.setting.colVisible"),onClick:()=>{Bt||Ce(re)}},[w("span",{class:["vxe-checkbox--icon",Lt?mr().TABLE_CHECKBOX_INDETERMINATE:dt?mr().TABLE_CHECKBOX_CHECKED:mr().TABLE_CHECKBOX_UNCHECKED]})]):rt(),w("div",{class:"vxe-table-custom--name-option"},[lt&&(vt&&Fe||re.level===1)?w("div",{class:"vxe-table-custom--sort-option"},[w("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":Bt||Pt||re.renderFixed}],title:Ut("vxe.custom.setting.sortHelpTip")},Bt||Pt||re.renderFixed?{}:{onMousedown:W,onMouseup:de}),[w("i",{class:mr().TABLE_CUSTOM_SORT})])]):rt(),re.type==="html"?w("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:$e}):w("div",{key:"0",class:"vxe-table-custom--checkbox-label"},$e)]),!it&&yt?w("div",{class:"vxe-table-custom--fixed-option"},[n?w(n,{mode:"text",icon:re.renderFixed==="left"?mr().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:mr().TOOLBAR_TOOLS_FIXED_LEFT,status:re.renderFixed==="left"?"primary":"",disabled:Bt||Pt||at&&!re.renderFixed,title:Ut(re.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{ue(re,"left")}}):rt(),n?w(n,{mode:"text",icon:re.renderFixed==="right"?mr().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:mr().TOOLBAR_TOOLS_FIXED_RIGHT,status:re.renderFixed==="right"?"primary":"",disabled:Bt||Pt||at&&!re.renderFixed,title:Ut(re.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{ue(re,"right")}}):rt()]):rt()]))}}),w("div",{ref:T,key:"simple",class:["vxe-table-custom-wrapper",`placement--${ct}`,{"is--active":he.visible}],style:Ye&&!["left","right"].includes(ct)?{maxHeight:`${Ye}px`}:{}},he.visible?[w("div",{class:"vxe-table-custom--header"},Pe?d.callSlot(Pe,be):[w("ul",{class:"vxe-table-custom--panel-list"},[w("li",{class:"vxe-table-custom--option"},[Le?w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":et,"is--indeterminate":ae}],title:Ut("vxe.table.allTitle"),onClick:pe},[w("span",{class:["vxe-checkbox--icon",ae?mr().TABLE_CHECKBOX_INDETERMINATE:et?mr().TABLE_CHECKBOX_CHECKED:mr().TABLE_CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},Ut("vxe.toolbar.customAll"))]):w("span",{class:"vxe-checkbox--label"},Ut("vxe.table.customTitle"))])])]),w("div",{ref:q,class:"vxe-table-custom--body"},[Ue?w("div",{class:"vxe-table-custom--panel-top"},d.callSlot(Ue,be)):Ai(d),Ae?w("div",{class:"vxe-table-custom--panel-body"},d.callSlot(Ae,be)):w(Dl,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},ht),{default:()=>He}),ut?w("div",{class:"vxe-table-custom--panel-bottom"},d.callSlot(ut,be)):Ai(d),ie()]),le.showFooter?w("div",{class:"vxe-table-custom--footer"},Me?d.callSlot(Me,be):[w("div",{class:"vxe-table-custom--footer-buttons"},[n?w(n,{mode:"text",content:le.resetButtonText||Ut("vxe.table.customRestore"),disabled:!Te,onClick:K}):rt(),Fe?n?w(n,{mode:"text",content:le.closeButtonText||Ut("vxe.table.customClose"),onClick:j}):rt():n?w(n,{mode:"text",content:le.cancelButtonText||Ut("vxe.table.customCancel"),onClick:Z}):rt(),Fe?rt():n?w(n,{mode:"text",status:"primary",content:le.confirmButtonText||Ut("vxe.table.customConfirm"),onClick:H}):rt()])]):null]:[])},se=()=>{const fe=d.xeGrid,{customStore:he}=e,{resizable:Te}=v,{isCustomStatus:me,customColumnList:le}=m,Fe=i.value,{immediate:Re}=Fe,Ye=s.value,{mode:Ve,modalOptions:je,drawerOptions:Le,allowVisible:lt,allowSort:yt,allowFixed:mt,allowResizable:ct,checkMethod:at,visibleMethod:vt}=Fe,Ze=y.value,{maxFixedSize:Pe}=Ze,Ue=S.value,{minWidth:ut,maxWidth:Ae}=Ue,Me=Object.assign({},je),He=Object.assign({},Le),ht=O.value,{isCrossDrag:et}=Ye,ae=Fe.slots||{},be=ae.header,re=ae.top,Ie=ae.bottom,Be=ae.default,tt=ae.footer,it=[],bt=he.isAll,dt=he.isIndeterminate,Lt={$table:d,$grid:fe,columns:le,isAllChecked:bt,isAllIndeterminate:dt,isCustomStatus:me};f.eachTree(le,($e,Bt,Pt,Gt,Xt)=>{if(vt?vt({$table:d,column:$e}):!0){let ar=0,St=0;if(ct){const kt={$table:d,column:$e,columnIndex:Bt,$columnIndex:Bt,$rowIndex:-1};ut&&(ar=f.toNumber(f.isFunction(ut)?ut(kt):ut)),Ae&&(St=f.toNumber(f.isFunction(Ae)?Ae(kt):Ae))}const Zt=$e.renderVisible,Qe=$e.halfVisible,Ht=Cr($e.getTitle(),1),dr=$e.children&&$e.children.length,Ft=at?!at({$table:d,column:$e}):!1,cr=!Zt;it.push(w("tr",{key:$e.id,colid:$e.id,class:[`vxe-table-custom-popup--row level--${$e.level}`,{"is--group":dr}],onDragstart:ce,onDragend:ne,onDragover:oe},[lt?w("td",{class:"vxe-table-custom-popup--column-item col--visible"},[w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Zt,"is--indeterminate":Qe,"is--disabled":Ft}],title:Ut("vxe.custom.setting.colVisible"),onClick:()=>{Ft||Ce($e)}},[w("span",{class:["vxe-checkbox--icon",Qe?mr().TABLE_CHECKBOX_INDETERMINATE:Zt?mr().TABLE_CHECKBOX_CHECKED:mr().TABLE_CHECKBOX_UNCHECKED]})])]):rt(),w("td",{class:"vxe-table-custom-popup--column-item col--name"},[w("div",{class:"vxe-table-custom-popup--name"},[yt?et&&Re||$e.level===1?w("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":Ft||cr||$e.renderFixed}],title:Ut("vxe.custom.setting.sortHelpTip")},Ft||cr||$e.renderFixed?{}:{onMousedown:W,onMouseup:de}),[w("i",{class:mr().TABLE_CUSTOM_SORT})]):w("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):rt(),$e.type==="html"?w("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:Ht}):w("div",{key:"0",class:"vxe-table-custom-popup--title",title:Ht},Ht)])]),ct?w("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[$e.children&&$e.children.length||!(f.isBoolean($e.resizable)?$e.resizable:Ze.resizable||Te)?w("span","-"):u?w(u,{type:"integer",immediate:!1,disabled:Ft||cr,modelValue:$e.renderResizeWidth,min:ar||void 0,max:St||void 0,"onUpdate:modelValue"(kt){const lr=Math.max(0,Number(kt));$e.renderResizeWidth=lr},onChange(){xe($e)}}):rt()]):rt(),mt?w("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[Xt?w("span","-"):c?w(c,{modelValue:$e.renderFixed||"",type:"button",size:"mini",disabled:Ft||cr,options:[{label:Ut("vxe.custom.setting.fixedLeft"),value:"left",disabled:Ft||cr||ht},{label:Ut("vxe.custom.setting.fixedUnset"),value:"",disabled:Ft||cr},{label:Ut("vxe.custom.setting.fixedRight"),value:"right",disabled:Ft||cr||ht}],"onUpdate:modelValue"(kt){ue($e,kt)}}):rt()]):rt()]))}});const Tt={default:()=>Be?d.callSlot(Be,Lt):w("div",{ref:q,class:"vxe-table-custom-popup--body"},[re?w("div",{class:"vxe-table-custom-popup--table-top"},d.callSlot(re,Lt)):Ai(d),w("div",{class:"vxe-table-custom-popup--table-wrapper"},[w("table",{},[w("colgroup",{},[lt?w("col",{class:"vxe-table-custom-popup--table-col-seq"}):rt(),w("col",{class:"vxe-table-custom-popup--table-col-title"}),ct?w("col",{class:"vxe-table-custom-popup--table-col-width"}):rt(),mt?w("col",{class:"vxe-table-custom-popup--table-col-fixed"}):rt()]),w("thead",{},[w("tr",{},[lt?w("th",{},[w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":bt,"is--indeterminate":dt}],title:Ut("vxe.table.allTitle"),onClick:pe},[w("span",{class:["vxe-checkbox--icon",dt?mr().TABLE_CHECKBOX_INDETERMINATE:bt?mr().TABLE_CHECKBOX_CHECKED:mr().TABLE_CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},Ut("vxe.toolbar.customAll"))])]):rt(),w("th",{},Ut("vxe.custom.setting.colTitle")),ct?w("th",{},Ut("vxe.custom.setting.colResizable")):rt(),mt?w("th",{},Ut(`vxe.custom.setting.${Pe?"colFixedMax":"colFixed"}`,[Pe])):rt()])]),w(Dl,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>it})])]),Ie?w("div",{class:"vxe-table-custom-popup--table-bottom"},d.callSlot(Ie,Lt)):Ai(d),ie()]),footer:()=>tt?d.callSlot(tt,Lt):w("div",{class:"vxe-table-custom-popup--footer"},[n?w(n,{content:Fe.resetButtonText||Ut("vxe.custom.cstmRestore"),disabled:!me,onClick:K}):rt(),Re?n?w(n,{content:Fe.closeButtonText||Ut("vxe.table.customClose"),onClick:j}):rt():n?w(n,{content:Fe.cancelButtonText||Ut("vxe.table.customCancel"),onClick:Z}):rt(),Re?rt():n?w(n,{status:"primary",content:Fe.confirmButtonText||Ut("vxe.custom.cstmConfirm"),onClick:H}):rt()])};return be&&(Tt.header=()=>d.callSlot(be,Lt)),Ve==="drawer"?o?w(o,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",He.className||""].join(" "),modelValue:he.visible,title:He.title||Ut("vxe.custom.cstmTitle"),width:He.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:He.position,resize:!!He.resize,escClosable:!!He.escClosable,maskClosable:!!He.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"($e){he.visible=$e}},Tt):rt():t?w(t,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",Me.className||""].join(" "),modelValue:he.visible,title:Me.title||Ut("vxe.custom.cstmTitle"),width:Me.width||Math.min(880,document.documentElement.clientWidth),minWidth:Me.minWidth||700,height:Me.height||Math.min(680,document.documentElement.clientHeight),minHeight:Me.minHeight||400,showZoom:Me.showZoom,showMaximize:Me.showMaximize,showMinimize:Me.showMinimize,mask:Me.mask,lockView:Me.lockView,resize:Me.resize,escClosable:!!Me.escClosable,maskClosable:!!Me.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"($e){he.visible=$e}},Tt):rt()},Oe=()=>{const fe=i.value;return["modal","drawer","popup"].includes(`${fe.mode}`)?se():we()};return ge(()=>{const fe=i.value,{mode:he}=fe;t||Ke("vxe.error.reqComp",["vxe-modal"]),!o&&he==="drawer"&&Ke("vxe.error.reqComp",["vxe-drawer"]),n||Ke("vxe.error.reqComp",["vxe-button"]),u||Ke("vxe.error.reqComp",["vxe-number-input"]),c||Ke("vxe.error.reqComp",["vxe-radio-group"])}),Oe}}),{getI18n:Li,getIcon:Ql,renderer:Mm}=ve,pR=lo({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e,t){const o=f.uniqueId(),n=Lr("$xeTable",{}),{reactData:u,internalData:c,getComputeMaps:d}=n,{computeFilterOpts:v}=d(),m=ze(),x={refElem:m},i={xID:o,props:e,context:t,getRefMaps:()=>x},s=Ne(()=>{const{filterStore:D}=e;return D&&D.options.some(F=>F.checked)}),y=(D,F)=>{const{filterStore:H}=e;H.options.forEach(j=>{j._checked=F,j.checked=F}),H.isAllSelected=F,H.isIndeterminate=!1},O=D=>{n.handleFilterConfirmFilter(D)},S=(D,F,H)=>{n.handleFilterChangeRadioOption(D,F,H)},T=D=>{n.handleFilterResetFilter(D)},q=(D,F,H)=>{n.handleFilterChangeMultipleOption(D,F,H)},A=(D,F,H)=>{n.handleFilterChangeOption(D,F,H)},_=(D,F)=>{const{filterStore:H}=e;H.multiple?y(D,F):T(D)};Object.assign(i,{changeRadioOption:S,changeMultipleOption:q,changeAllOption:_,changeOption:A,confirmFilter:O,resetFilter:T});const Y=(D,F)=>{const{filterStore:H}=e,{column:j,multiple:Z,maxHeight:k}=H,K=j?j.slots:null,J=K?K.filter:null,Ce=Object.assign({},c._currFilterParams,{$panel:i,$table:n}),xe=F?F.renderTableFilter||F.renderFilter:null;if(J)return[w("div",{class:"vxe-table--filter-template",style:k?{maxHeight:`${k}px`}:{}},n.callSlot(J,Ce))];if(xe)return[w("div",{class:"vxe-table--filter-template",style:k?{maxHeight:`${k}px`}:{}},Ar(xe(D,Ce)))];const ue=Z?H.isAllSelected:!H.options.some(Se=>Se._checked),pe=Z&&H.isIndeterminate;return[w("ul",{class:"vxe-table--filter-header"},[w("li",{class:["vxe-table--filter-option",{"is--checked":ue,"is--indeterminate":pe}],title:Li(Z?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:Se=>{_(Se,!H.isAllSelected)}},(Z?[w("span",{class:["vxe-checkbox--icon",pe?Ql().TABLE_CHECKBOX_INDETERMINATE:ue?Ql().TABLE_CHECKBOX_CHECKED:Ql().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([w("span",{class:"vxe-checkbox--label"},Li("vxe.table.allFilter"))]))]),w("ul",{class:"vxe-table--filter-body",style:k?{maxHeight:`${k}px`}:{}},H.options.map(Se=>{const Ee=Se._checked;return w("li",{class:["vxe-table--filter-option",{"is--checked":Se._checked}],title:Se.label,onClick:W=>{A(W,!Se._checked,Se)}},(Z?[w("span",{class:["vxe-checkbox--icon",Ee?Ql().TABLE_CHECKBOX_CHECKED:Ql().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([w("span",{class:"vxe-checkbox--label"},Cr(Se.label,1))]))}))]},ee=()=>{const{filterStore:D}=e,{column:F,multiple:H}=D,j=v.value,Z=s.value,{filterRender:k}=F,K=xt(k)?Mm.get(k.name):null,J=!Z&&!D.isAllSelected&&!D.isIndeterminate;return H&&(!K||!(K.showTableFilterFooter===!1||K.showFilterFooter===!1||K.isFooter===!1))?[w("div",{class:"vxe-table--filter-footer"},[w("button",{class:{"is--disabled":J},disabled:J,onClick:O},j.confirmButtonText||Li("vxe.table.confirmFilter")),w("button",{onClick:T},j.resetButtonText||Li("vxe.table.resetFilter"))])]:[]},X=()=>{const{filterStore:D}=e,{initStore:F}=u,{visible:H,multiple:j,column:Z}=D,k=Z?Z.filterRender:null,K=xt(k)?Mm.get(k.name):null,J=K?K.tableFilterClassName||K.filterClassName:"",Ce=Object.assign({},c._currFilterParams,{$panel:i,$table:n}),xe=n.props,{computeSize:ue}=n.getComputeMaps(),pe=ue.value,Se=v.value,{transfer:Ee,destroyOnClose:W}=Se;return w(Ym,{to:"body",disabled:!Ee},[w("div",{ref:m,class:["vxe-table--filter-wrapper","filter--prevent-default",bn(J,Ce),{[`size--${pe}`]:pe,"is--animat":xe.animat,"is--multiple":j,"is--active":H}],style:D.style},F.filter&&(!W||H)&&Z?Y(k,K).concat(ee()):[])])};return i.renderVN=X,i},render(){return this.renderVN()}}),{getI18n:_n,getIcon:gR}=ve,vR=lo({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=ve.getComponent("VxeModal"),o=ve.getComponent("VxeButton"),n=ve.getComponent("VxeSelect"),u=Lr("$xeTable",{}),{computeImportOpts:c}=u.getComputeMaps(),d=Co({loading:!1}),v=ze(),m=Ne(()=>{const{storeData:A}=e;return`${A.filename}.${A.type}`}),x=Ne(()=>{const{storeData:A}=e;return A.file&&A.type}),i=Ne(()=>{const{storeData:A}=e,{type:_,typeList:V}=A;if(_){const Y=f.find(V,ee=>_===ee.value);return Y?Y.label:"*.*"}return`*.${V.map(Y=>Y.value).join(", *.")}`}),s=()=>{const{storeData:A}=e;Object.assign(A,{filename:"",sheetName:"",type:""})},y=()=>{const{storeData:A,defaultOptions:_}=e;u.readFile(_).then(V=>{const{file:Y}=V;Object.assign(A,Sx(Y),{file:Y})}).catch(V=>V)},O=()=>{ge(()=>{const A=v.value;A&&A.focus()})},S=()=>{const{storeData:A}=e;A.visible=!1},T=()=>{const{storeData:A,defaultOptions:_}=e,V=c.value;d.loading=!0,u.importByFile(A.file,Object.assign({},V,_)).then(()=>{d.loading=!1,A.visible=!1}).catch(()=>{d.loading=!1})},q=()=>{const A=u.xeGrid,{defaultOptions:_,storeData:V}=e,Y=m.value,ee=x.value,X=i.value,D=_.slots||{},F=D.top,H=D.bottom,j=D.default,Z=D.footer;return t?w(t,{id:"VXE_IMPORT_MODAL",modelValue:V.visible,title:_n("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:d.loading,"onUpdate:modelValue"(k){V.visible=k},onShow:O},{default:()=>{const k={$table:u,$grid:A,options:_,params:_.params};return w("div",{class:"vxe-table-export--panel"},[F?w("div",{class:"vxe-table-export--panel-top"},u.callSlot(F,k)):rt(),w("div",{class:"vxe-table-export--panel-body"},j?u.callSlot(j,k):[w("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[w("tbody",[w("tr",[w("td",_n("vxe.import.impFile")),w("td",[ee?w("div",{class:"vxe-table-export--selected--file",title:Y},[w("span",Y),w("i",{class:gR().INPUT_CLEAR,onClick:s})]):w("button",{ref:v,class:"vxe-table-export--select--file",onClick:y},_n("vxe.import.impSelect"))])]),w("tr",[w("td",_n("vxe.import.impType")),w("td",X)]),w("tr",[w("td",_n("vxe.import.impMode")),w("td",[n?w(n,{modelValue:_.mode,options:V.modeList,"onUpdate:modelValue"(K){_.mode=K}}):rt()])])])])]),H?w("div",{class:"vxe-table-export--panel-bottom"},u.callSlot(H,k)):rt()])},footer(){const k={$table:u,$grid:A,options:_,params:_.params};return w("div",{class:"vxe-table-export--panel-footer"},Z?u.callSlot(Z,k):[w("div",{class:"vxe-table-export--panel-btns"},[o?w(o,{content:_n("vxe.import.impCancel"),onClick:S}):rt(),o?w(o,{status:"primary",disabled:!ee||d.loading,content:_n("vxe.import.impConfirm"),onClick:T}):rt()])])}}):rt()};return ge(()=>{t||Ke("vxe.error.reqComp",["vxe-modal"]),o||Ke("vxe.error.reqComp",["vxe-button"]),n||Ke("vxe.error.reqComp",["vxe-select"])}),q}}),{getI18n:Kt,getIcon:fl}=ve,mR=lo({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=ve.getComponent("VxeModal"),o=ve.getComponent("VxeButton"),n=ve.getComponent("VxeSelect"),u=ve.getComponent("VxeInput"),c=ve.getComponent("VxeCheckbox"),d=Lr("$xeTable",{}),{computeExportOpts:v,computePrintOpts:m}=d.getComputeMaps(),x=Co({isAll:!1,isIndeterminate:!1,loading:!1}),i=ze(),s=ze(),y=ze(),O=Ne(()=>{const{storeData:k}=e;return k.columns.every(K=>K.checked)}),S=Ne(()=>{const{defaultOptions:k}=e;return["html","xml","xlsx","pdf"].indexOf(k.type)>-1}),T=Ne(()=>{const{storeData:k,defaultOptions:K}=e;return!K.original&&K.mode==="current"&&(k.isPrint||["html","xlsx"].indexOf(K.type)>-1)}),q=Ne(()=>{const{defaultOptions:k}=e;return!k.original&&["xlsx"].indexOf(k.type)>-1}),A=k=>{const{storeData:K}=e,J=f.findTree(K.columns,Ce=>Ce===k);if(J&&J.parent){const{parent:Ce}=J;Ce.children&&Ce.children.length&&(Ce.checked=Ce.children.every(xe=>xe.checked),Ce.halfChecked=!Ce.checked&&Ce.children.some(xe=>xe.checked||xe.halfChecked),A(Ce))}},_=()=>{const{storeData:k}=e,K=k.columns;x.isAll=K.every(J=>J.disabled||J.checked),x.isIndeterminate=!x.isAll&&K.some(J=>!J.disabled&&(J.checked||J.halfChecked))},V=k=>{const K=!k.checked;f.eachTree([k],J=>{J.checked=K,J.halfChecked=!1}),A(k),_()},Y=()=>{const{storeData:k}=e,K=!x.isAll;f.eachTree(k.columns,J=>{J.disabled||(J.checked=K,J.halfChecked=!1)}),x.isAll=K,_()},ee=()=>{ge(()=>{const k=s.value,K=y.value,J=i.value,Ce=k||K||J;Ce&&Ce.focus()}),_()},X=()=>{const{storeData:k,defaultOptions:K}=e,{hasMerge:J,columns:Ce}=k,xe=O.value,ue=T.value,pe=f.searchTree(Ce,Se=>Se.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},K,{columns:pe,isMerge:J&&ue&&xe?K.isMerge:!1})},D=()=>{const{storeData:k}=e,K=m.value;k.visible=!1,d.print(Object.assign({},K,X()))},F=()=>{const{storeData:k}=e,K=v.value;x.loading=!0,d.exportData(Object.assign({},K,X())).then(()=>{x.loading=!1,k.visible=!1}).catch(()=>{x.loading=!1})},H=()=>{const{storeData:k}=e;k.visible=!1},j=()=>{const{storeData:k}=e;k.isPrint?D():F()},Z=()=>{const k=d.xeGrid,{defaultOptions:K,storeData:J}=e,{isAll:Ce,isIndeterminate:xe}=x,{hasTree:ue,hasMerge:pe,isPrint:Se,hasColgroup:Ee,columns:W}=J,{isHeader:de}=K,ce=[],ne=O.value,oe=S.value,ie=T.value,we=q.value,se=K.slots||{},Oe=se.top,fe=se.bottom,he=se.default,Te=se.footer,me=se.parameter;return f.eachTree(W,le=>{const Fe=Cr(le.getTitle(),1),Re=le.children&&le.children.length,Ye=le.checked,Ve=le.halfChecked,je=le.type==="html";ce.push(w("li",{key:le.id,class:["vxe-table-export--panel-column-option",`level--${le.level}`,{"is--group":Re,"is--checked":Ye,"is--indeterminate":Ve,"is--disabled":le.disabled}],title:je?"":Fe,onClick:()=>{le.disabled||V(le)}},[w("span",{class:["vxe-checkbox--icon",Ve?fl().TABLE_CHECKBOX_INDETERMINATE:Ye?fl().TABLE_CHECKBOX_CHECKED:fl().TABLE_CHECKBOX_UNCHECKED]}),je?w("span",{key:"1",class:"vxe-checkbox--label",innerHTML:Fe}):w("span",{key:"0",class:"vxe-checkbox--label"},Fe)]))}),t?w(t,{id:"VXE_EXPORT_MODAL",modelValue:J.visible,title:Kt(Se?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:x.loading,"onUpdate:modelValue"(le){J.visible=le},onShow:ee},{default:()=>{const le={$table:d,$grid:k,options:K,columns:W,params:K.params},Fe=K.mode==="empty";return w("div",{class:"vxe-table-export--panel"},[Oe?w("div",{class:"vxe-table-export--panel-top"},d.callSlot(Oe,le)):rt(),w("div",{class:"vxe-table-export--panel-body"},he?d.callSlot(he,le):[w("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[w("tbody",[[Se?rt():w("tr",[w("td",Kt("vxe.export.expName")),w("td",[u?w(u,{ref:s,modelValue:K.filename,type:"text",clearable:!0,placeholder:Kt("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(Re){K.filename=Re}}):rt()])]),Se?rt():w("tr",[w("td",Kt("vxe.export.expType")),w("td",[n?w(n,{modelValue:K.type,options:J.typeList,"onUpdate:modelValue"(Re){K.type=Re}}):rt()])]),Se||oe?w("tr",[w("td",Kt("vxe.export.expSheetName")),w("td",[u?w(u,{ref:y,modelValue:K.sheetName,type:"text",clearable:!0,placeholder:Kt("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(Re){K.sheetName=Re}}):rt()])]):rt(),w("tr",[w("td",Kt("vxe.export.expMode")),w("td",[n?w(n,{modelValue:K.mode,options:J.modeList.map(Re=>({value:Re.value,label:Kt(Re.label)})),"onUpdate:modelValue"(Re){K.mode=Re}}):rt()])]),w("tr",[w("td",[Kt("vxe.export.expColumn")]),w("td",[w("div",{class:"vxe-table-export--panel-column"},[w("ul",{class:"vxe-table-export--panel-column-header"},[w("li",{class:["vxe-table-export--panel-column-option",{"is--checked":Ce,"is--indeterminate":xe}],title:Kt("vxe.table.allTitle"),onClick:Y},[w("span",{class:["vxe-checkbox--icon",xe?fl().TABLE_CHECKBOX_INDETERMINATE:Ce?fl().TABLE_CHECKBOX_CHECKED:fl().TABLE_CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},Kt("vxe.export.expCurrentColumn"))])]),w("ul",{class:"vxe-table-export--panel-column-body"},ce)])])]),w("tr",[w("td",Kt("vxe.export.expOpts")),me?w("td",[w("div",{class:"vxe-table-export--panel-option-row"},d.callSlot(me,le))]):w("td",[w("div",{class:"vxe-table-export--panel-option-row"},[c?w(c,{modelValue:Fe||de,disabled:Fe,title:Kt("vxe.export.expHeaderTitle"),content:Kt("vxe.export.expOptHeader"),"onUpdate:modelValue"(Re){K.isHeader=Re}}):rt(),c?w(c,{modelValue:de?K.isTitle:!1,disabled:!de,title:Kt("vxe.export.expTitleTitle"),content:Kt("vxe.export.expOptTitle"),"onUpdate:modelValue"(Re){K.isTitle=Re}}):rt(),c?w(c,{modelValue:de&&Ee&&ie?K.isColgroup:!1,title:Kt("vxe.export.expColgroupTitle"),disabled:!de||!Ee||!ie,content:Kt("vxe.export.expOptColgroup"),"onUpdate:modelValue"(Re){K.isColgroup=Re}}):rt()]),w("div",{class:"vxe-table-export--panel-option-row"},[c?w(c,{modelValue:Fe?!1:K.original,disabled:Fe,title:Kt("vxe.export.expOriginalTitle"),content:Kt("vxe.export.expOptOriginal"),"onUpdate:modelValue"(Re){K.original=Re}}):rt(),c?w(c,{modelValue:pe&&ie&&ne?K.isMerge:!1,title:Kt("vxe.export.expMergeTitle"),disabled:Fe||!pe||!ie||!ne,content:Kt("vxe.export.expOptMerge"),"onUpdate:modelValue"(Re){K.isMerge=Re}}):rt(),Se||!c?rt():w(c,{modelValue:we?K.useStyle:!1,disabled:!we,title:Kt("vxe.export.expUseStyleTitle"),content:Kt("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(Re){K.useStyle=Re}}),c?w(c,{modelValue:ue?K.isAllExpand:!1,disabled:Fe||!ue,title:Kt("vxe.export.expAllExpandTitle"),content:Kt("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(Re){K.isAllExpand=Re}}):rt()]),w("div",{class:"vxe-table-export--panel-option-row"},[c?w(c,{modelValue:K.isFooter,disabled:!J.hasFooter,title:Kt("vxe.export.expFooterTitle"),content:Kt("vxe.export.expOptFooter"),"onUpdate:modelValue"(Re){K.isFooter=Re}}):rt()])])])]])])]),fe?w("div",{class:"vxe-table-export--panel-bottom"},d.callSlot(fe,le)):rt()])},footer(){const le={$table:d,$grid:k,options:K,columns:W,params:K.params};return w("div",{class:"vxe-table-export--panel-footer"},Te?d.callSlot(Te,le):[w("div",{class:"vxe-table-export--panel-btns"},[o?w(o,{content:Kt("vxe.export.expCancel"),onClick:H}):rt(),o?w(o,{ref:i,status:"primary",content:Kt(Se?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:j}):rt()])])}}):rt()};return ge(()=>{t||Ke("vxe.error.reqComp",["vxe-modal"]),o||Ke("vxe.error.reqComp",["vxe-button"]),n||Ke("vxe.error.reqComp",["vxe-select"]),u||Ke("vxe.error.reqComp",["vxe-input"]),c||Ke("vxe.error.reqComp",["vxe-checkbox"])}),Z}}),{getIcon:bR}=ve,xR=lo({name:"VxeTableMenuPanel",setup(e,t){const o=f.uniqueId(),n=Lr("$xeTable",{}),{reactData:u}=n,c=ze(),d={refElem:c},v={xID:o,props:e,context:t,getRefMaps:()=>d},m=()=>{const{ctxMenuStore:x}=u,{computeMenuOpts:i}=n.getComputeMaps(),s=i.value;return w(Ym,{to:"body",disabled:!1},[w("div",{ref:c,class:["vxe-table--context-menu-wrapper",s.className,{"is--visible":x.visible}],style:x.style},x.list.map((y,O)=>y.every(S=>S.visible===!1)?rt():w("ul",{class:"vxe-context-menu--option-wrapper",key:O},y.map((S,T)=>{const q=S.children&&S.children.some(Y=>Y.visible!==!1),A=Object.assign({},S.prefixConfig),_=Object.assign({},S.suffixConfig),V=Po(S.name);return S.visible===!1?null:w("li",{class:[S.className,{"link--disabled":S.disabled,"link--active":S===x.selected}],key:`${O}_${T}`},[w("a",{class:"vxe-context-menu--link",onClick(Y){n.ctxMenuLinkEvent(Y,S)},onMouseover(Y){n.ctxMenuMouseoverEvent(Y,S)},onMouseout(Y){n.ctxMenuMouseoutEvent(Y,S)}},[w("div",{class:["vxe-context-menu--link-prefix",A.className||""]},[w("i",{class:A.icon||S.prefixIcon}),A.content?w("span",{},`${A.content}`):rt()]),w("div",{class:"vxe-context-menu--link-content",title:V},V),w("div",{class:["vxe-context-menu--link-suffix",_.className||""]},[w("i",{class:_.icon||S.suffixIcon||(q?bR().TABLE_MENU_OPTIONS:"")}),_.content?w("span",`${_.content}`):rt()])]),q?w("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":S===x.selected&&x.showChild}]},S.children.map((Y,ee)=>{const X=Object.assign({},Y.prefixConfig),D=Object.assign({},Y.suffixConfig),F=Po(Y.name);return Y.visible===!1?null:w("li",{class:[Y.className,{"link--disabled":Y.disabled,"link--active":Y===x.selectChild}],key:`${O}_${T}_${ee}`},[w("a",{class:"vxe-context-menu--link",onClick(H){n.ctxMenuLinkEvent(H,Y)},onMouseover(H){n.ctxMenuMouseoverEvent(H,S,Y)},onMouseout(H){n.ctxMenuMouseoutEvent(H,S)}},[w("div",{class:["vxe-context-menu--link-prefix",X.className||""]},[w("i",{class:X.icon||Y.prefixIcon}),X.content?w("span",`${X.content}`):rt()]),w("div",{class:"vxe-context-menu--link-content",title:F},F),w("div",{class:["vxe-context-menu--link-suffix",D.className||""]},[w("i",{class:D.icon}),D.content?w("span",`${D.content}`):rt()])])])})):null])}))))])};return v.renderVN=m,v},render(){return this.renderVN()}}),{getConfig:Ot,getIcon:Hi,getI18n:Fo,renderer:Tm,formats:Fm,createEvent:CR,globalResize:wR,interceptor:Im,hooks:yR,globalEvents:Yt,GLOBAL_EVENT_KEYS:oo,useFns:ER,renderEmptyElement:kr}=ve,km=5e6,Am="VXE_CUSTOM_STORE",Nn=5e6,hl=5e6,Vn=lo({name:"VxeTable",props:Ui,emits:Sf,setup(e,t){const{slots:o,emit:n}=t,u=f.uniqueId(),c=f.browse(),d=ve.getComponent("VxeLoading"),v=ve.getComponent("VxeTooltip"),m=Lr("$xeTabs",null),{computeSize:x}=ER.useSize(e),i=Co({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),s={tZindex:0,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeBodyList:[],mergeBodyMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeBodyCellMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let y={},O={};const S=ze(),T=ze(),q=ze(),A=ze(),_=ze(),V=ze(),Y=ze(),ee=ze(),X=ze(),D=ze(),F=ze(),H=ze(),j=ze(),Z=ze(),k=ze(),K=ze(),J=ze(),Ce=ze(),xe=ze(),ue=ze(),pe=ze(),Se=ze(),Ee=ze(),W=ze(),de=ze(),ce=ze(),ne=ze(),oe=ze(),ie=ze(),we=ze(),se=ze(),Oe=ze(),fe=ze(),he=ze(),Te=ze(),me=ze(),le=ze(),Fe=ze(),Re=ze(),Ye=ze(),Ve=Lr("$xeGrid",null);let je;const Le=Ne(()=>{const{id:r}=e;return r?f.isFunction(r)?`${r({$table:h,$grid:Ve})||""}`:`${r}`:""}),lt=Ne(()=>Object.assign({},Ot().table.validConfig,e.validConfig)),yt=Ne(()=>at.value),mt=Ne(()=>{const r=at.value,{threshold:l}=r;return l?f.toNumber(l):0}),ct=Ne(()=>vt.value),at=Ne(()=>Object.assign({},Ot().table.scrollX,Ot().table.virtualXConfig,e.scrollX,e.virtualXConfig)),vt=Ne(()=>Object.assign({},Ot().table.scrollY,Ot().table.virtualYConfig,e.scrollY,e.virtualYConfig)),Ze=Ne(()=>Object.assign({},Ot().table.scrollbarConfig,e.scrollbarConfig)),Pe=Ne(()=>{const r=Ze.value;return!!(r.x&&r.x.position==="top")}),Ue=Ne(()=>{const r=Ze.value;return!!(r.y&&r.y.position==="left")}),ut=Ne(()=>{const r=vt.value,{threshold:l}=r;return l?f.toNumber(l):0}),Ae=Ne(()=>i.rowHeightStore),Me=Ne(()=>{const r=x.value;return Ae.value[r||"default"]||18}),He=Ne(()=>Object.assign({},Ot().table.columnConfig,e.columnConfig)),ht=Ne(()=>Object.assign({},Ot().table.currentColumnConfig,e.currentColumnConfig)),et=Ne(()=>{const r=Object.assign({},Ot().table.cellConfig,e.cellConfig);return r.height&&(r.height=f.toNumber(r.height)),r}),ae=Ne(()=>{const r=Object.assign({},Ot().table.headerCellConfig,e.headerCellConfig);return r.height&&(r.height=f.toNumber(r.height)),r}),be=Ne(()=>{const r=Object.assign({},Ot().table.footerCellConfig,e.footerCellConfig);return r.height&&(r.height=f.toNumber(r.height)),r}),re=Ne(()=>Object.assign({},Ot().table.rowConfig,e.rowConfig)),Ie=Ne(()=>Object.assign({},Ot().table.rowGroupConfig,e.rowGroupConfig)),Be=Ne(()=>Object.assign({},Ot().table.currentRowConfig,e.currentRowConfig)),tt=Ne(()=>Object.assign({},Ot().table.rowDragConfig,e.rowDragConfig)),it=Ne(()=>Object.assign({},Ot().table.columnDragConfig,e.columnDragConfig)),bt=Ne(()=>Object.assign({},Ot().table.resizeConfig,e.resizeConfig)),dt=Ne(()=>Object.assign({},Ot().table.resizableConfig,e.resizableConfig)),Lt=Ne(()=>Object.assign({startIndex:0},Ot().table.seqConfig,e.seqConfig)),Tt=Ne(()=>Object.assign({},Ot().table.radioConfig,e.radioConfig)),$e=Ne(()=>Object.assign({},Ot().table.checkboxConfig,e.checkboxConfig)),Bt=Ne(()=>Object.assign({},Ot().tooltip,Ot().table.tooltipConfig,e.tooltipConfig)),Pt=Ne(()=>{const{tooltipStore:r}=i,l=Bt.value;return Object.assign({},l,r.currOpts)}),Gt=Ne(()=>{const r=Bt.value;return Object.assign({},r)}),Xt=Ne(()=>Object.assign({},Ot().table.editConfig,e.editConfig)),jt=Ne(()=>Object.assign({orders:["asc","desc",null]},Ot().table.sortConfig,e.sortConfig)),ar=Ne(()=>Object.assign({},Ot().table.filterConfig,e.filterConfig)),St=Ne(()=>Object.assign({},Ot().table.mouseConfig,e.mouseConfig)),Zt=Ne(()=>Object.assign({},Ot().table.areaConfig,e.areaConfig)),Qe=Ne(()=>Object.assign({},Ot().table.keyboardConfig,e.keyboardConfig)),Ht=Ne(()=>Object.assign({},Ot().table.clipConfig,e.clipConfig)),dr=Ne(()=>Object.assign({},Ot().table.fnrConfig,e.fnrConfig)),Ft=Ne(()=>Object.assign({},Ot().table.menuConfig,e.menuConfig)),cr=Ne(()=>{const{columnStore:r}=i,{leftList:l}=r;let a=0;for(let p=0;p<l.length;p++){const g=l[p];a+=g.renderWidth}return a}),kt=Ne(()=>{const{columnStore:r}=i,{rightList:l}=r;let a=0;for(let p=0;p<l.length;p++){const g=l[p];a+=g.renderWidth}return a}),lr=Ne(()=>{const l=Ft.value.header;return l&&l.options?l.options:[]}),gr=Ne(()=>{const l=Ft.value.body;return l&&l.options?l.options:[]}),zt=Ne(()=>{const l=Ft.value.footer;return l&&l.options?l.options:[]}),Qt=Ne(()=>{const r=Ft.value,l=lr.value,a=gr.value,p=zt.value;return!!(e.menuConfig&&xt(r)&&(l.length||a.length||p.length))}),Rr=Ne(()=>{const{ctxMenuStore:r}=i,l=[];return r.list.forEach(a=>{a.forEach(p=>{l.push(p)})}),l}),vr=Ne(()=>Object.assign({},Ot().table.exportConfig,e.exportConfig)),ir=Ne(()=>Object.assign({},Ot().table.importConfig,e.importConfig)),wr=Ne(()=>Object.assign({},Ot().table.printConfig,e.printConfig)),Ct=Ne(()=>Object.assign({},Ot().table.expandConfig,e.expandConfig)),st=Ne(()=>Object.assign({},Ot().table.treeConfig,e.treeConfig)),fr=Ne(()=>Object.assign({},Ot().table.emptyRender,e.emptyRender)),io=Ne(()=>Object.assign({},Ot().table.loadingConfig,e.loadingConfig)),so=Ne(()=>e.border?Math.max(2,Math.ceil(i.scrollbarWidth/i.tableColumn.length)):1),yr=Ne(()=>Object.assign({},Ot().table.customConfig,e.customConfig)),Qo=Ne(()=>{const{treeConfig:r}=e,{rowExpandedFlag:l,expandColumn:a,rowGroupExpandedFlag:p,treeExpandedFlag:g,isRowGroupStatus:b}=i,{visibleDataRowIdData:C,rowExpandedMaps:E}=s,R=st.value,{transform:M}=R,I=[];if(a&&l&&p&&g)if(b||r&&M)f.each(E,(P,N)=>{C[N]&&I.push(P)});else return f.values(E);return I}),Kn=Ne(()=>{const{visibleColumn:r}=s,{tableColumn:l}=i;return l.length||r.length?r.filter(a=>a.width==="auto"||a.minWidth==="auto"):[]}),en=Ne(()=>{const{tableColumn:r}=i,{collectColumn:l}=s;let a=0;return r.length&&l.length&&l.forEach(p=>{p.renderFixed&&a++}),a}),Zn=Ne(()=>{const r=en.value,l=He.value,{maxFixedSize:a}=l;return a?r>=a:!1}),Jn=Ne(()=>{const{border:r}=e;return r===!0?"full":r||"default"}),Hl=Ne(()=>{const{treeConfig:r}=e,{tableData:l}=i,{tableFullData:a}=s,p=$e.value,{strict:g,checkMethod:b}=p;return g?l.length||a.length?b?a.every(C=>!b({$table:h,row:C})):!1:!0:!1}),ql=Ne(()=>{const{overflowX:r,scrollXLoad:l,overflowY:a,scrollYLoad:p}=i;return{x:r&&l,y:a&&p}}),_l=Ne(()=>Ie.value.groupFields),Qn={refElem:S,refTooltip:q,refValidTooltip:_,refTableFilter:Y,refTableCustom:ee,refTableMenu:V,refTableHeader:D,refTableBody:F,refTableFooter:H,refTableLeftHeader:j,refTableLeftBody:Z,refTableLeftFooter:k,refTableRightHeader:K,refTableRightBody:J,refTableRightFooter:Ce,refLeftContainer:xe,refRightContainer:ue,refColResizeBar:pe,refRowResizeBar:Se,refScrollXVirtualElem:ie,refScrollYVirtualElem:we,refScrollXHandleElem:se,refScrollYHandleElem:he,refScrollXSpaceElem:Re,refScrollYSpaceElem:Ye},el={computeSize:x,computeTableId:Le,computeValidOpts:lt,computeVirtualXOpts:at,computeVirtualYOpts:vt,computeScrollbarOpts:Ze,computeScrollbarXToTop:Pe,computeScrollbarYToLeft:Ue,computeColumnOpts:He,computeCurrentColumnOpts:ht,computeScrollXThreshold:mt,computeScrollYThreshold:ut,computeRowHeightMaps:Ae,computeDefaultRowHeight:Me,computeCellOpts:et,computeHeaderCellOpts:ae,computeFooterCellOpts:be,computeRowOpts:re,computeRowGroupOpts:Ie,computeCurrentRowOpts:Be,computeRowDragOpts:tt,computeColumnDragOpts:it,computeResizeOpts:bt,computeResizableOpts:dt,computeSeqOpts:Lt,computeRadioOpts:Tt,computeCheckboxOpts:$e,computeTooltipOpts:Bt,computeEditOpts:Xt,computeSortOpts:jt,computeFilterOpts:ar,computeMouseOpts:St,computeAreaOpts:Zt,computeKeyboardOpts:Qe,computeClipOpts:Ht,computeFNROpts:dr,computeHeaderMenu:lr,computeBodyMenu:gr,computeFooterMenu:zt,computeIsMenu:Qt,computeMenuList:Rr,computeMenuOpts:Ft,computeExportOpts:vr,computeImportOpts:ir,computePrintOpts:wr,computeExpandOpts:Ct,computeTreeOpts:st,computeEmptyOpts:fr,computeLoadingOpts:io,computeCellOffsetWidth:so,computeCustomOpts:yr,computeLeftFixedWidth:cr,computeRightFixedWidth:kt,computeFixedColumnSize:en,computeIsMaxFixedColumn:Zn,computeIsAllCheckboxDisabled:Hl,computeVirtualScrollBars:ql,computeSXOpts:yt,computeSYOpts:ct},h={xID:u,props:e,context:t,reactData:i,internalData:s,getRefMaps:()=>Qn,getComputeMaps:()=>el,xeGrid:Ve,xegrid:Ve},tl=(r,l,a)=>{const p=f.get(r,a),g=f.get(l,a);return _o(p)&&_o(g)?!0:f.isString(p)||f.isNumber(p)?""+p==""+g:f.isEqual(p,g)},tn=r=>{const l=jt.value,{orders:a}=l,p=r.order||null,g=a.indexOf(p)+1;return a[g<a.length?g:0]},rn=r=>{const l=Ot().version,a=f.toStringJSON(localStorage.getItem(Am)||""),p=a&&a._v===l?a:{_v:l};return(r?p[r]:p)||{}},Ro=(r,l)=>{const a=Ot().version,p=rn();p[r]=l||void 0,p._v=a,localStorage.setItem(Am,f.toJSONString(p))},on=r=>{const{fullAllDataRowIdData:l}=s,a={};return f.each(r,(p,g)=>{l[g]&&(a[g]=p)}),a},nn=r=>{const{fullDataRowIdData:l}=s,a=[];return f.each(r,(p,g)=>{l[g]&&h.findRowIndexOf(a,l[g].row)===-1&&a.push(l[g].row)}),a},Pr=()=>{const{isScrollXBig:r,scrollXWidth:l}=i,{elemStore:a,visibleColumn:p,fullColumnIdData:g}=s,b=cr.value,C=kt.value,E=ot(a["main-body-scroll"]);if(E){const R=E.clientWidth;let M=E.scrollLeft;r&&(M=Math.ceil((l-R)*Math.min(1,M/(hl-R))));const I=M+b,P=M+R-C;let N=0,$=p.length;for(;N<$;){const z=Math.floor((N+$)/2),te=p[z].id;(g[te]||{}).oLeft<=I?N=z+1:$=z}let G=0;const Q=Math.max(0,N<p.length?N-2:0);for(let z=Q,B=p.length;z<B;z++){const U=p[z].id,L=g[U]||{};if(G++,L.oLeft>P||G>=60)break}return{toVisibleIndex:Math.max(0,Q),visibleSize:Math.max(1,G)}}return{toVisibleIndex:0,visibleSize:6}},ln=(r,l)=>{const{rowHeightStore:a}=i;l&&l.clientHeight&&(a[r]=l.clientHeight)},On=()=>{const{isAllOverflow:r}=i,l=D.value,a=F.value,p=a?a.$el:null,g=Me.value;let b=0;if(r){if(p){const C=l?l.$el:null;let E;E=p.querySelector("tr"),!E&&C&&(E=C.querySelector("tr")),E&&(b=E.clientHeight)}b||(b=g)}else b=g;return Math.max(18,b)},Vo=()=>{const{isAllOverflow:r,expandColumn:l,isScrollYBig:a,scrollYHeight:p}=i,{elemStore:g,isResizeCellHeight:b,afterFullData:C,fullAllDataRowIdData:E}=s,R=re.value,M=et.value,I=Me.value,P=ot(g["main-body-scroll"]);if(P){const N=P.clientHeight;let $=P.scrollTop;a&&($=Math.ceil((p-N)*Math.min(1,$/(Nn-N))));const G=$,Q=$+N;let z=-1,B=0;if(!(b||M.height||R.height)&&!l&&r)z=Math.floor(G/I)-1,B=Math.ceil(N/I)+1;else{const{handleGetRowId:U}=pr(h);let L=0,ke=C.length;for(;L<ke;){const ye=Math.floor((L+ke)/2),De=C[ye],Je=U(De);(E[Je]||{}).oTop<=G?L=ye+1:ke=ye}z=Math.max(0,L<C.length?L-2:0);for(let ye=z,De=C.length;ye<De;ye++){const Je=C[ye],We=U(Je),Ge=E[We]||{};if(B++,Ge.oTop>Q||B>=100)break}}return{toVisibleIndex:Math.max(0,z),visibleSize:Math.max(6,B)}}return{toVisibleIndex:0,visibleSize:6}},Dn=(r,l,a)=>{for(let p=0,g=r.length;p<g;p++){const b=r[p],{startIndex:C,endIndex:E}=l,R=b[a],M=b[a+"span"],I=R+M;R<C&&C<I&&(l.startIndex=R),R<E&&E<I&&(l.endIndex=I),(l.startIndex!==C||l.endIndex!==E)&&(p=-1)}};function So(r){const l={};if(r&&r.length)for(let a=0;a<r.length;a++){const{row:p,col:g,rowspan:b,colspan:C}=r[a];for(let E=0;E<b;E++)for(let R=0;R<C;R++)l[`${p+E}:${g+R}`]=!E&&!R?{rowspan:b,colspan:C}:{rowspan:0,colspan:0}}return l}const rl=r=>{const{fullAllDataRowIdData:l,fullColumnIdData:a,visibleColumn:p,afterFullData:g,mergeBodyList:b,mergeBodyMaps:C}=s;if(r){const{handleGetRowId:E}=pr(h);f.isArray(r)||(r=[r]),r.forEach(R=>{let{row:M,col:I,rowspan:P,colspan:N}=R,$=-1,G=-1;if(f.isNumber(M))$=M;else{const Q=M?E(M):null,z=Q?l[Q]:null;z&&($=z._index)}if(f.isNumber(I))G=I;else{const Q=I?I.id:null,z=Q?a[Q]:null;z&&(G=z._index)}if($>-1&&G>-1&&(P||N)&&(P=f.toNumber(P)||1,N=f.toNumber(N)||1,P>1||N>1)){const Q=g[$],z=p[G];let B=C[`${$}:${G}`];B?(B.rowspan=P,B.colspan=N,B._rowspan=P,B._colspan=N):(B={row:$,col:G,rowspan:P,colspan:N,_row:Q,_col:z,_rowspan:P,_colspan:N},C[`${$}:${G}`]=B,b.push(B))}})}},Nl=r=>{const{footerTableData:l}=i,{mergeFooterList:a,mergeFooterMaps:p}=s;if(r){const{visibleColumn:g}=s;f.isArray(r)||(r=[r]),r.forEach(b=>{let{row:C,col:E,rowspan:R,colspan:M}=b;const I=f.isNumber(C)?C:-1;let P=-1;if(f.isNumber(E)&&(P=E),I>-1&&P>-1&&(R||M)&&(R=f.toNumber(R)||1,M=f.toNumber(M)||1,R>1||M>1)){const N=l[I],$=g[P];let G=p[`${I}:${P}`];G?(G.rowspan=R,G.colspan=M,G._rowspan=R,G._colspan=M):(G={row:I,col:P,rowspan:R,colspan:M,_row:N,_col:$,_rowspan:R,_colspan:M},p[`${I}:${P}`]=G,a.push(G))}})}},Br=(r,l,a)=>{const p=[];if(r){const{visibleColumn:g}=s;f.isArray(r)||(r=[r]),r.forEach(b=>{let{row:C,col:E}=b;a&&f.isNumber(C)&&(C=a[C]),f.isNumber(E)&&(E=g[E]);const R=f.findIndexOf(l,M=>(M._row===C||qe(h,M._row)===qe(h,C))&&(M._col.id===E||M._col.id===E.id));if(R>-1){const M=l.splice(R,1);p.push(M[0])}})}return p},Mn=()=>{const{tableFullColumn:r}=s;r.forEach(l=>{l.order=null})},Oo=r=>{const{parentHeight:l}=i,a=e[r];let p=0;if(a)if(a==="100%"||a==="auto")p=l;else{const g=h.getExcludeHeight();Cl(a)?p=Math.floor((f.toInteger(a)||1)/100*l):p=f.toNumber(a),p=Math.max(40,p-g)}return p},sn=r=>{let{collectColumn:l}=s;const{resizableData:a,sortData:p,visibleData:g,fixedData:b}=r;let C=!1;a||p||g||b?(f.eachTree(l,(E,R,M,I,P)=>{const N=E.getKey();P||(b&&b[N]!==void 0&&(E.fixed=b[N]),p&&f.isNumber(p[N])&&(C=!0,E.renderSortNumber=p[N])),a&&f.isNumber(a[N])&&(E.resizeWidth=a[N]),g&&f.isBoolean(g[N])&&(E.visible=g[N])}),C&&(l=f.orderBy(l,"renderSortNumber"),s.collectColumn=l,s.tableFullColumn=Si(l)),i.isCustomStatus=!0):i.isCustomStatus=!1},Do=()=>{const{customConfig:r}=e,l=Le.value,a=yr.value,{storage:p,restoreStore:g}=a,b=p===!0,C=b?{}:Object.assign({},p||{}),E=b||C.resizable,R=b||C.visible,M=b||C.fixed,I=b||C.sort;if((r?xt(a):a.enabled)&&(E||R||M||I)){if(!l){Ke("vxe.error.reqProp",["id"]);return}const P=rn(l);return g?Promise.resolve(g({$table:h,id:l,type:"restore",storeData:P})).then(N=>{if(N)return sn(N)}).catch(N=>N):sn(P)}},ao=()=>{const{tableFullColumn:r,collectColumn:l}=s,a=s.fullColumnIdData={},p=s.fullColumnFieldData={},g=St.value,b=Ct.value,C=He.value,E=it.value,R=vt.value,{isCrossDrag:M,isSelfToChildDrag:I}=E,P=yr.value,{storage:N}=P,$=re.value,G=l.some(yl);let Q=!!e.showOverflow,z,B,te,U,L,ke;const ye=(De,Je,We,Ge,Xe)=>{const{id:_e,field:nt,fixed:pt,type:gt,treeNode:Dt,rowGroupNode:Rt}=De,Vt={$index:-1,_index:-1,column:De,colid:_e,index:Je,items:We,parent:Xe||null,width:0,oLeft:0};nt?(p[nt]&&Ke("vxe.error.colRepet",["field",nt]),p[nt]=Vt):(N&&!gt||C.drag&&(M||I))&&Ke("vxe.error.reqProp",[`${De.getTitle()||gt||""} -> column.field=?`]),!ke&&gt==="html"&&(ke=De),Dt&&(te&&wt("vxe.error.colRepet",["tree-node",Dt]),te||(te=De)),Rt&&(te&&wt("vxe.error.colRepet",["row-group-node",Rt]),z||(z=De)),gt==="expand"&&(B&&wt("vxe.error.colRepet",["type",gt]),B||(B=De)),gt==="checkbox"?(U&&wt("vxe.error.colRepet",["type",gt]),U||(U=De)):gt==="radio"&&(L&&wt("vxe.error.colRepet",["type",gt]),L||(L=De)),Q&&De.showOverflow===!1&&(Q=!1),a[_e]&&Ke("vxe.error.colRepet",["colId",_e]),a[_e]=Vt};G?f.eachTree(l,(De,Je,We,Ge,Xe,_e)=>{De.level=_e.length,ye(De,Je,We,Ge,Xe)}):r.forEach(ye),B&&b.mode!=="fixed"&&R.enabled&&wt("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),B&&b.mode!=="fixed"&&g.area&&Ke("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),ke&&(C.useKey||Ke("vxe.error.reqProp",["column-config.useKey & column.type=html"]),$.useKey||Ke("vxe.error.reqProp",["row-config.useKey & column.type=html"])),i.isGroup=G,i.rowGroupColumn=z,i.treeNodeColumn=te,i.expandColumn=B,i.isAllOverflow=Q},Wo=()=>{s.customHeight=Oo("height"),s.customMinHeight=Oo("minHeight"),s.customMaxHeight=Oo("maxHeight")},ol=(r,l)=>{const a=l.querySelectorAll(`.vxe-cell--wrapper[colid="${r.id}"]`);let p=0;const g=a[0];if(g&&g.parentElement){const C=getComputedStyle(g.parentElement);p=Math.ceil(f.toNumber(C.paddingLeft)+f.toNumber(C.paddingRight))}let b=r.renderAutoWidth-p;for(let C=0;C<a.length;C++){const E=a[C];b=Math.max(b,E?Math.ceil(E.scrollWidth)+4:0)}return b+p},an=()=>{const r=Kn.value,{fullColumnIdData:l}=s,a=S.value;a&&(a.setAttribute("data-calc-col","Y"),r.forEach(p=>{const g=p.id,b=l[g],C=ol(p,a);b&&(b.width=Math.max(C,b.width)),p.renderAutoWidth=C}),h.analyColumnWidth(),a.removeAttribute("data-calc-col"))},cn=()=>{const{elemStore:r}=s,l=ot(r["main-body-wrapper"]);if(!l||!he.value||!se.value)return;let g=0;const b=40,C=l.clientWidth;let E=C,R=E/100;const{fit:M}=e,{columnStore:I}=i,{resizeList:P,pxMinList:N,autoMinList:$,pxList:G,scaleList:Q,scaleMinList:z,autoList:B,remainList:te}=I;if(N.forEach(U=>{const L=f.toInteger(U.minWidth);g+=L,U.renderWidth=L}),$.forEach(U=>{const L=Math.max(60,f.toInteger(U.renderAutoWidth));g+=L,U.renderWidth=L}),z.forEach(U=>{const L=Math.floor(f.toInteger(U.minWidth)*R);g+=L,U.renderWidth=L}),Q.forEach(U=>{const L=Math.floor(f.toInteger(U.width)*R);g+=L,U.renderWidth=L}),G.forEach(U=>{const L=f.toInteger(U.width);g+=L,U.renderWidth=L}),B.forEach(U=>{const L=Math.max(60,f.toInteger(U.renderAutoWidth));g+=L,U.renderWidth=L}),P.forEach(U=>{const L=f.toInteger(U.resizeWidth);g+=L,U.renderWidth=L}),E-=g,R=E>0?Math.floor(E/(z.length+N.length+$.length+te.length)):0,M?E>0&&z.concat(N).concat($).forEach(U=>{g+=R,U.renderWidth+=R}):R=b,te.forEach(U=>{const L=Math.max(R,b);U.renderWidth=L,g+=L}),M){const U=Q.concat(z).concat(N).concat($).concat(te);let L=U.length-1;if(L>0){let ke=C-g;if(ke>0){for(;ke>0&&L>=0;)ke--,U[L--].renderWidth++;g=C}}}i.scrollXWidth=g,i.resizeWidthFlag++,Nf(),Wo()},Tn=(r,l)=>{const a=l.querySelectorAll(`.vxe-cell--wrapper[rowid="${r.rowid}"]`);let p=r.height;for(let g=0;g<a.length;g++){const b=a[g],C=b.parentElement,E=Math.ceil(f.toNumber(C.style.paddingTop)+f.toNumber(C.style.paddingBottom)),R=b?b.clientHeight:0;p=Math.max(p-E,Math.ceil(R))}return p},$r=()=>{const{tableData:r,isAllOverflow:l,scrollYLoad:a,scrollXLoad:p}=i,{fullAllDataRowIdData:g}=s,b=Me.value,C=S.value;if(!l&&a&&C){const{handleGetRowId:E}=pr(h);C.setAttribute("data-calc-row","Y"),r.forEach(R=>{const M=E(R),I=g[M];if(I){const P=Tn(I,C);I.height=Math.max(b,p?Math.max(I.height,P):P)}C.removeAttribute("data-calc-row")}),i.calcCellHeightFlag++}},un=r=>{const{sortBy:l,sortType:a}=r;return p=>{let g;return l?g=f.isFunction(l)?l({row:p,column:r}):f.get(p,l):g=y.getCellLabel(p,r),!a||a==="auto"?isNaN(g)?g:f.toNumber(g):a==="number"?f.toNumber(g):a==="string"?f.toValueString(g):g}},Fn=()=>{const{treeConfig:r}=e,{afterFullData:l,fullDataRowIdData:a,fullAllDataRowIdData:p}=s,{handleGetRowId:g}=pr(h),b={};l.forEach((C,E)=>{const R=g(C),M=p[R],I=E+1;if(M)r||(M.seq=I),M._index=E;else{const P={row:C,rowid:R,seq:I,index:-1,$index:-1,_index:E,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};p[R]=P,a[R]=P}b[R]=C}),s.afterFullRowMaps=b},_r=()=>{const{treeConfig:r}=e,{fullDataRowIdData:l,fullAllDataRowIdData:a,afterTreeFullData:p}=s,g=st.value,{transform:b}=g,C=g.children||g.childrenField,E={};if(r){const{handleGetRowId:R}=pr(h);f.eachTree(p,(M,I,P,N)=>{const $=R(M),G=a[$],Q=N.map((z,B)=>B%2===0?Number(z)+1:".").join("");if(G)G.seq=Q,G.treeIndex=I;else{const z={row:M,rowid:$,seq:Q,index:-1,$index:-1,_index:-1,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};a[$]=z,l[$]=z}E[$]=M},{children:b?g.mapChildrenField:C}),s.afterFullRowMaps=E,Fn()}else Fn()},Qr=()=>{const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{fullAllDataRowIdData:a,treeExpandedMaps:p,rowGroupExpandedMaps:g}=s,b=Ie.value,C=st.value,{handleGetRowId:E}=pr(h),R=[],M={};if(r&&C.transform){const I=C.children||C.childrenField;return f.eachTree(s.afterTreeFullData,(P,N,$,G,Q)=>{const z=E(P),B=E(Q);if(!Q||M[B]&&p[B]){const te=a[z];te&&(te._index=R.length),M[z]=1,R.push(P)}},{children:I}),s.afterFullData=R,Vl(R),R}else if(l){const{childrenField:I}=b;return f.eachTree(s.afterGroupFullData,(P,N,$,G,Q)=>{const z=E(P),B=E(Q);if(!Q||M[B]&&g[B]){const te=a[z];te&&(te._index=R.length),M[z]=1,R.push(P)}},{children:I}),s.afterFullData=R,Vl(R),R}return s.afterFullData},co=()=>{const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{tableFullColumn:a,tableFullData:p,tableFullTreeData:g,tableFullGroupData:b}=s,C=ar.value,E=jt.value,R=Ie.value,M=st.value,I=M.children||M.childrenField,{transform:P,rowField:N,parentField:$,mapChildrenField:G}=M,{isEvery:Q,remote:z,filterMethod:B}=C,{remote:te,sortMethod:U,multiple:L,chronological:ke}=E;let ye=[],De=[];if(!z||!te){const Je=[];let We=[];if(a.forEach(Ge=>{const{field:Xe,sortable:_e,order:nt,filters:pt}=Ge;if(!z&&pt&&pt.length){const gt=[],Dt=[];pt.forEach(Rt=>{Rt.checked&&(Dt.push(Rt),gt.push(Rt.value))}),Dt.length&&Je.push({column:Ge,valueList:gt,itemList:Dt})}!te&&_e&&nt&&We.push({column:Ge,field:Xe,property:Xe,order:nt,sortTime:Ge.sortTime})}),L&&ke&&We.length>1&&(We=f.orderBy(We,"sortTime")),!z&&Je.length){const Ge=Xe=>Je.every(({column:_e,valueList:nt,itemList:pt})=>{const{filterMethod:gt,filterRender:Dt}=_e,Rt=xt(Dt)?Tm.get(Dt.name):null,Vt=Rt?Rt.tableFilterMethod||Rt.filterMethod:null,_t=Rt?Rt.tableFilterDefaultMethod||Rt.defaultTableFilterMethod||Rt.defaultFilterMethod:null,er=br(Xe,_e);return gt?pt.some(Et=>gt({value:Et.value,option:Et,cellValue:er,row:Xe,column:_e,$table:h})):Vt?pt.some(Et=>Vt({value:Et.value,option:Et,cellValue:er,row:Xe,column:_e,$table:h})):B?B({$table:h,options:pt,values:nt,cellValue:er,row:Xe,column:_e}):_t?pt.some(Et=>_t({value:Et.value,option:Et,cellValue:er,row:Xe,column:_e,$table:h})):nt.indexOf(f.get(Xe,_e.field))>-1});l?(De=f.searchTree(b,Ge,{original:!0,isEvery:!0,children:R.mapChildrenField,mapChildren:R.childrenField}),ye=De):r&&P?(De=f.searchTree(g,Ge,{original:!0,isEvery:Q,children:G,mapChildren:I}),ye=De):(ye=r?g.filter(Ge):p.filter(Ge),De=ye)}else l?(De=f.searchTree(b,()=>!0,{original:!0,isEvery:!0,children:R.mapChildrenField,mapChildren:R.childrenField}),ye=De):r&&P?(De=f.searchTree(g,()=>!0,{original:!0,isEvery:Q,children:G,mapChildren:I}),ye=De):(ye=r?g.slice(0):p.slice(0),De=ye);if(!te&&We.length)if(l){if(U){const Ge=U({data:De,sortList:We,$table:h});De=f.isArray(Ge)?Ge:De}else{const Ge=f.toTreeArray(De,{key:R.rowField,parentKey:R.parentField,children:R.mapChildrenField});De=f.toArrayTree(f.orderBy(Ge,We.map(({column:Xe,order:_e})=>[un(Xe),_e])),{key:R.rowField,parentKey:R.parentField,children:R.childrenField,mapChildren:R.mapChildrenField})}ye=De}else if(r&&P){if(U){const Ge=U({data:De,sortList:We,$table:h});De=f.isArray(Ge)?Ge:De}else{const Ge=f.toTreeArray(De,{children:G});De=f.toArrayTree(f.orderBy(Ge,We.map(({column:Xe,order:_e})=>[un(Xe),_e])),{key:N,parentKey:$,children:I,mapChildren:G})}ye=De}else{if(U){const Ge=U({data:ye,sortList:We,$table:h});ye=f.isArray(Ge)?Ge:ye}else ye=f.orderBy(ye,We.map(({column:Ge,order:Xe})=>[un(Ge),Xe]));De=ye}}else l?(De=f.searchTree(b,()=>!0,{original:!0,isEvery:!0,children:R.mapChildrenField,mapChildren:R.childrenField}),ye=De):r&&P?(De=f.searchTree(g,()=>!0,{original:!0,isEvery:Q,children:G,mapChildren:I}),ye=De):(ye=r?g.slice(0):p.slice(0),De=ye);s.afterFullData=ye,s.afterTreeFullData=De,s.afterGroupFullData=De,_r()},qt=()=>{const{showHeaderOverflow:r,showFooterOverflow:l,mouseConfig:a,spanMethod:p,footerSpanMethod:g}=e,{isGroup:b,currentRow:C,tableColumn:E,scrollXLoad:R,scrollYLoad:M,overflowX:I,scrollbarWidth:P,overflowY:N,scrollbarHeight:$,scrollXWidth:G,columnStore:Q,editStore:z,isAllOverflow:B,expandColumn:te,isColLoading:U}=i,{visibleColumn:L,tableHeight:ke,headerHeight:ye,footerHeight:De,elemStore:Je,customHeight:We,customMinHeight:Ge,customMaxHeight:Xe}=s,_e=S.value;if(!_e)return;const nt=["main","left","right"],pt=N?P:0,gt=I?$:0,Dt=Ee.value,Rt=St.value,Vt=Ct.value,_t=ot(Je["main-body-wrapper"]),er=ot(Je["main-body-table"]);Dt&&(Dt.style.top=`${ye}px`,Dt.style.height=_t?`${_t.offsetHeight-gt}px`:"");let Et=0,xr=0;const nr=Ge-ye-De-gt;Xe&&(xr=Math.max(nr,Xe-ye-De-gt)),We&&(Et=We-ye-De-gt),Et||er&&(Et=er.clientHeight),Et&&(xr&&(Et=Math.min(xr,Et)),Et=Math.max(nr,Et));const Or=Pe.value,Er=Oe.value,Fr=fe.value,Wt=ie.value;Wt&&(Wt.style.height=`${gt}px`,Wt.style.visibility=I?"visible":"hidden");const sr=me.value;sr&&(sr.style.left=Or?`${pt}px`:"",sr.style.width=`${_e.clientWidth-pt}px`),Er&&(Er.style.width=Or?`${pt}px`:"",Er.style.display=Or&&I&&gt?"block":""),Fr&&(Fr.style.width=Or?"":`${pt}px`,Fr.style.display=Or?"":I&&gt?"block":"");const Gr=we.value;Gr&&(Gr.style.width=`${pt}px`,Gr.style.height=`${Et+ye+De}px`,Gr.style.visibility=N?"visible":"hidden");const Ir=Te.value;Ir&&(Ir.style.height=`${ye}px`,Ir.style.display=N&&ye?"block":"");const to=le.value;to&&(to.style.height=`${Et}px`,to.style.top=`${ye}px`);const uo=Fe.value;uo&&(uo.style.height=`${De}px`,uo.style.top=`${ye+Et}px`,uo.style.display=N&&De?"block":"");const cl=ne.value;return cl&&(cl.style.height=`${Et}px`,cl.style.top=`${ye}px`),nt.forEach((Go,Fi)=>{const mo=Fi>0?Go:"",_C=["header","body","footer"],Uf=mo==="left";let jl=[],Ul;mo&&(jl=Uf?Q.leftList:Q.rightList,Ul=Uf?xe.value:ue.value),_C.forEach(An=>{const Dr=ot(Je[`${Go}-${An}-wrapper`]),pn=ot(Je[`${Go}-${An}-scroll`]),Ln=ot(Je[`${Go}-${An}-table`]);if(An==="header"){let fo=E,ro=!1;b?fo=L:(R&&r&&(p||g||(ro=!0)),(!ro||!U&&(mo||!I))&&(fo=L),mo&&ro&&(fo=jl||[]));const qr=fo.reduce((ul,Hn)=>ul+Hn.renderWidth,0);mo&&(b?Dr&&(Dr.style.width=G?`${G}px`:""):ro?Dr&&(Dr.style.width=qr?`${qr}px`:""):Dr&&(Dr.style.width=G?`${G}px`:"")),pn&&(pn.style.height=`${ye}px`),Ln&&(Ln.style.width=qr?`${qr}px`:"")}else if(An==="body"){pn&&(pn.style.maxHeight=Xe?`${xr}px`:"",pn.style.height=We?`${Et}px`:"",pn.style.minHeight=`${nr}px`),Ul&&(Dr&&(Dr.style.top=`${ye}px`),Ul.style.height=`${We>0?We:ke+ye+De+gt}px`,Ul.style.width=`${jl.reduce((Hn,Os)=>Hn+Os.renderWidth,0)}px`);let fo=E,ro=!1;(R||M||B)&&(te&&Vt.mode!=="fixed"||p||g||(ro=!0)),mo&&(fo=L,ro&&(fo=jl||[]));const qr=fo.reduce((Hn,Os)=>Hn+Os.renderWidth,0);mo&&(ro?Dr&&(Dr.style.width=qr?`${qr}px`:""):Dr&&(Dr.style.width=G?`${G}px`:"")),Ln&&(Ln.style.width=qr?`${qr}px`:"",Ln.style.paddingRight=pt&&mo&&(c["-moz"]||c.safari)?`${pt}px`:"");const ul=ot(Je[`${Go}-${An}-emptyBlock`]);ul&&(ul.style.width=qr?`${qr}px`:"")}else if(An==="footer"){let fo=E,ro=!1;R&&l&&(p||g||(ro=!0)),(!ro||!U&&(mo||!I))&&(fo=L),mo&&ro&&(fo=jl||[]);const qr=fo.reduce((ul,Hn)=>ul+Hn.renderWidth,0);mo&&(ro?Dr&&(Dr.style.width=qr?`${qr}px`:""):Dr&&(Dr.style.width=G?`${G}px`:"")),pn&&(pn.style.height=`${De}px`,Ul&&Dr&&(Dr.style.top=`${We>0?We-De-gt:ke+ye}px`)),Ln&&(Ln.style.width=qr?`${qr}px`:"")}})}),C&&h.setCurrentRow(C),a&&Rt.selected&&z.selected.row&&z.selected.column&&h.addCellSelectedClass(),ge()},zr=r=>h.triggerValidate?h.triggerValidate(r):ge(),dn=(r,l)=>{zr("blur").catch(a=>a).then(()=>{h.handleEdit(l,r).then(()=>zr("change")).catch(a=>a)})},fn=()=>{const{sortConfig:r}=e;if(r){const l=jt.value;let{defaultSort:a}=l;a&&(f.isArray(a)||(a=[a]),a.length&&((r.multiple?a:a.slice(0,1)).forEach((p,g)=>{const{field:b,order:C}=p;if(b&&C){const E=h.getColumnByField(b);E&&E.sortable&&(E.order=C,E.sortTime=Date.now()+g)}}),l.remote||h.handleTableData(!0).then(qt)))}},Pl=()=>{const{checkboxConfig:r}=e;if(r){const{fullDataRowIdData:l}=s,a=$e.value,{checkAll:p,checkRowKeys:g}=a;if(p)hn(!0,!0);else if(g){const b=[];g.forEach(C=>{l[C]&&b.push(l[C].row)}),Hr(b,!0,!0)}}},In=()=>{const{radioConfig:r}=e;if(r){const{fullDataRowIdData:l}=s,a=Tt.value,{checkRowKey:p,reserve:g}=a;if(p&&(l[p]&&eo(l[p].row,!0),g)){const b=Ao(h);s.radioReserveRow={[b]:p}}}},Bl=()=>{const{expandConfig:r}=e;if(r){const{fullDataRowIdData:l}=s,a=Ct.value,{expandAll:p,expandRowKeys:g}=a;if(p)h.setAllRowExpand(!0);else if(g){const b=[];g.forEach(C=>{l[C]&&b.push(l[C].row)}),h.setRowExpand(b,!0)}}},$l=r=>{Tt.value.reserve&&(s.radioReserveRow=r)},Vr=(r,l)=>{const{checkboxReserveRowMap:a}=s;if($e.value.reserve){const g=qe(h,r);l?a[g]=r:a[g]&&delete a[g]}},eo=(r,l)=>{const a=Tt.value,{checkMethod:p}=a;return r&&(l||!p||p({$table:h,row:r}))&&(i.selectRadioRow=r,$l(r)),ge()},Hr=(r,l,a)=>(r&&!f.isArray(r)&&(r=[r]),h.handleBatchSelectRows(r,!!l,a),h.checkSelectionStatus(),ge()),hn=(r,l)=>{const{treeConfig:a}=e,{isRowGroupStatus:p}=i,{afterFullData:g,afterTreeFullData:b,afterGroupFullData:C,checkboxReserveRowMap:E,selectCheckboxMaps:R}=s,M=st.value,I=Ie.value,P=M.children||M.childrenField,N=$e.value,{checkField:$,reserve:G,checkMethod:Q}=N,{handleGetRowId:z}=pr(h),B=N.indeterminateField||N.halfField,te={};if($){const U=L=>{(l||!Q||Q({$table:h,row:L}))&&(r&&(te[z(L)]=L),f.set(L,$,r)),(a||p)&&B&&f.set(L,B,!1)};a||p?f.eachTree(g,U,{children:P}):g.forEach(U)}else p?r?f.eachTree(C,U=>{if(l||!Q||Q({$table:h,row:U})){const L=z(U);te[L]=U}},{children:I.mapChildrenField}):!l&&Q&&f.eachTree(C,U=>{const L=z(U);!Q({$table:h,row:U})&&R[L]&&(te[L]=U)},{children:I.mapChildrenField}):a?r?f.eachTree(b,U=>{if(l||!Q||Q({$table:h,row:U})){const L=z(U);te[L]=U}},{children:P}):!l&&Q&&f.eachTree(b,U=>{const L=z(U);!Q({$table:h,row:U})&&R[L]&&(te[L]=U)},{children:P}):r?!l&&Q?g.forEach(U=>{const L=z(U);(R[L]||Q({$table:h,row:U}))&&(te[L]=U)}):g.forEach(U=>{const L=z(U);te[L]=U}):!l&&Q&&g.forEach(U=>{const L=z(U);!Q({$table:h,row:U})&&R[L]&&(te[L]=U)});return G&&(r?f.each(te,(U,L)=>{E[L]=U}):g.forEach(U=>Vr(U,!1))),i.updateCheckboxFlag++,s.selectCheckboxMaps=$?{}:te,i.isAllSelected=r,i.isIndeterminate=!1,s.treeIndeterminateRowMaps={},h.checkSelectionStatus(),ge()},It=()=>{const{treeConfig:r}=e,{expandColumn:l,currentRow:a,selectRadioRow:p}=i,{fullDataRowIdData:g,fullAllDataRowIdData:b,radioReserveRow:C,selectCheckboxMaps:E,treeExpandedMaps:R,rowExpandedMaps:M}=s,I=Ct.value,P=st.value,N=Tt.value,$=$e.value;if(p&&!b[qe(h,p)]&&(i.selectRadioRow=null),N.reserve&&C){const G=qe(h,C);g[G]&&eo(g[G].row,!0)}s.selectCheckboxMaps=on(E),i.updateCheckboxFlag++,$.reserve&&Hr(nn(s.checkboxReserveRowMap),!0,!0),a&&!b[qe(h,a)]&&(i.currentRow=null),s.rowExpandedMaps=l?on(M):{},i.rowExpandedFlag++,l&&I.reserve&&h.setRowExpand(nn(s.rowExpandedReserveRowMap),!0),s.treeExpandedMaps=r?on(R):{},i.treeExpandedFlag++,r&&P.reserve&&h.setTreeExpand(nn(s.treeExpandedReserveRowMap),!0)},Sr=()=>{const{treeConfig:r}=e;if(r){const{tableFullData:l}=s,a=st.value,{expandAll:p,expandRowKeys:g}=a,b=a.children||a.childrenField;if(p)h.setAllTreeExpand(!0);else if(g){const C=[],E=Ao(h);g.forEach(R=>{const M=f.findTree(l,I=>R===f.get(I,E),{children:b});M&&C.push(M.item)}),h.setTreeExpand(C,!0)}}},Wr=r=>{const l=st.value,a=$e.value,{transform:p,loadMethod:g}=l,{checkStrictly:b}=a;return new Promise(C=>{if(g){const{fullAllDataRowIdData:E,treeExpandLazyLoadedMaps:R}=s,M=qe(h,r),I=E[M];R[M]=r,Promise.resolve(g({$table:h,row:r})).then(P=>{if(I&&(I.treeLoaded=!0),R[M]&&delete R[M],f.isArray(P)||(P=[]),P)return h.loadTreeChildren(r,P).then(N=>{const{treeExpandedMaps:$}=s;return N.length&&!$[M]&&($[M]=r),i.treeExpandedFlag++,!b&&h.isCheckedByCheckboxRow(r)&&Hr(N,!0),ge().then(()=>{if(p)return h.handleTableData(),_r(),ge()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:P}=s;I&&(I.treeLoaded=!1),P[M]&&delete P[M]}).finally(()=>{i.treeExpandedFlag++,ge().then(()=>h.recalculate()).then(()=>C())})}else C()})},xi=(r,l)=>{const{treeExpandedReserveRowMap:a}=s;if(st.value.reserve){const g=qe(h,r);l?a[g]=r:a[g]&&delete a[g]}},Ci=r=>new Promise(l=>{const a=Ct.value,{loadMethod:p}=a;if(p){const{fullAllDataRowIdData:g,rowExpandLazyLoadedMaps:b}=s,C=qe(h,r),E=g[C];b[C]=r,p({$table:h,row:r,rowIndex:h.getRowIndex(r),$rowIndex:h.getVMRowIndex(r)}).then(()=>{const{rowExpandedMaps:R}=s;E&&(E.expandLoaded=!0),R[C]=r,i.rowExpandedFlag++}).catch(()=>{E&&(E.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:R}=s;R[C]&&delete R[C],i.rowExpandedFlag++,ge().then(()=>h.recalculate()).then(()=>h.updateCellAreas()).then(()=>l())})}else l()}),wi=(r,l)=>{const{rowExpandedReserveRowMap:a}=s;if(Ct.value.reserve){const g=qe(h,r);l?a[g]=r:a[g]&&delete a[g]}},aC=()=>{const{mergeCells:r}=e;r&&h.setMergeCells(r)},cC=()=>{const{mergeFooterItems:r}=e;r&&h.setMergeFooterItems(r)},fs=()=>ge().then(()=>{const{scrollXLoad:r,scrollYLoad:l}=i,{scrollXStore:a,scrollYStore:p}=s,g=vt.value,b=at.value;if(r){const{toVisibleIndex:M,visibleSize:I}=Pr(),P=Math.max(0,b.oSize?f.toNumber(b.oSize):0);a.preloadSize=f.toNumber(b.preSize),a.offsetSize=P,a.visibleSize=I,a.endIndex=Math.max(a.startIndex+a.visibleSize+P,a.endIndex),a.visibleStartIndex=Math.max(a.startIndex,M),a.visibleEndIndex=Math.min(a.endIndex,M+I),h.updateScrollXData().then(()=>{zl()})}else h.updateScrollXSpace();const C=On();p.rowHeight=C,i.rowHeight=C;const{toVisibleIndex:E,visibleSize:R}=Vo();if(l){const M=Math.max(0,g.oSize?f.toNumber(g.oSize):0);p.preloadSize=f.toNumber(g.preSize),p.offsetSize=M,p.visibleSize=R,p.endIndex=Math.max(p.startIndex+R+M,p.endIndex),p.visibleStartIndex=Math.max(p.startIndex,E),p.visibleEndIndex=Math.min(p.endIndex,E+R),h.updateScrollYData().then(()=>{gs()})}else h.updateScrollYSpace()}),yi=()=>{const{scrollXWidth:r,scrollYHeight:l}=i,{elemStore:a}=s,p=Ze.value,g=ot(a["main-body-wrapper"]),b=ot(a["main-header-table"]),C=ot(a["main-footer-table"]),E=se.value,R=he.value;let M=!1,I=!1;if(g){M=l>g.clientHeight,R&&(i.scrollbarWidth=p.width||R.offsetWidth-R.clientWidth||14),i.overflowY=M,I=r>g.clientWidth,E&&(i.scrollbarHeight=p.height||E.offsetHeight-E.clientHeight||14);const P=b?b.clientHeight:0,N=C?C.clientHeight:0;s.tableHeight=g.offsetHeight,s.headerHeight=P,s.footerHeight=N,i.overflowX=I,i.parentHeight=Math.max(s.headerHeight+N+20,h.getParentHeight())}I&&h.checkScrolling()},nl=r=>{const l=S.value;if(s.rceRunTime=Date.now(),!l||!l.clientWidth)return ge();const a=T.value;if(a){const[p,g,b,C]=a.children;ln("default",p),ln("medium",g),ln("small",b),ln("mini",C)}return an(),cn(),yi(),qt(),kn(),fs().then(()=>{if(an(),r&&cn(),yi(),qt(),r&&Mo(),kn(),r)return fs()})},Ei=r=>{i.rowGroupList=r?(f.isArray(r)?r:[r]).map(l=>({field:l})):[]},If=(r,l)=>{let a=r,p=r;if(l){const g=Ie.value,{rowField:b,parentField:C,childrenField:E,mapChildrenField:R}=g,M=$e.value,{checkField:I}=M,P=M.indeterminateField||M.halfField,N=l[0];if(N&&b&&C&&E&&R){a=[],p=[];const $=N.field,G=h.getColumnByField($),Q={},z=Ao(h);r.forEach(B=>{const te=G?h.getCellLabel(B,G):f.get(B,$),U=f.eqNull(te)?"":te;let L=Q[U];L||(L=[],Q[U]=L),B.isAggregate&&(B.isAggregate=void 0),L.push(B)}),f.objectEach(Q,(B,te)=>{const{fullData:U,treeData:L}=If(B,l.slice(1)),ke={isAggregate:!0,groupContent:te,groupField:$,[b]:ii(),[C]:null,[z]:ii(),[E]:L,[R]:L};I&&(ke[I]=!1),P&&(ke[P]=!1),p.push(ke),a.push(ke),U.length&&a.push(...U)})}}return{treeData:p,fullData:a}},ll=(r,l)=>{const{keepSource:a,treeConfig:p,rowGroupConfig:g}=e,{rowGroupList:b,scrollYLoad:C}=i,{scrollYStore:E,scrollXStore:R,lastScrollLeft:M,lastScrollTop:I}=s,P=re.value,N=st.value,$=Ct.value,{transform:G}=N,Q=N.children||N.childrenField;let z=[],B=Co(r?r.slice(0):[]);if(B.length>km&&Ke("vxe.error.errMaxRow",[km]),p&&b.length)return Ke("vxe.error.noTree",["row-group-config"]),ge();if(P.drag&&b.length)return Ke("vxe.error.errConflicts",["row-config.drag","row-group-config"]),ge();let te=!1;if(p)G?(N.rowField||Ke("vxe.error.reqProp",["tree-config.rowField"]),N.parentField||Ke("vxe.error.reqProp",["tree-config.parentField"]),Q||Ke("vxe.error.reqProp",["tree-config.childrenField"]),N.mapChildrenField||Ke("vxe.error.reqProp",["tree-config.mapChildrenField"]),Q===N.mapChildrenField&&Ke("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),z=f.toArrayTree(B,{key:N.rowField,parentKey:N.parentField,children:Q,mapChildren:N.mapChildrenField}),B=z.slice(0)):z=B.slice(0);else if(g&&b.length){const L=If(B,b);z=L.treeData,B=L.fullData,te=!0}i.isRowGroupStatus=te,E.startIndex=0,E.endIndex=1,R.startIndex=0,R.endIndex=1,s.cvCacheMaps={},i.isRowLoading=!0,i.scrollVMLoading=!1,s.treeExpandedMaps={},i.treeExpandedFlag++,s.rowExpandedMaps={},i.rowExpandedFlag++,s.insertRowMaps={},i.insertRowFlag++,s.removeRowMaps={},i.removeRowFlag++;const U=Vl(B);return i.isDragColMove=!1,i.isDragRowMove=!1,s.tableFullData=B,s.tableFullTreeData=te?[]:z,s.tableFullGroupData=te?z:[],h.cacheRowMap(l),s.tableSynchData=r,l&&(s.isResizeCellHeight=!1),a&&h.cacheSourceMap(B),h.clearCellAreas&&e.mouseConfig&&(h.clearCellAreas(),h.clearCopyCellArea()),h.clearMergeCells(),h.clearMergeFooterItems(),h.handleTableData(!0),h.updateFooter(),h.handleUpdateBodyMerge(),ge().then(()=>{Wo(),qt()}).then(()=>{fs()}).then(()=>(U&&(E.endIndex=E.visibleSize),U&&(i.expandColumn&&$.mode!=="fixed"&&Ke("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),e.height||e.maxHeight||Ke("vxe.error.reqProp",["table.height | table.max-height | table.scroll-y={enabled: false}"]),e.spanMethod&&Ke("vxe.error.scrollErrProp",["table.span-method"])),It(),h.checkSelectionStatus(),new Promise(L=>{ge().then(()=>nl(!1)).then(()=>($r(),Mo(),nl(!1))).then(()=>{let ke=M,ye=I;const De=at.value,Je=vt.value;De.scrollToLeftOnChange&&(ke=0),Je.scrollToTopOnChange&&(ye=0),i.isRowLoading=!1,nl(!1),C===U?_d(h,ke,ye).then(()=>{L()}):setTimeout(()=>{_d(h,ke,ye).then(()=>{L()})})})})))},Ri=()=>{Pl(),In(),Bl(),Sr(),aC(),cC(),ge(()=>setTimeout(()=>h.recalculate()))},uC=()=>{fn()},hs=()=>{const{scrollXLoad:r}=i,{visibleColumn:l,scrollXStore:a,fullColumnIdData:p}=s,g=r?l.slice(a.startIndex,a.endIndex):l.slice(0);g.forEach((b,C)=>{const E=b.id,R=p[E];R&&(R.$index=C)}),i.tableColumn=g},kf=()=>{const r=f.orderBy(s.collectColumn,"renderSortNumber");s.collectColumn=r;const l=Si(r);s.tableFullColumn=l,ao()},zl=()=>{const{isScrollXBig:r}=i,{mergeBodyList:l,mergeFooterList:a,scrollXStore:p}=s,{preloadSize:g,startIndex:b,endIndex:C,offsetSize:E}=p,{toVisibleIndex:R,visibleSize:M}=Pr(),I={startIndex:Math.max(0,r?R-1:R-1-E-g),endIndex:r?R+M:R+M+E+g};p.visibleStartIndex=R-1,p.visibleEndIndex=R+M+1,Dn(l.concat(a),I,"col");const{startIndex:P,endIndex:N}=I;(R<=b||R>=C-M-1)&&(b!==P||C!==N)&&(p.startIndex=P,p.endIndex=N,h.updateScrollXData()),h.closeTooltip()},Si=r=>{const l=[];return r.forEach(a=>{l.push(...a.children&&a.children.length?Si(a.children):[a])}),l},ps=r=>{const l=[],a=[],p=[],{isGroup:g,columnStore:b}=i,C=at.value,{collectColumn:E,tableFullColumn:R,scrollXStore:M,fullColumnIdData:I}=s;if(g){const $=[],G=[],Q=[];f.eachTree(E,(z,B,te,U,L)=>{const ke=yl(z);L&&L.fixed&&(z.fixed=L.fixed),L&&z.fixed!==L.fixed&&Ke("vxe.error.groupFixed"),ke?z.visible=!!f.findTree(z.children,ye=>yl(ye)?!1:ye.visible):z.visible&&(z.fixed==="left"?l.push(z):z.fixed==="right"?p.push(z):a.push(z))}),E.forEach(z=>{z.visible&&(z.fixed==="left"?$.push(z):z.fixed==="right"?Q.push(z):G.push(z))}),i.tableGroupColumn=$.concat(G).concat(Q)}else R.forEach($=>{$.visible&&($.fixed==="left"?l.push($):$.fixed==="right"?p.push($):a.push($))});const P=l.concat(a).concat(p),N=!!C.enabled&&C.gt>-1&&(C.gt===0||C.gt<R.length);if(i.hasFixedColumn=l.length>0||p.length>0,Object.assign(b,{leftList:l,centerList:a,rightList:p}),N&&(e.spanMethod&&wt("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&wt("vxe.error.scrollErrProp",["footer-span-method"]),r)){const{visibleSize:$}=Pr();M.startIndex=0,M.endIndex=$,M.visibleSize=$,M.visibleStartIndex=0,M.visibleEndIndex=$}return(P.length!==s.visibleColumn.length||!s.visibleColumn.every(($,G)=>$===P[G]))&&(h.clearMergeCells(),h.clearMergeFooterItems()),i.scrollXLoad=N,P.forEach(($,G)=>{const Q=$.id,z=I[Q];z&&(z._index=G)}),s.visibleColumn=P,hs(),r?(Nf(),h.updateFooter().then(()=>h.recalculate()).then(()=>(h.updateCellAreas(),h.recalculate()))):h.updateFooter()},dC=()=>{const{collectColumn:r}=s;r.forEach((l,a)=>{const p=a+1;l.sortNumber=p,l.renderSortNumber=p})},Af=r=>{const l=Ct.value;s.collectColumn=r;const a=Si(r);return s.tableFullColumn=a,i.isColLoading=!0,i.isDragColMove=!1,dC(),Promise.resolve(Do()).then(()=>{const{scrollXLoad:p,scrollYLoad:g,expandColumn:b}=i;return ao(),ps(!0).then(()=>{i.scrollXLoad&&zl()}),h.clearMergeCells(),h.clearMergeFooterItems(),h.handleTableData(!0),(p||g)&&b&&l.mode!=="fixed"&&wt("vxe.error.scrollErrProp",["column.type=expand"]),ge().then(()=>(je&&je.syncUpdate({collectColumn:s.collectColumn,$table:h}),h.handleUpdateCustomColumn&&h.handleUpdateCustomColumn(),i.isColLoading=!1,h.recalculate()))})},Vl=r=>{const{treeConfig:l}=e,a=vt.value,p=st.value,{transform:g}=p,b=r||s.tableFullData,C=(g||!l)&&!!a.enabled&&a.gt>-1&&(a.gt===0||a.gt<b.length);return i.scrollYLoad=C,C},Lf=(r,l)=>{const{treeNodeColumn:a}=i,{fullAllDataRowIdData:p,tableFullTreeData:g,treeExpandedMaps:b,treeExpandLazyLoadedMaps:C}=s,E=st.value,{reserve:R,lazy:M,accordion:I,toggleMethod:P}=E,N=E.children||E.childrenField,$=E.hasChild||E.hasChildField,G=[],Q=h.getColumnIndex(a),z=h.getVMColumnIndex(a),{handleGetRowId:B}=pr(h);let te=P?r.filter(U=>P({$table:h,expanded:l,column:a,columnIndex:Q,$columnIndex:z,row:U})):r;if(I){te=te.length?[te[te.length-1]]:[];const U=f.findTree(g,L=>L===te[0],{children:N});U&&U.items.forEach(L=>{const ke=B(L);b[ke]&&delete b[ke]})}return l?te.forEach(U=>{const L=B(U);if(!b[L]){const ke=p[L];ke&&(M&&U[$]&&!ke.treeLoaded&&!C[L]?G.push(Wr(U)):U[N]&&U[N].length&&(b[L]=U))}}):te.forEach(U=>{const L=B(U);b[L]&&delete b[L]}),R&&te.forEach(U=>xi(U,l)),i.treeExpandedFlag++,Promise.all(G).then(()=>h.recalculate())},fC=(r,l)=>Lf(r,l).then(()=>(Qr(),h.handleTableData(),i.treeExpandedFlag++,_r(),ge())).then(()=>h.recalculate(!0)).then(()=>{setTimeout(()=>{h.updateCellAreas()},30)}),hC=(r,l)=>{const{fullAllDataRowIdData:a,tableFullGroupData:p,rowGroupExpandedMaps:g}=s,b=Ie.value,{mapChildrenField:C,accordion:E}=b,{handleGetRowId:R}=pr(h);let M=r;if(C){if(E){M=M.length?[M[M.length-1]]:[];const I=f.findTree(p,P=>qe(h,P)===qe(h,M[0]),{children:C});I&&I.items.forEach(P=>{const N=R(P);g[N]&&delete g[N]})}l?M.forEach(I=>{const P=R(I);g[P]||a[P]&&I[C]&&I[C].length&&(g[P]=I)}):M.forEach(I=>{const P=R(I);g[P]&&delete g[P]})}return i.rowGroupExpandedFlag++,h.recalculate()},pC=(r,l)=>hC(r,l).then(()=>(Qr(),h.handleTableData(),i.rowGroupExpandedFlag++,_r(),ge())).then(()=>h.recalculate(!0)).then(()=>{setTimeout(()=>{h.updateCellAreas()},30)}),Hf=(r,l)=>{hn(l),r&&$t("checkbox-all",{records:()=>h.getCheckboxRecords(),reserves:()=>h.getCheckboxReserveRecords(),indeterminates:()=>h.getCheckboxIndeterminateRecords(),checked:l},r)},gs=()=>{const{isAllOverflow:r,isScrollYBig:l}=i,{mergeBodyList:a,scrollYStore:p}=s,{preloadSize:g,startIndex:b,endIndex:C,offsetSize:E}=p,R=r?E:E+1,{toVisibleIndex:M,visibleSize:I}=Vo(),P={startIndex:Math.max(0,l?M-1:M-1-E-g),endIndex:l?M+I:M+I+R+g};p.visibleStartIndex=M-1,p.visibleEndIndex=M+I+1,Dn(a,P,"row");const{startIndex:N,endIndex:$}=P;(M<=b||M>=C-I-1)&&(b!==N||C!==$)&&(p.startIndex=N,p.endIndex=$,h.updateScrollYData())},Oi=r=>{const{handleGetRowId:l}=pr(h);return function(a){const{fullAllDataRowIdData:p}=s;if(a){const g=l(a),b=p[g];if(b)return b[r]}return-1}},vs=r=>function(l){const{fullColumnIdData:a}=s;if(l){const p=a[l.id];if(p)return p[r]}return-1},gC=(r,l)=>{const{scrollXLoad:a,scrollYLoad:p}=i,{lcsTimeout:g}=s;g&&clearTimeout(g),s.lcsTimeout=setTimeout(()=>{s.lcsRunTime=Date.now(),s.lcsTimeout=void 0,s.intoRunScroll=!1,s.inVirtualScroll=!1,s.inWheelScroll=!1,s.inHeaderScroll=!1,s.inBodyScroll=!1,s.inFooterScroll=!1,s.scrollRenderType="",$r(),r&&a&&h.updateScrollXData(),l&&p&&h.updateScrollYData().then(()=>{$r(),h.updateScrollYSpace()}),kn(),h.updateCellAreas()},200)},vC=r=>{let l=1;const a=Date.now();return r+25>a?l=1.18:r+30>a?l=1.15:r+40>a?l=1.12:r+55>a?l=1.09:r+75>a?l=1.06:r+100>a&&(l=1.03),l},mC=(r,l)=>{requestAnimationFrame(()=>{l(r)})},bC=(r,l)=>{const a=Math.abs(r),p=performance.now();let g=0;const b=C=>{let E=(C-p)/a;E>1&&(E=1);const R=Math.pow(E,2),M=Math.floor(r*R)-g;g+=M,l(M),E<1&&requestAnimationFrame(b)};requestAnimationFrame(b)},$t=(r,l,a)=>{n(r,CR(a,{$table:h,$grid:Ve},l))},xC=(r,l)=>{const{fullColumnIdData:a}=s,p=hr(h,r);return p&&a[p.id]?mm(h,p,l):ge()},ms=()=>{const r=S.value;r&&r.clientWidth&&r.clientHeight&&y.recalculate()},qf=(r,l)=>{h.analyColumnWidth(),h.recalculate().then(()=>{h.saveCustomStore("update:width"),h.updateCellAreas(),h.dispatchEvent("column-resizable-change",l,r),h.dispatchEvent("resizable-change",l,r),setTimeout(()=>h.recalculate(!0),300)})},_f=(r,l)=>{i.resizeHeightFlag++,h.recalculate().then(()=>{h.updateCellAreas(),h.dispatchEvent("row-resizable-change",l,r),setTimeout(()=>h.recalculate(!0),300)})},Nf=()=>{const{visibleColumn:r,fullColumnIdData:l}=s;let a=0;for(let p=0,g=r.length;p<g;p++){const b=r[p],C=b.id,E=l[C];E.oLeft=a,a+=b.renderWidth}},Mo=()=>{const{expandColumn:r}=i,{afterFullData:l,fullAllDataRowIdData:a,rowExpandedMaps:p}=s,g=Ct.value,b=re.value,C=et.value,E=Me.value,{handleGetRowId:R}=pr(h);let M=0;for(let I=0,P=l.length;I<P;I++){const N=l[I],$=R(N),G=a[$]||{};G.oTop=M,M+=G.resizeHeight||C.height||b.height||G.height||E,r&&p[$]&&(M+=G.expandHeight||g.height||0)}},kn=()=>{const{expandColumn:r,scrollYLoad:l,scrollYTop:a,isScrollYBig:p}=i,g=Ct.value,b=re.value,C=et.value,E=Me.value,{mode:R}=g;if(r&&R==="fixed"){const{elemStore:M,fullAllDataRowIdData:I}=s,P=ne.value,N=ot(M["main-body-scroll"]);if(P&&N){let $=!1;f.arrayEach(P.children,G=>{const Q=G,z=Q.getAttribute("rowid")||"",B=I[z];if(B){const te=Q.offsetHeight+1,U=N.querySelector(`.vxe-body--row[rowid="${z}"]`);let L=0;l?p&&U?L=U.offsetTop+U.offsetHeight:L=B.oTop+(B.resizeHeight||C.height||b.height||B.height||E):U&&(L=U.offsetTop+U.offsetHeight),p&&(L+=a),Q.style.top=ai(L),$||B.expandHeight!==te&&($=!0),B.expandHeight=te}}),$&&(i.rowExpandHeightFlag++,ge(()=>{Mo()}))}}},Pf=()=>{const{elemStore:r}=s,l=ne.value,a=ot(r["main-body-scroll"]);l&&a&&(l.scrollTop=a.scrollTop)};y={dispatchEvent:$t,getEl(){return S.value},clearAll(){return eR(h)},syncData(){return Ke("vxe.error.delFunc",["syncData","getData"]),ge().then(()=>(i.tableData=[],n("update:data",s.tableFullData),ge()))},updateData(){const{scrollXLoad:r,scrollYLoad:l}=i;return O.handleTableData(!0).then(()=>{if(y.updateFooter(),r||l)return r&&O.updateScrollXSpace(),l&&O.updateScrollYSpace(),y.refreshScroll()}).then(()=>(y.updateCellAreas(),y.recalculate(!0))).then(()=>{setTimeout(()=>h.recalculate(),50)})},loadData(r){const{initStatus:l}=s;return ll(r,!1).then(()=>(s.inited=!0,s.initStatus=!0,l||Ri(),y.recalculate()))},reloadData(r){return y.clearAll().then(()=>(s.inited=!0,s.initStatus=!0,ll(r,!0))).then(()=>(Ri(),y.recalculate()))},setRow(r,l){if(r&&l){let a=r;f.isArray(r)||(a=[r]);const p=Ao(h);a.forEach(g=>{const b=qe(h,g),C=f.clone(Object.assign({},l),!0);f.set(C,p,b),Object.assign(g,C)})}return ge()},reloadRow(r,l,a){const{keepSource:p}=e,{tableData:g}=i,{tableSourceData:b}=s;if(p){const C=y.getRowIndex(r),E=b[C];if(E&&r)if(a){const R=f.clone(f.get(l||r,a),!0);f.set(r,a,R),f.set(E,a,R)}else{const R=Ao(h),M=qe(h,r),I=f.clone(Object.assign({},l),!0);f.set(I,R,M),f.destructuring(E,Object.assign(r,I))}i.tableData=g.slice(0)}return ge()},getParams(){return e.params},loadTreeChildren(r,l){const{keepSource:a}=e,{tableSourceData:p,fullDataRowIdData:g,fullAllDataRowIdData:b,sourceDataRowIdData:C}=s,E=st.value,{transform:R,mapChildrenField:M}=E,I=E.children||E.childrenField,P=b[qe(h,r)],N=P?P.level:0;return y.createData(l).then($=>{if(a){const G=qe(h,r),Q=f.findTree(p,z=>G===qe(h,z),{children:I});Q&&(Q.item[I]=f.clone($,!0)),$.forEach(z=>{const B=qe(h,z);C[B]=f.clone(z,!0)})}return f.eachTree($,(G,Q,z,B,te,U)=>{const L=qe(h,G),ke=te||P.row,ye={row:G,rowid:L,seq:-1,index:Q,_index:-1,$index:-1,treeIndex:-1,items:z,parent:ke,level:N+U.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};g[L]=ye,b[L]=ye},{children:I}),r[I]=$,R&&(r[M]=f.clone($,!1)),_r(),$})},loadColumn(r){const l=f.mapTree(r,a=>Co(ft.createColumn(h,a)));return Af(l)},reloadColumn(r){return y.clearAll().then(()=>y.loadColumn(r))},getRowNode(r){if(r){const{fullAllDataRowIdData:l}=s,a=r.getAttribute("rowid");if(a){const p=l[a];if(p)return{rowid:p.rowid,item:p.row,index:p.index,items:p.items,parent:p.parent}}}return null},getColumnNode(r){if(r){const{fullColumnIdData:l}=s,a=r.getAttribute("colid");if(a){const p=l[a];if(p)return{colid:p.colid,item:p.column,index:p.index,items:p.items,parent:p.parent}}}return null},getRowSeq:Oi("seq"),getRowIndex:Oi("index"),getVTRowIndex:Oi("_index"),getVMRowIndex:Oi("$index"),getColumnIndex:vs("index"),getVTColumnIndex:vs("_index"),getVMColumnIndex:vs("$index"),createData(r){return ge().then(()=>Co(O.defineField(r)))},createRow(r){const l=f.isArray(r);return l||(r=[r||{}]),y.createData(r).then(a=>l?a:a[0])},revertData(r,l){const{keepSource:a,treeConfig:p}=e,{fullAllDataRowIdData:g,fullDataRowIdData:b,tableSourceData:C,sourceDataRowIdData:E,tableFullData:R,afterFullData:M,removeRowMaps:I}=s,P=st.value,{transform:N}=P,{handleGetRowId:$}=pr(h);if(!a)return ge();let G=r;r?f.isArray(r)||(G=[r]):G=f.toArray(h.getUpdateRecords());let Q=!1;return G.length&&G.forEach(z=>{const B=$(z),te=g[B];if(te){const U=te.row;if(!h.isInsertByRow(U)){const L=E[B];L&&U&&(l?f.set(U,l,f.clone(f.get(L,l),!0)):f.destructuring(U,f.clone(L,!0)),!b[B]&&h.isRemoveByRow(U)&&(I[B]&&delete I[B],R.unshift(U),M.unshift(U),Q=!0))}}}),r?(Q&&(i.removeRowFlag++,h.updateFooter(),h.cacheRowMap(!1),h.handleTableData(p&&N),p&&N||h.updateAfterDataIndex(),h.checkSelectionStatus(),i.scrollYLoad&&h.updateScrollYSpace()),ge().then(()=>(h.updateCellAreas(),h.recalculate()))):h.reloadData(C)},clearData(r,l){const{tableFullData:a,visibleColumn:p}=s;return arguments.length?r&&!f.isArray(r)&&(r=[r]):r=a,l?r.forEach(g=>f.set(g,l,null)):r.forEach(g=>{p.forEach(b=>{b.field&&Ho(g,b,null)})}),ge()},getCellElement(r,l){const{elemStore:a}=s,p=hr(h,l);if(!p)return null;const g=qe(h,r),b=ot(a["main-body-scroll"]),C=ot(a["left-body-scroll"]),E=ot(a["right-body-scroll"]);let R;return p&&(p.fixed&&(p.fixed==="left"?C&&(R=C):E&&(R=E)),R||(R=b),R)?R.querySelector(`.vxe-body--row[rowid="${g}"] .${p.id}`):null},getCellLabel(r,l){const a=hr(h,l);if(!a)return null;const{formatter:p}=a,g=br(r,a);let b=g;if(p){let C;const{fullAllDataRowIdData:E}=s,R=qe(h,r),M=a.id,I=E[R];if(I&&(C=I.formatData,C||(C=E[R].formatData={}),I&&C[M]&&C[M].value===g))return C[M].label;const P={cellValue:g,row:r,rowIndex:y.getRowIndex(r),column:a,columnIndex:y.getColumnIndex(a)};if(f.isString(p)){const N=Fm.get(p),$=N?N.tableCellFormatMethod||N.cellFormatMethod:null;b=$?$(P):""}else if(f.isArray(p)){const N=Fm.get(p[0]),$=N?N.tableCellFormatMethod||N.cellFormatMethod:null;b=$?$(P,...p.slice(1)):""}else b=p(P);C&&(C[M]={value:g,label:b})}return b},isInsertByRow(r){const l=qe(h,r);return!!i.insertRowFlag&&!!s.insertRowMaps[l]},isRemoveByRow(r){const l=qe(h,r);return!!i.removeRowFlag&&!!s.removeRowMaps[l]},removeInsertRow(){return s.insertRowMaps={},h.remove(h.getInsertRecords())},isUpdateByRow(r,l){const{keepSource:a}=e,{tableFullColumn:p,fullDataRowIdData:g,sourceDataRowIdData:b}=s;if(a){const C=f.isString(r)||f.isNumber(r)?r:qe(h,r),E=g[C];if(!E)return!1;const R=E.row,M=b[C];if(M){if(arguments.length>1)return!tl(M,R,l);for(let I=0,P=p.length;I<P;I++){const N=p[I].field;if(N&&!tl(M,R,N))return!0}}}return!1},getColumns(r){const{visibleColumn:l}=s;return f.isUndefined(r)?l.slice(0):l[r]},getColid(r){const l=hr(h,r);return l?l.id:null},getColumnById(r){const{fullColumnIdData:l}=s;return r&&l[r]?l[r].column:null},getColumnByField(r){const l=s.fullColumnFieldData;return r&&l[r]?l[r].column:null},getParentColumn(r){const{fullColumnIdData:l}=s,a=hr(h,r);return a&&a.parentId&&l[a.parentId]?l[a.parentId].column:null},getTableColumn(){return{collectColumn:s.collectColumn.slice(0),fullColumn:s.tableFullColumn.slice(0),visibleColumn:s.visibleColumn.slice(0),tableColumn:i.tableColumn.slice(0)}},moveColumnTo(r,l,a){const{fullColumnIdData:p,visibleColumn:g}=s,{dragToChild:b,dragPos:C,isCrossDrag:E}=Object.assign({},a),R=hr(h,r);let M=null;const I=R?p[R.id]:null;let P="left";if(f.isNumber(l)){if(I&&l){let N=I.items,$=I._index+l;E&&(N=g,$=I._index+l),$>0&&$<N.length-1&&(M=N[$]),l>0&&(P="right")}}else{M=hr(h,l);const N=M?p[M.id]:null;I&&N&&N._index>I._index&&(P="right")}return h.handleColDragSwapEvent(null,!0,R,M,C||P,b===!0)},moveRowTo(r,l,a){const{treeConfig:p}=e,{fullAllDataRowIdData:g,afterFullData:b}=s,{dragToChild:C,dragPos:E,isCrossDrag:R}=Object.assign({},a),M=st.value,I=fm(h,r);let P=null,N="top";const $=I?g[qe(h,I)]:null;if(f.isNumber(l)){if($&&l){let G=b,Q=$._index+l;p&&(G=$.items,M.transform&&(Q=$.treeIndex+l,R&&(G=b,Q=$._index+l))),Q>=0&&Q<=G.length-1&&(P=G[Q]),l>0&&(N="bottom")}}else{P=fm(h,l);const G=P?g[qe(h,P)]:null;$&&G&&G._index>$._index&&(N="bottom")}return h.handleRowDragSwapEvent(null,!0,I,P,E||N,C===!0)},getFullColumns(){const{collectColumn:r}=s;return r.slice(0)},getData(r){const l=e.data||s.tableSynchData;return f.isUndefined(r)?l.slice(0):l[r]},getCheckboxRecords(r){const{treeConfig:l}=e,{updateCheckboxFlag:a}=i,{tableFullData:p,afterFullData:g,tableFullTreeData:b,fullDataRowIdData:C,afterFullRowMaps:E,selectCheckboxMaps:R}=s,M=st.value,I=$e.value,{transform:P,mapChildrenField:N}=M,{checkField:$}=I,G=M.children||M.childrenField;let Q=[];if(a)if($)if(l){const z=r?P?b:p:P?b:g;Q=f.filterTree(z,B=>f.get(B,$),{children:P?N:G})}else Q=(r?p:g).filter(B=>f.get(B,$));else f.each(R,(z,B)=>{r?C[B]&&Q.push(C[B].row):E[B]&&Q.push(E[B])});return Q},getTreeRowChildren(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a}=s,p=st.value,{transform:g,mapChildrenField:b}=p,C=p.children||p.childrenField;if(r&&l){let E;if(f.isString(r)?E=r:E=qe(h,r),E){const R=a[E],M=R?R.row:null;if(M)return M[g?b:C]||[]}}return[]},getTreeParentRow(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a}=s;if(r&&l){let p;if(f.isString(r)?p=r:p=qe(h,r),p){const g=a[p];return g?g.parent:null}}return null},getParentRow(r){return wt("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),h.getTreeParentRow(r)},getRowById(r){const{fullAllDataRowIdData:l}=s,a=f.eqNull(r)?"":encodeURIComponent(r||"");return l[a]?l[a].row:null},getRowid(r){return qe(h,r)},getTableData(){const{tableData:r,footerTableData:l}=i,{tableFullData:a,afterFullData:p,tableFullTreeData:g}=s;return{fullData:e.treeConfig?g.slice(0):a.slice(0),visibleData:p.slice(0),tableData:r.slice(0),footerData:l.slice(0)}},getFullData(){const{treeConfig:r}=e,{tableFullData:l,tableFullTreeData:a}=s;if(r){const p=st.value,{transform:g,mapChildrenField:b,rowField:C,parentField:E}=p,R=p.children||p.childrenField;return g?f.toArrayTree(f.toTreeArray(a,{children:b}),{key:C,parentKey:E,children:R,mapChildren:b}):a.slice(0)}return l.slice(0)},setColumnFixed(r,l){let a=!1;const p=f.isArray(r)?r:[r],g=He.value,b=Zn.value;for(let C=0;C<p.length;C++){const E=p[C],R=hr(h,E),M=gm(h,R);if(M&&M.fixed!==l){if(!M.fixed&&b)return ve.modal&&ve.modal.message({status:"error",content:Fo("vxe.table.maxFixedCol",[g.maxFixedSize])}),ge();f.eachTree([M],I=>{I.fixed=l}),O.saveCustomStore("update:fixed"),a||(a=!0)}}return a?y.refreshColumn():ge()},clearColumnFixed(r){let l=!1;return(f.isArray(r)?r:[r]).forEach(p=>{const g=hr(h,p),b=gm(h,g);b&&b.fixed&&(f.eachTree([b],C=>{C.fixed=null}),O.saveCustomStore("update:fixed"),l||(l=!0))}),l?y.refreshColumn():ge()},hideColumn(r){let l=!1;return(f.isArray(r)?r:[r]).forEach(p=>{const g=hr(h,p);g&&g.visible&&(g.visible=!1,l||(l=!0))}),l?O.handleCustom():ge()},showColumn(r){let l=!1;return(f.isArray(r)?r:[r]).forEach(p=>{const g=hr(h,p);g&&!g.visible&&(g.visible=!0,l||(l=!0))}),l?O.handleCustom():ge()},setColumnWidth(r,l){const{elemStore:a}=s;let p=!1;const g=f.isArray(r)?r:[r];let b=f.toInteger(l);if(Cl(l)){const C=ot(a["main-body-scroll"]),E=C?C.clientWidth-1:0;b=Math.floor(b*E)}return b&&(g.forEach(C=>{const E=hr(h,C);E&&(E.resizeWidth=b,p||(p=!0))}),p)?h.refreshColumn().then(()=>({status:p})):ge().then(()=>({status:p}))},getColumnWidth(r){const l=hr(h,r);return l?l.renderWidth:0},resetColumn(r){return wt("vxe.error.delFunc",["resetColumn","resetCustom"]),h.resetCustom(r)},refreshColumn(r){return r&&kf(),ps(!0).then(()=>y.refreshScroll()).then(()=>y.recalculate())},setRowHeightConf(r){const{fullAllDataRowIdData:l}=s;let a=!1;return r&&(f.each(r,(p,g)=>{const b=l[g];if(b){const C=f.toInteger(p);C&&(b.resizeHeight=C,a||(a=!0))}}),a&&(s.isResizeCellHeight=!0,i.resizeHeightFlag++)),ge().then(()=>(Mo(),{status:a}))},getRowHeightConf(r){const{fullAllDataRowIdData:l,afterFullData:a}=s,{handleGetRowId:p}=pr(h),g=re.value,b=et.value,C=Me.value,E={};return a.forEach(R=>{const M=p(R),I=l[M];if(I){const P=I.resizeHeight;if(P||r){const N=P||b.height||g.height||I.height||C;E[M]=N}}}),E},setRowHeight(r,l){const{fullAllDataRowIdData:a}=s;let p=!1;const g=f.isArray(r)?r:[r];let b=f.toInteger(l);if(Cl(l)){const C=F.value,E=C?C.$el:null,R=E?E.clientHeight-1:0;b=Math.floor(b*R)}if(b){const{handleGetRowId:C}=pr(h);g.forEach(E=>{const R=f.isString(E)||f.isNumber(E)?E:C(E),M=a[R];M&&(M.resizeHeight=b,p||(p=!0))}),p&&(s.isResizeCellHeight=!0,i.resizeHeightFlag++)}return ge().then(()=>({status:p}))},getRowHeight(r){const{fullAllDataRowIdData:l}=s,a=re.value,p=et.value,g=Me.value,b=f.isString(r)||f.isNumber(r)?r:qe(h,r),C=l[b];return C?C.resizeHeight||p.height||a.height||C.height||g:0},refreshScroll(){const{elemStore:r,lastScrollLeft:l,lastScrollTop:a}=s,p=ot(r["main-header-scroll"]),g=ot(r["main-body-scroll"]),b=ot(r["main-footer-scroll"]),C=ot(r["left-body-scroll"]),E=ot(r["right-body-scroll"]),R=se.value,M=he.value;return new Promise(I=>{if(l||a)return _d(h,l,a).then().then(()=>{setTimeout(I,10)});s.intoRunScroll=!0,Jt(M,a),Jt(g,a),Jt(C,a),Jt(E,a),tr(R,l),tr(g,l),tr(p,l),tr(b,l),setTimeout(()=>{s.intoRunScroll=!1,I()},10)})},recalculate(r){return new Promise(l=>{const{rceTimeout:a,rceRunTime:p}=s,b=bt.value.refreshDelay||20,C=S.value;C&&C.clientWidth&&(cn(),kn()),a?(clearTimeout(a),p&&p+(b-5)<Date.now()?l(nl(!!r)):ge(()=>{l()})):l(nl(!!r)),s.rceTimeout=setTimeout(()=>{s.rceTimeout=void 0,nl(!!r)},b)})},openTooltip(r,l){const a=A.value;return a&&a.open?a.open(r,l):ge()},closeTooltip(){const{tooltipStore:r}=i,l=q.value,a=A.value;return r.visible&&(Object.assign(r,{row:null,column:null,content:null,visible:!1,currOpts:{}}),l&&l.close&&l.close()),a&&a.close&&a.close(),ge()},isAllCheckboxChecked(){return i.isAllSelected},isAllCheckboxIndeterminate(){return!i.isAllSelected&&i.isIndeterminate},getCheckboxIndeterminateRecords(r){const{treeConfig:l}=e,{fullDataRowIdData:a,treeIndeterminateRowMaps:p}=s;if(l){const g=[],b=[];return f.each(p,(C,E)=>{C&&(g.push(C),a[E]&&b.push(C))}),r?g:b}return[]},setCheckboxRow(r,l){return r&&!f.isArray(r)&&(r=[r]),Hr(r,l,!0)},setCheckboxRowKey(r,l){const{fullAllDataRowIdData:a}=s;f.isArray(r)||(r=[r]);const p=[];return r.forEach(g=>{const b=a[g];b&&p.push(b.row)}),Hr(p,l,!0)},isCheckedByCheckboxRow(r){const{updateCheckboxFlag:l}=i,{selectCheckboxMaps:a}=s,p=$e.value,{checkField:g}=p;return g?f.get(r,g):!!l&&!!a[qe(h,r)]},isCheckedByCheckboxRowKey(r){const{updateCheckboxFlag:l}=i,{fullAllDataRowIdData:a,selectCheckboxMaps:p}=s,g=$e.value,{checkField:b}=g;if(b){const C=a[r];return C?f.get(C.row,b):!1}return!!l&&!!p[r]},isIndeterminateByCheckboxRow(r){const{treeIndeterminateRowMaps:l}=s;return!!l[qe(h,r)]&&!h.isCheckedByCheckboxRow(r)},isIndeterminateByCheckboxRowKey(r){const{treeIndeterminateRowMaps:l}=s;return!!l[r]&&!h.isCheckedByCheckboxRowKey(r)},toggleCheckboxRow(r){const{selectCheckboxMaps:l}=s,a=$e.value,{checkField:p}=a,g=p?!f.get(r,p):!l[qe(h,r)];return O.handleBatchSelectRows([r],g,!0),O.checkSelectionStatus(),ge()},setAllCheckboxRow(r){return hn(r,!0)},getRadioReserveRecord(r){const{treeConfig:l}=e,{fullDataRowIdData:a,radioReserveRow:p,afterFullData:g}=s,b=Tt.value,C=st.value,E=C.children||C.childrenField;if(b.reserve&&p){const R=qe(h,p);if(r){if(!a[R])return p}else{const M=Ao(h);if(l){if(f.findTree(g,P=>R===f.get(P,M),{children:E}))return p}else if(!g.some(I=>R===f.get(I,M)))return p}}return null},clearRadioReserve(){return s.radioReserveRow=null,ge()},getCheckboxReserveRecords(r){const{treeConfig:l}=e,{afterFullData:a,fullDataRowIdData:p,checkboxReserveRowMap:g}=s,b=$e.value,C=st.value,E=C.children||C.childrenField,R=[];if(b.reserve){const{handleGetRowId:M}=pr(h),I={};l?f.eachTree(a,P=>{I[M(P)]=1},{children:E}):a.forEach(P=>{I[M(P)]=1}),f.each(g,(P,N)=>{P&&(r?p[N]||R.push(P):I[N]||R.push(P))})}return R},clearCheckboxReserve(){return s.checkboxReserveRowMap={},ge()},toggleAllCheckboxRow(){return Hf(null,!i.isAllSelected),ge()},clearCheckboxRow(){const{treeConfig:r}=e,{tableFullData:l}=s,a=st.value,p=a.children||a.childrenField,g=$e.value,{checkField:b,reserve:C}=g,E=g.indeterminateField||g.halfField;if(b){const R=M=>{r&&E&&f.set(M,E,!1),f.set(M,b,!1)};r?f.eachTree(l,R,{children:p}):l.forEach(R)}return C&&l.forEach(R=>Vr(R,!1)),i.isAllSelected=!1,i.isIndeterminate=!1,s.selectCheckboxMaps={},s.treeIndeterminateRowMaps={},i.updateCheckboxFlag++,ge()},setCurrentRow(r){const l=re.value,a=S.value;return y.clearCurrentRow(),i.currentRow=r,(l.isCurrent||e.highlightCurrentRow)&&a&&f.arrayEach(a.querySelectorAll(`[rowid="${qe(h,r)}"]`),p=>xo(p,"row--current")),ge()},isCheckedByRadioRow(r){const{selectRadioRow:l}=i;return r&&l?h.eqRow(l,r):!1},isCheckedByRadioRowKey(r){const{selectRadioRow:l}=i;return l?r===qe(h,l):!1},setRadioRow(r){return eo(r,!0)},setRadioRowKey(r){const{fullAllDataRowIdData:l}=s,a=l[r];return a?eo(a.row,!0):ge()},clearCurrentRow(){const r=S.value;return i.currentRow=null,s.hoverRow=null,r&&f.arrayEach(r.querySelectorAll(".row--current"),l=>Yr(l,"row--current")),ge()},clearRadioRow(){return i.selectRadioRow=null,ge()},getCurrentRecord(){return re.value.isCurrent||e.highlightCurrentRow?i.currentRow:null},getRadioRecord(r){const{fullDataRowIdData:l,afterFullRowMaps:a}=s,{selectRadioRow:p}=i;if(p){const g=qe(h,p);if(r){if(l[g])return p}else if(a[g])return p}return null},getCurrentColumn(){return He.value.isCurrent||e.highlightCurrentColumn?i.currentColumn:null},setCurrentColumn(r){const{mouseConfig:l}=e,a=St.value,p=l&&a.selected,g=hr(h,r);return g&&(h.clearCurrentColumn(),i.currentColumn=g),ge().then(()=>{p&&h.addCellSelectedClass()})},clearCurrentColumn(){return i.currentColumn=null,ge()},setPendingRow(r,l){const{handleGetRowId:a}=pr(h),{pendingRowMaps:p}=s;return r&&!f.isArray(r)&&(r=[r]),l?r.forEach(g=>{const b=a(g);b&&!p[b]&&(p[b]=g)}):r.forEach(g=>{const b=a(g);b&&p[b]&&delete p[b]}),i.pendingRowFlag++,ge()},togglePendingRow(r){const{handleGetRowId:l}=pr(h),{pendingRowMaps:a}=s;return r&&!f.isArray(r)&&(r=[r]),r.forEach(p=>{const g=l(p);g&&(a[g]?delete a[g]:a[g]=p)}),i.pendingRowFlag++,ge()},hasPendingByRow(r){return y.isPendingByRow(r)},isPendingByRow(r){const{pendingRowMaps:l}=s,a=qe(h,r);return!!l[a]},getPendingRecords(){const{fullAllDataRowIdData:r,pendingRowMaps:l}=s,a=[];return f.each(l,(p,g)=>{r[g]&&a.push(p)}),a},clearPendingRow(){return s.pendingRowMaps={},i.pendingRowFlag++,ge()},sort(r,l){const a=jt.value,{multiple:p,remote:g,orders:b}=a;return r&&f.isString(r)&&(r=[{field:r,order:l}]),f.isArray(r)||(r=[r]),r.length?(p||Mn(),(p?r:[r[0]]).forEach((C,E)=>{let{field:R,order:M}=C,I=R;f.isString(R)&&(I=y.getColumnByField(R)),I&&I.sortable&&(b&&b.indexOf(M)===-1&&(M=tn(I)),I.order!==M&&(I.order=M),I.sortTime=Date.now()+E)}),g||O.handleTableData(!0),ge().then(()=>(Mo(),y.updateCellAreas(),qt()))):ge()},setSort(r,l){const a=jt.value,{multiple:p,remote:g,orders:b}=a;if(f.isArray(r)||(r=[r]),r&&r.length){p||(r=[r[0]],Mn());let C=null;return r.forEach((E,R)=>{let{field:M,order:I}=E,P=M;f.isString(M)&&(P=y.getColumnByField(M)),C||(C=P),P&&P.sortable&&(b&&b.indexOf(I)===-1&&(I=tn(P)),P.order!==I&&(P.order=I),P.sortTime=Date.now()+R)}),l&&(g||h.handleTableData(!0),h.handleColumnSortEvent(new Event("click"),C)),ge().then(()=>(Mo(),y.updateCellAreas(),qt()))}return ge()},clearSort(r){const l=jt.value;if(r){const a=hr(h,r);a&&(a.order=null)}else Mn();return l.remote||h.handleTableData(!0),ge().then(()=>(Mo(),qt()))},isSort(r){if(r){const l=hr(h,r);return l?l.sortable&&!!l.order:!1}return y.getSortColumns().length>0},getSortColumns(){const r=jt.value,{multiple:l,chronological:a}=r,p=[],{tableFullColumn:g}=s;return g.forEach(b=>{const{field:C,order:E}=b;b.sortable&&E&&p.push({column:b,field:C,property:C,order:E,sortTime:b.sortTime})}),l&&a&&p.length>1?f.orderBy(p,"sortTime"):p},closeFilter(){const{filterStore:r}=i,{column:l,visible:a}=r;return r.isAllSelected=!1,r.isIndeterminate=!1,r.options=[],r.visible=!1,a&&$t("filter-visible",{column:l,property:l.field,field:l.field,filterList:()=>h.getCheckedFilters(),visible:!1},null),ge()},isActiveFilterByColumn(r){const l=hr(h,r);return l?l.filters&&l.filters.some(a=>a.checked):h.getCheckedFilters().length>0},isFilter(r){return y.isActiveFilterByColumn(r)},isRowExpandLoaded(r){const{fullAllDataRowIdData:l}=s,a=l[qe(h,r)];return a&&!!a.expandLoaded},clearRowExpandLoaded(r){const{fullAllDataRowIdData:l,rowExpandLazyLoadedMaps:a}=s,p=Ct.value,{lazy:g}=p,b=qe(h,r),C=l[b];return g&&C&&(C.expandLoaded=!1,delete a[b]),i.rowExpandedFlag++,ge()},reloadRowExpand(r){const{rowExpandLazyLoadedMaps:l}=s,a=Ct.value,{lazy:p}=a,g=qe(h,r);return p&&!l[g]&&h.clearRowExpandLoaded(r).then(()=>Ci(r)),ge()},reloadExpandContent(r){return h.reloadRowExpand(r)},toggleRowExpand(r){return h.setRowExpand(r,!h.isRowExpandByRow(r))},setAllRowExpand(r){const l=st.value,{tableFullData:a,tableFullTreeData:p}=s,g=l.children||l.childrenField;let b=[];return e.treeConfig?f.eachTree(p,C=>{b.push(C)},{children:g}):b=a,y.setRowExpand(b,r)},setRowExpand(r,l){const{expandColumn:a}=i;let{fullAllDataRowIdData:p,rowExpandedMaps:g,rowExpandLazyLoadedMaps:b}=s;const{handleGetRowId:C}=pr(h),E=Ct.value,{reserve:R,lazy:M,accordion:I,toggleMethod:P}=E,N=[],$=a?h.getColumnIndex(a):-1,G=a?h.getVMColumnIndex(a):-1;if(r){f.isArray(r)||(r=[r]),I&&(g={},s.rowExpandedMaps=g,r=r.slice(r.length-1,r.length));const Q=P?r.filter(z=>P({$table:h,expanded:l,column:a,columnIndex:$,$columnIndex:G,row:z,rowIndex:h.getRowIndex(z),$rowIndex:h.getVMRowIndex(z)})):r;l?Q.forEach(z=>{const B=C(z);if(!g[B]){const te=p[B];M&&!te.expandLoaded&&!b[B]?N.push(Ci(z)):g[B]=z}}):Q.forEach(z=>{const B=C(z);g[B]&&delete g[B]}),R&&Q.forEach(z=>wi(z,l))}return i.rowExpandedFlag++,Promise.all(N).then(()=>ge()).then(()=>h.recalculate(!0)).then(()=>(Mo(),kn(),Pf(),h.updateCellAreas()))},isRowExpandByRow(r){const{rowExpandedFlag:l}=i,{rowExpandedMaps:a}=s,p=qe(h,r);return!!l&&!!a[p]},isExpandByRow(r){return y.isRowExpandByRow(r)},clearRowExpand(){const{tableFullData:r}=s,l=Ct.value,{reserve:a}=l,p=h.getRowExpandRecords();return s.rowExpandedMaps={},i.rowExpandedFlag++,a&&r.forEach(g=>wi(g,!1)),ge().then(()=>{if(p.length)return h.recalculate(!0)}).then(()=>(Mo(),kn(),Pf(),h.updateCellAreas()))},clearRowExpandReserve(){return s.rowExpandedReserveRowMap={},ge()},getRowExpandRecords(){const r=[];return f.each(s.rowExpandedMaps,l=>{l&&r.push(l)}),r},setRowGroups(r){const{rowGroupConfig:l}=e;return l?r?(Ei((f.isArray(r)?r:[r]).map(a=>f.isString(a)?a:a.field)),ll(s.tableSynchData,!0)):ge():(Ke("vxe.error.reqProp",["row-group-config"]),ge())},clearRowGroups(){const{rowGroupConfig:r}=e;return r?(Ei([]),ll(s.tableSynchData,!0)):(Ke("vxe.error.reqProp",["row-group-config"]),ge())},isRowGroupRecord(r){const{isRowGroupStatus:l}=i;return l&&r.isAggregate},isRowGroupExpandByRow(r){const{rowGroupExpandedFlag:l}=i,{rowGroupExpandedMaps:a}=s;return!!l&&!!a[qe(h,r)]},setRowGroupExpand(r,l){return r?(f.isArray(r)||(r=[r]),pC(r,l)):ge()},setAllRowGroupExpand(r){const{tableFullGroupData:l}=s,a=Ie.value,{mapChildrenField:p}=a,g={};return r&&p&&f.eachTree(l,b=>{b[p]&&b[p].length&&(g[qe(h,b)]=b)},{children:p}),s.rowGroupExpandedMaps=g,Qr(),i.rowGroupExpandedFlag++,h.handleTableData()},clearRowGroupExpand(){return s.rowGroupExpandedMaps={},Qr(),i.rowGroupExpandedFlag++,h.handleTableData()},getTreeExpandRecords(){const r=[];return f.each(s.treeExpandedMaps,l=>{l&&r.push(l)}),r},isTreeExpandLoaded(r){const{fullAllDataRowIdData:l}=s,a=l[qe(h,r)];return a&&!!a.treeLoaded},clearTreeExpandLoaded(r){const{fullAllDataRowIdData:l,treeExpandedMaps:a}=s,p=st.value,{transform:g}=p;return r?(f.isArray(r)||(r=[r]),r.forEach(b=>{const C=qe(h,b),E=l[C];E&&(E.treeLoaded=!1,a[C]&&delete a[C])})):f.each(l,b=>{b.treeLoaded=!1}),s.treeExpandedMaps={},g&&(Qr(),h.handleTableData()),i.treeExpandedFlag++,ge()},reloadTreeExpand(r){const{treeExpandLazyLoadedMaps:l}=s,a=st.value,p=a.hasChild||a.hasChildField,{transform:g,lazy:b}=a,C=qe(h,r);return b&&r[p]&&!l[C]?h.clearTreeExpandLoaded(r).then(()=>Wr(r)).then(()=>{g&&(Qr(),h.handleTableData()),i.treeExpandedFlag++}).then(()=>h.recalculate()):ge()},reloadTreeChilds(r){return h.reloadTreeExpand(r)},toggleTreeExpand(r){return h.setTreeExpand(r,!h.isTreeExpandByRow(r))},setAllTreeExpand(r){const{tableFullData:l}=s,a=st.value,{transform:p,lazy:g}=a,b=a.children||a.childrenField,C=[];return f.eachTree(l,E=>{const R=E[b];(g||R&&R.length)&&C.push(E)},{children:b}),h.setTreeExpand(C,r).then(()=>{if(p)return Qr(),i.treeExpandedFlag++,h.recalculate()})},setTreeExpand(r,l){const a=st.value,{transform:p}=a;return r&&(f.isArray(r)||(r=[r]),r.length)?p?fC(r,l):Lf(r,l):ge()},isTreeExpandByRow(r){const{treeExpandedFlag:l}=i,{treeExpandedMaps:a}=s;return!!l&&!!a[qe(h,r)]},clearTreeExpand(){const{tableFullTreeData:r}=s,l=st.value,a=l.children||l.childrenField,{transform:p,reserve:g}=l,b=h.getTreeExpandRecords();return s.treeExpandedMaps={},g&&f.eachTree(r,C=>xi(C,!1),{children:a}),h.handleTableData().then(()=>{p&&(Qr(),h.handleTableData()),i.treeExpandedFlag++}).then(()=>{if(b.length)return h.recalculate()})},clearTreeExpandReserve(){return s.treeExpandedReserveRowMap={},ge()},getScroll(){const{scrollXLoad:r,scrollYLoad:l}=i,{elemStore:a}=s,p=ot(a["main-body-scroll"]);return{virtualX:r,virtualY:l,scrollTop:p?p.scrollTop:0,scrollLeft:p?p.scrollLeft:0}},scrollTo(r,l){const{elemStore:a}=s,p=ot(a["main-header-scroll"]),g=ot(a["main-body-scroll"]),b=ot(a["main-footer-scroll"]),C=ot(a["left-body-scroll"]),E=ot(a["right-body-scroll"]),R=se.value,M=he.value;return s.intoRunScroll=!0,f.isNumber(r)&&(tr(R,r),tr(g,r),tr(p,r),tr(b,r),zl()),f.isNumber(l)&&(Jt(M,l),Jt(g,l),Jt(C,l),Jt(E,l),gs()),i.scrollXLoad||i.scrollYLoad?new Promise(I=>{setTimeout(()=>{ge(()=>{s.intoRunScroll=!1,I()})},30)}):ge()},scrollToRow(r,l){const{isAllOverflow:a,scrollYLoad:p,scrollXLoad:g}=i,b=[];return r&&(e.treeConfig?b.push(h.scrollToTreeRow(r)):b.push(vm(h,r))),l&&b.push(xC(l,r)),Promise.all(b).then(()=>{if(r)return!a&&(p||g)&&($r(),an()),ge()})},scrollToColumn(r){const{fullColumnIdData:l}=s,a=hr(h,r);return a&&l[a.id]?mm(h,a):ge()},clearScroll(){const{elemStore:r,scrollXStore:l,scrollYStore:a}=s,p=ot(r["main-header-scroll"]),g=ot(r["main-body-scroll"]),b=ot(r["main-footer-scroll"]),C=ot(r["left-body-scroll"]),E=ot(r["right-body-scroll"]),R=se.value,M=he.value;return s.intoRunScroll=!0,tr(R,0),tr(g,0),tr(p,0),tr(b,0),Jt(M,0),Jt(g,0),Jt(C,0),Jt(E,0),l.startIndex=0,l.visibleStartIndex=0,l.endIndex=l.visibleSize,l.visibleEndIndex=l.visibleSize,a.startIndex=0,a.visibleStartIndex=0,a.endIndex=a.visibleSize,a.visibleEndIndex=a.visibleSize,ge().then(()=>{s.intoRunScroll=!1})},updateFooter(){const{showFooter:r,footerData:l,footerMethod:a}=e,{visibleColumn:p,afterFullData:g}=s;let b=[];return r&&l&&l.length?b=l.slice(0):r&&a&&(b=p.length?a({columns:p,data:g,$table:h,$grid:Ve}):[]),i.footerTableData=b,h.handleUpdateFooterMerge(),ge()},updateStatus(r,l){return ge().then(()=>{const{editRules:a}=e;if(r&&a)return h.handleCellRuleUpdateStatus("change",r,l)})},setMergeCells(r){return e.spanMethod&&Ke("vxe.error.errConflicts",["merge-cells","span-method"]),rl(r),h.handleUpdateBodyMerge(),ge().then(()=>(h.updateCellAreas(),qt()))},removeMergeCells(r){e.spanMethod&&Ke("vxe.error.errConflicts",["merge-cells","span-method"]);const l=Br(r,s.mergeBodyList,s.afterFullData);return ge().then(()=>(h.updateCellAreas(),qt(),l))},getMergeCells(){return s.mergeBodyList.slice(0)},clearMergeCells(){return s.mergeBodyList=[],s.mergeBodyMaps={},s.mergeBodyCellMaps={},ge().then(()=>qt())},setMergeFooterItems(r){return e.footerSpanMethod&&Ke("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Nl(r),h.handleUpdateFooterMerge(),ge().then(()=>(y.updateCellAreas(),qt()))},removeMergeFooterItems(r){e.footerSpanMethod&&Ke("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const l=Br(r,s.mergeFooterList);return ge().then(()=>(y.updateCellAreas(),qt(),l))},getMergeFooterItems(){return s.mergeFooterList.slice(0)},clearMergeFooterItems(){return s.mergeFooterList=[],s.mergeFooterMaps={},s.mergeFooterCellMaps={},ge().then(()=>qt())},updateCellAreas(){const{mouseConfig:r}=e,l=St.value;return r&&l.area&&h.handleRecalculateCellAreaEvent?h.handleRecalculateCellAreaEvent():ge()},getCustomStoreData(){const{id:r}=e,l=yr.value,{collectColumn:a}=s,{storage:p,checkMethod:g}=l,b=p===!0,C=b?{}:Object.assign({},p||{}),E=b||C.resizable,R=b||C.visible,M=b||C.fixed,I=b||C.sort,P={},N={},$={},G={},Q={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(!r)return Ke("vxe.error.reqProp",["id"]),Q;let z=0,B=0,te=0,U=0;return f.eachTree(a,(L,ke,ye,De,Je)=>{const We=L.getKey();if(!We){Ke("vxe.error.reqProp",[`${L.getTitle()||L.type||""} -> column.field=?`]);return}Je||(I&&(B=1,N[We]=L.renderSortNumber),M&&L.fixed!==L.defaultFixed&&(te=1,G[We]=L.fixed)),E&&L.resizeWidth&&(z=1,P[We]=L.renderWidth),R&&(!g||g({$table:h,column:L}))&&(!L.visible&&L.defaultVisible?(U=1,$[We]=!1):L.visible&&!L.defaultVisible&&(U=1,$[We]=!0))}),z&&(Q.resizableData=P),B&&(Q.sortData=N),te&&(Q.fixedData=G),U&&(Q.visibleData=$),Q},focus(){return s.isActivated=!0,ge()},blur(){return s.isActivated=!1,ge()},connect(r){return r?(je=r,je.syncUpdate({collectColumn:s.collectColumn,$table:h})):Ke("vxe.error.barUnableLink"),ge()}};const CC=r=>{const{editStore:l,ctxMenuStore:a,filterStore:p,customStore:g}=i,{mouseConfig:b,editRules:C}=e,E=S.value,R=Xt.value,M=lt.value,I=Zt.value,{actived:P}=l,N=_.value,$=Y.value,G=ee.value,Q=V.value;if($&&(Nt(r,E,"vxe-cell--filter").flag||Nt(r,$.getRefMaps().refElem.value).flag||Nt(r,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(r,"event.clearFilter",p.args,y.closeFilter)),G&&(g.btnEl===r.target||Nt(r,document.body,"vxe-toolbar-custom-target").flag||Nt(r,G.$el).flag||Nt(r,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(r,"event.clearCustom",{},()=>{h.closeCustom&&h.closeCustom()})),P.row){if(R.autoClear!==!1){const B=P.args.cell;(!B||!Nt(r,B).flag)&&(N&&Nt(r,N.$el).flag||(!s._lastCallTime||s._lastCallTime+50<Date.now())&&(Nt(r,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(r,"event.clearEdit",P.args,()=>{let te;if(R.mode==="row"){const U=Nt(r,E,"vxe-body--row"),L=U.flag?y.getRowNode(U.targetElem):null;te=L?!h.eqRow(L.item,P.args.row):!1}else te=!Nt(r,E,"col--edit").flag;if(te||(te=Nt(r,E,"vxe-header--row").flag),te||(te=Nt(r,E,"vxe-footer--row").flag),!te&&e.height&&!i.overflowY){const U=r.target;No(U,"vxe-table--body-wrapper")&&(te=r.offsetY<U.clientHeight)}(te||!Nt(r,E).flag)&&setTimeout(()=>{h.handleClearEdit(r).then(()=>{!s.isActivated&&C&&M.autoClear&&(i.validErrorMaps={})})})})))}}else if(b&&!Nt(r,E).flag&&!(Ve&&Nt(r,Ve.getRefMaps().refElem.value).flag)&&!(Q&&Nt(r,Q.getRefMaps().refElem.value).flag)&&!(je&&Nt(r,je.getRefMaps().refElem.value).flag)&&(h.clearSelected&&h.clearSelected(),I.autoClear&&h.getCellAreas)){const B=h.getCellAreas();B&&B.length&&!Nt(r,document.body,"vxe-table--ignore-areas-clear").flag&&O.preventEvent(r,"event.clearAreas",{},()=>{h.clearCellAreas(),h.clearCopyCellArea(),$t("clear-cell-area-selection",{cellAreas:B},r)})}h.closeMenu&&a.visible&&Q&&!Nt(r,Q.getRefMaps().refElem.value).flag&&h.closeMenu();const z=Nt(r,Ve?Ve.getRefMaps().refElem.value:E).flag;!z&&C&&M.autoClear&&(i.validErrorMaps={}),s.isActivated=z},wC=()=>{y.closeFilter(),h.closeMenu&&h.closeMenu()},yC=()=>{y.closeTooltip(),h.closeMenu&&h.closeMenu()},EC=r=>{const{mouseConfig:l,keyboardConfig:a}=e,{filterStore:p,ctxMenuStore:g,editStore:b}=i,C=St.value,E=Qe.value,{actived:R}=b;Yt.hasKey(r,oo.ESCAPE)&&O.preventEvent(r,"event.keydown",null,()=>{if($t("keydown-start",{},r),a&&l&&C.area&&h.handleKeyboardCellAreaEvent)h.handleKeyboardCellAreaEvent(r);else if((R.row||p.visible||g.visible)&&(r.stopPropagation(),h.closeMenu&&h.closeMenu(),y.closeFilter(),a&&E.isEsc&&R.row)){const I=R.args;h.handleClearEdit(r),C.selected&&ge(()=>h.handleSelected(I,r))}$t("keydown",{},r),$t("keydown-end",{},r)})},RC=r=>{s.isActivated&&h.preventEvent(r,"event.keydown",null,()=>{const{mouseConfig:l,keyboardConfig:a,treeConfig:p,editConfig:g,highlightCurrentRow:b,highlightCurrentColumn:C}=e,{ctxMenuStore:E,editStore:R,currentRow:M}=i,{afterFullData:I}=s,P=Qt.value,N=gr.value,$=Qe.value,G=St.value,Q=Xt.value,z=st.value,B=Rr.value,te=re.value,U=He.value,{selected:L,actived:ke}=R,ye=z.children||z.childrenField,De=r.keyCode,Je=Yt.hasKey(r,oo.ESCAPE),We=Yt.hasKey(r,oo.BACKSPACE),Ge=Yt.hasKey(r,oo.TAB),Xe=Yt.hasKey(r,oo.ENTER),_e=Yt.hasKey(r,oo.SPACEBAR),nt=Yt.hasKey(r,oo.ARROW_LEFT),pt=Yt.hasKey(r,oo.ARROW_UP),gt=Yt.hasKey(r,oo.ARROW_RIGHT),Dt=Yt.hasKey(r,oo.ARROW_DOWN),Rt=Yt.hasKey(r,oo.DELETE),Vt=Yt.hasKey(r,oo.F2),_t=Yt.hasKey(r,oo.CONTEXT_MENU),er=li(r),Et=r.shiftKey,xr=r.altKey,nr=nt||pt||gt||Dt,Or=P&&E.visible&&(Xe||_e||nr),Er=xt(g)&&ke.column&&ke.row,Fr=Q.beforeEditMethod||Q.activeMethod;if(Or)r.preventDefault(),E.showChild&&yl(E.selected)?h.moveCtxMenu(r,E,"selectChild",nt,!1,E.selected.children):h.moveCtxMenu(r,E,"selected",gt,!0,B);else if(a&&l&&G.area&&h.handleKeyboardCellAreaEvent)h.handleKeyboardCellAreaEvent(r);else if(Je){if(h.closeMenu&&h.closeMenu(),h.closeFilter(),a&&$.isEsc&&ke.row){const Wt=ke.args;h.handleClearEdit(r),G.selected&&ge(()=>h.handleSelected(Wt,r))}}else if(_e&&a&&$.isChecked&&L.row&&L.column&&(L.column.type==="checkbox"||L.column.type==="radio"))r.preventDefault(),L.column.type==="checkbox"?O.handleToggleCheckRowEvent(r,L.args):O.triggerRadioRowEvent(r,L.args);else if(Vt&&xt(g))Er||L.row&&L.column&&(r.preventDefault(),h.handleEdit(L.args,r));else if(_t)s._keyCtx=L.row&&L.column&&N.length,clearTimeout(s.keyCtxTimeout),s.keyCtxTimeout=setTimeout(()=>{s._keyCtx=!1},1e3);else if(Xe&&!xr&&a&&$.isEnter&&(L.row||ke.row||p&&(te.isCurrent||b)&&M)){const{isLastEnterAppendRow:Wt,beforeEnterMethod:sr,enterMethod:Gr}=$;if(er){if(ke.row){const Ir=ke.args;h.handleClearEdit(r),G.selected&&ge(()=>{h.handleSelected(Ir,r)})}}else if(L.row||ke.row){const Ir=L.row?L.args:ke.args;if(Et)$.enterToTab?h.moveTabSelected(Ir,Et,r):h.moveEnterSelected(Ir,nt,!0,gt,!1,r);else if($.enterToTab)h.moveTabSelected(Ir,Et,r);else{const to=L.row||ke.row,uo=L.column||ke.column,cl=h.getVTRowIndex(to),Go={row:to,rowIndex:h.getRowIndex(to),$rowIndex:h.getVMRowIndex(to),_rowIndex:cl,column:uo,columnIndex:h.getColumnIndex(uo),$columnIndex:h.getVMColumnIndex(uo),_columnIndex:h.getVTColumnIndex(uo),$table:h};if(!sr||sr(Go)!==!1){if(Wt&&cl>=I.length-1){h.insertAt({},-1).then(({row:Fi})=>{h.scrollToRow(Fi,uo),h.handleSelected(Object.assign(Object.assign({},Ir),{row:Fi}),r)}),h.dispatchEvent("enter-append-row",Go,r);return}h.moveEnterSelected(Ir,nt,!1,gt,!0,r),Gr&&Gr(Go)}}}else if(p&&(te.isCurrent||b)&&M){const Ir=M[ye];if(Ir&&Ir.length){r.preventDefault();const to=Ir[0],uo={$table:h,row:to,rowIndex:h.getRowIndex(to),$rowIndex:h.getVMRowIndex(to)};h.setTreeExpand(M,!0).then(()=>h.scrollToRow(to)).then(()=>h.triggerCurrentRowEvent(r,uo))}}}else if(nr&&a&&$.isArrow)Er||(G.selected&&L.row&&L.column?h.moveArrowSelected(L.args,nt,pt,gt,Dt,r):((pt||Dt)&&(te.isCurrent||b)&&h.moveCurrentRow(pt,Dt,r),(nt||gt)&&(U.isCurrent||C)&&h.moveCurrentColumn(nt,gt,r)));else if(Ge&&a&&$.isTab)L.row||L.column?h.moveTabSelected(L.args,Et,r):(ke.row||ke.column)&&h.moveTabSelected(ke.args,Et,r);else if(a&&$.isDel&&Rt&&xt(g)&&(L.row||L.column)){if(!Er){const{delMethod:Wt}=$,sr={row:L.row,rowIndex:y.getRowIndex(L.row),column:L.column,columnIndex:y.getColumnIndex(L.column),$table:h,$grid:Ve};(!Fr||Fr(sr))&&(Wt?Wt(sr):Ho(L.row,L.column,null),y.updateFooter(),$t("cell-delete-value",sr,r))}}else if(We&&a&&$.isBack&&xt(g)&&(L.row||L.column)){if(!Er){const{backMethod:Wt}=$;if($.isDel&&xt(g)&&(L.row||L.column)){const sr={row:L.row,rowIndex:h.getRowIndex(L.row),column:L.column,columnIndex:h.getColumnIndex(L.column),$table:h,$grid:Ve};(!Fr||Fr(sr))&&(Wt?Wt(sr):(Ho(L.row,L.column,null),h.handleEdit(L.args,r)),$t("cell-backspace-value",sr,r))}}}else if(We&&a&&p&&$.isBack&&(te.isCurrent||b)&&M){const{parent:Wt}=f.findTree(s.afterTreeFullData,sr=>sr===M,{children:ye});if(Wt){r.preventDefault();const sr={row:Wt,rowIndex:h.getRowIndex(Wt),$rowIndex:h.getVMRowIndex(Wt),$table:h,$grid:Ve};h.setTreeExpand(Wt,!1).then(()=>h.scrollToRow(Wt)).then(()=>h.triggerCurrentRowEvent(r,sr))}}else if(a&&xt(g)&&$.isEdit&&!er&&(_e||De>=48&&De<=57||De>=65&&De<=90||De>=96&&De<=111||De>=186&&De<=192||De>=219&&De<=222)){const{editMode:Wt,editMethod:sr}=$;if(L.column&&L.row&&xt(L.column.editRender)){const Gr=Q.beforeEditMethod||Q.activeMethod,Ir={row:L.row,rowIndex:h.getRowIndex(L.row),column:L.column,columnIndex:h.getColumnIndex(L.column),$table:h,$grid:Ve};(!Gr||Gr(Object.assign(Object.assign({},L.args),{$table:h,$grid:Ve})))&&(sr?sr(Ir):(Wt!=="insert"&&Ho(L.row,L.column,null),h.handleEdit(L.args,r)))}}$t("keydown",{},r)})},SC=r=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:p,filterStore:g}=i,{isActivated:b}=s,C=St.value,E=Qe.value,{actived:R}=p;b&&!g.visible&&(R.row||R.column||l&&E.isClip&&a&&C.area&&h.handlePasteCellAreaEvent&&h.handlePasteCellAreaEvent(r),$t("paste",{},r))},OC=r=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:p,filterStore:g}=i,{isActivated:b}=s,C=St.value,E=Qe.value,{actived:R}=p;b&&!g.visible&&(R.row||R.column||l&&E.isClip&&a&&C.area&&h.handleCopyCellAreaEvent&&h.handleCopyCellAreaEvent(r),$t("copy",{},r))},DC=r=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:p,filterStore:g}=i,{isActivated:b}=s,C=St.value,E=Qe.value,{actived:R}=p;b&&!g.visible&&(R.row||R.column||l&&E.isClip&&a&&C.area&&h.handleCutCellAreaEvent&&h.handleCutCellAreaEvent(r),$t("cut",{},r))},Bf=()=>{h.closeMenu&&h.closeMenu();const r=S.value;if(!r||!r.clientWidth)return ge();y.recalculate(!0),y.updateCellAreas()},Di=r=>{const l=q.value;clearTimeout(s.tooltipTimeout),r?y.closeTooltip():l&&l.setActived&&l.setActived(!0)},$f=()=>{const{dragRow:r,dragCol:l}=i;(r||l)&&(Mi(),bs(),il(),i.dragRow=null,i.dragCol=null,i.isDragColMove=!1,i.isDragRowMove=!1)},bs=()=>{const r=S.value;if(r){const l="row--drag-origin";f.arrayEach(r.querySelectorAll(`.${l}`),a=>{a.draggable=!1,Yr(a,l)})}},MC=r=>{const l=S.value;if(l){const a="row--drag-origin",p=qe(h,r);f.arrayEach(l.querySelectorAll(`[rowid="${p}"]`),g=>{xo(g,a)})}},TC=r=>{const{dragConfig:l}=e,{dragRow:a}=i,p=tt.value,{tooltipMethod:g}=p,b=g||(l?l.rowTooltipMethod:null);let C="";b?C=`${b({$table:h,row:a})||""}`:C=Fo("vxe.table.dragTip",[r.textContent||""]),i.dragTipText=C},FC=r=>{const l=S.value;if(l){const a=[];f.eachTree([r],g=>{a.push(`[colid="${g.id}"]`)});const p="col--drag-origin";f.arrayEach(l.querySelectorAll(a.join(",")),g=>{xo(g,p)})}},Mi=()=>{const r=S.value;if(r){const l="col--drag-origin";f.arrayEach(r.querySelectorAll(`.${l}`),a=>{a.draggable=!1,Yr(a,l)})}},IC=r=>{const{dragCol:l}=i,a=it.value,{tooltipMethod:p}=a;let g="";p?g=`${p({$table:h,column:l})||""}`:g=Fo("vxe.table.dragTip",[r.textContent||""]),i.dragTipText=g},Ti=(r,l,a,p,g)=>{const b=S.value;if(!b)return;const{overflowX:C,scrollbarWidth:E,overflowY:R,scrollbarHeight:M}=i,{prevDragToChild:I}=s,P=b.getBoundingClientRect(),N=R?E:0,$=C?M:0,G=b.clientWidth,Q=b.clientHeight;if(l){const B=de.value;if(B)if(p){const te=Ue.value,U=l.getBoundingClientRect();let L=l.clientHeight;const ke=Math.max(1,U.y-P.y);ke+L>Q-$&&(L=Q-ke-$),B.style.display="block",B.style.left=`${te?N:0}px`,B.style.top=`${ke}px`,B.style.height=`${L}px`,B.style.width=`${G-N}px`,B.setAttribute("drag-pos",g),B.setAttribute("drag-to-child",I?"y":"n")}else B.style.display=""}else if(a){const B=ce.value;if(B)if(p){const te=Pe.value,U=xe.value,L=U?U.clientWidth:0,ke=ue.value,ye=ke?ke.clientWidth:0,De=a.getBoundingClientRect();let Je=a.clientWidth;const We=Math.max(0,De.y-P.y),Ge=L;let Xe=De.x-P.x;Xe<Ge&&(Je-=Ge-Xe,Xe=Ge);const _e=G-ye-(ye?0:N);Xe+Je>_e&&(Je=_e-Xe),B.style.display="block",B.style.top=`${We}px`,B.style.left=`${Xe}px`,B.style.width=`${Je}px`,I?B.style.height=`${De.height}px`:B.style.height=`${Q-We-(te?0:$)}px`,B.setAttribute("drag-pos",g),B.setAttribute("drag-to-child",I?"y":"n")}else B.style.display=""}const z=W.value;z&&(z.style.display="block",z.style.top=`${Math.min(b.clientHeight-b.scrollTop-z.clientHeight,r.clientY-P.y)}px`,z.style.left=`${Math.min(b.clientWidth-b.scrollLeft-z.clientWidth-16,r.clientX-P.x)}px`,z.setAttribute("drag-status",p?I?"sub":"normal":"disabled"))},il=()=>{const r=W.value,l=de.value,a=ce.value;r&&(r.style.display=""),l&&(l.style.display=""),a&&(a.style.display="")},xs=(r,l,a,p,g)=>{const b=a||l;if(!b)return ge();g.cell=l;const{tooltipStore:C}=i,E=Bt.value,{column:R,row:M}=g,{showAll:I,contentMethod:P}=E,N=P?P(g):null,$=P&&!f.eqNull(N),G=$?N:f.toString(R.type==="html"?b.innerText:b.textContent).trim(),Q=b.scrollWidth>b.clientWidth;return G&&(I||$||Q)&&(Object.assign(C,{row:M,column:R,visible:!0,currOpts:{}}),ge(()=>{const z=q.value;z&&z.open&&z.open(Q?b:p,Cr(G))})),ge()},Wl=(r,l)=>{if(r){if(Ve)return Ve.callSlot(r,l);if(f.isFunction(r))return Ar(r(l))}return[]};O={getSetupOptions(){return Ot()},updateAfterDataIndex:_r,callSlot:Wl,getParentElem(){const r=S.value;if(Ve){const l=Ve.getRefMaps().refElem.value;return l?l.parentNode:null}return r?r.parentNode:null},getParentHeight(){const{height:r}=e,l=S.value;if(l){const a=l.parentNode,p=r==="100%"||r==="auto"?Qd(a):0;let g=0;return a&&(Ve&&No(a,"vxe-grid--table-wrapper")?g=Ve.getParentHeight():g=a.clientHeight),Math.floor(g-p)}return 0},getExcludeHeight(){return Ve?Ve.getExcludeHeight():0},defineField(r){const{treeConfig:l}=e,a=Ct.value,p=st.value,g=Tt.value,b=$e.value,C=p.children||p.childrenField,E=Ao(h);return f.isArray(r)||(r=[r]),r.map(R=>(s.tableFullColumn.forEach(I=>{const{field:P,editRender:N}=I;if(P&&!f.has(R,P)&&!R[P]){let $=null;if(N){const{defaultValue:G}=N;f.isFunction(G)?$=G({column:I}):f.isUndefined(G)||($=G)}f.set(R,P,$)}}),[g.labelField,b.checkField,b.labelField,a.labelField].forEach(I=>{I&&_o(f.get(R,I))&&f.set(R,I,null)}),l&&p.lazy&&f.isUndefined(R[C])&&(R[C]=null),_o(f.get(R,E))&&f.set(R,E,ii()),R))},handleTableData(r){const{scrollYLoad:l}=i,{scrollYStore:a,fullDataRowIdData:p}=s;let g=s.afterFullData;r&&(co(),g=Qr());const b=l?g.slice(a.startIndex,a.endIndex):g.slice(0),C={};return b.forEach((E,R)=>{const M=qe(h,E),I=p[M];I&&(I.$index=R),C[M]=E}),i.tableData=b,s.visibleDataRowIdData=C,ge()},cacheRowMap(r){const{treeConfig:l}=e,{isRowGroupStatus:a}=i,{fullAllDataRowIdData:p,tableFullData:g,tableFullTreeData:b,tableFullGroupData:C,treeExpandedMaps:E}=s,R=r?{}:Object.assign({},p),M={},{handleUpdateRowId:I}=dm(h),P=(N,$,G,Q,z,B,te,U)=>{let L=R[B];L||(L={row:N,rowid:B,seq:U,index:-1,_index:-1,$index:-1,treeIndex:$,items:G,parent:z,level:te,height:0,resizeHeight:0,oTop:0,expandHeight:0},M[B]=L,R[B]=L),L.treeLoaded=!1,L.expandLoaded=!1,L.row=N,L.items=G,L.parent=z,L.level=te,L.index=Q,L.treeIndex=$,M[B]=L,R[B]=L};if(l){const N=st.value,{lazy:$}=N,G=N.children||N.childrenField,Q=N.hasChild||N.hasChildField;f.eachTree(b,(z,B,te,U,L,ke)=>{const ye=I(z);l&&$&&(z[Q]&&z[G]===void 0&&(z[G]=null),E[ye]&&(!z[G]||!z[G].length)&&delete E[ye]),P(z,B,te,L?-1:B,L,ye,ke.length-1,hm(U))},{children:G})}else if(a){const N=Ie.value,{mapChildrenField:$}=N;f.eachTree(C,(G,Q,z,B,te,U)=>{const L=I(G);P(G,Q,z,te?-1:Q,te,L,U.length-1,hm(B))},{children:$})}else g.forEach((N,$,G)=>{P(N,$,G,$,null,I(N),0,$+1)});s.fullDataRowIdData=M,s.fullAllDataRowIdData=R,i.treeExpandedFlag++},cacheSourceMap(r){const{treeConfig:l}=e,a=st.value,p=f.clone(r,!0),{handleUpdateRowId:g}=dm(h),b={},C=E=>{const R=g(E);b[R]=E};if(l){const E=a.children||a.childrenField;f.eachTree(p,C,{children:a.transform?a.mapChildrenField:E})}else p.forEach(C);s.sourceDataRowIdData=b,s.tableSourceData=p},analyColumnWidth(){const{tableFullColumn:r}=s,l=He.value,{width:a,minWidth:p}=l,g=[],b=[],C=[],E=[],R=[],M=[],I=[],P=[];r.forEach(N=>{a&&!N.width&&(N.width=a),p&&!N.minWidth&&(N.minWidth=p),N.visible&&(N.resizeWidth?g.push(N):N.width==="auto"?I.push(N):Jd(N.width)?b.push(N):Cl(N.width)?R.push(N):Jd(N.minWidth)?C.push(N):N.minWidth==="auto"?E.push(N):Cl(N.minWidth)?M.push(N):P.push(N))}),Object.assign(i.columnStore,{resizeList:g,pxList:b,pxMinList:C,autoMinList:E,scaleList:R,scaleMinList:M,autoList:I,remainList:P})},handleColResizeMousedownEvent(r,l,a){r.stopPropagation(),r.preventDefault();const{column:p}=a,{overflowX:g,scrollbarHeight:b}=i,{elemStore:C,visibleColumn:E}=s,R=dt.value,M=g?b:0,I=S.value,P=xe.value,N=ue.value,$=pe.value;if(!$)return;const G=$.firstElementChild,Q=Pe.value,{clientX:z}=r,B=S.value,te=r.target;let U=p;p.children&&p.children.length&&f.eachTree(p.children,Vt=>{U=Vt});const L=te.parentNode,ke=Object.assign(a,{cell:L});let ye=0;const De=ot(C["main-body-scroll"]);if(!De)return;const Je=VE(te,B),We=te.clientWidth,Ge=Math.floor(We/2),Xe=pm(ke)-Ge;let _e=Je.left-L.clientWidth+We+Xe,nt=Je.left+Ge;const pt=l==="left",gt=l==="right";let Dt=0;if(pt||gt){const Vt=pt?"nextElementSibling":"previousElementSibling";let _t=L[Vt];for(;_t&&!No(_t,"fixed--hidden");)No(_t,"col--group")||(Dt+=_t.offsetWidth),_t=_t[Vt];gt&&N&&(nt=N.offsetLeft+Dt)}const Rt=Vt=>{Vt.stopPropagation(),Vt.preventDefault();const _t=I.clientHeight,er=Vt.clientX-z;let Et=nt+er;const xr=l?0:De.scrollLeft;pt?Et=Math.min(Et,(N?N.offsetLeft:De.clientWidth)-Dt-Xe):gt?(_e=(P?P.clientWidth:0)+Dt+Xe,Et=Math.min(Et,nt+L.clientWidth-Xe)):_e=Math.max(De.scrollLeft,_e),ye=Math.max(Et,_e);const nr=Math.max(1,ye-xr);if($.style.left=`${nr}px`,$.style.top=`${Q?M:0}px`,$.style.height=`${Q?_t-M:_t}px`,R.showDragTip&&G){G.textContent=Fo("vxe.table.resizeColTip",[U.renderWidth+(gt?nt-ye:ye-nt)]);const Or=I.clientWidth,Er=B.getBoundingClientRect(),Fr=$.clientWidth,Wt=G.clientWidth,sr=G.clientHeight;let Gr=-Wt;nr<Wt+Fr?Gr=0:nr>Or&&(Gr+=Or-nr),G.style.left=`${Gr}px`,G.style.top=`${Math.min(_t-sr,Math.max(0,Vt.clientY-Er.y-sr/2))}px`}i.isDragResize=!0};i.isDragResize=!0,xo(I,"col-drag--resize"),$.style.display="block",document.onmousemove=Rt,document.onmouseup=function(Vt){document.onmousemove=null,document.onmouseup=null,$.style.display="none",s._lastResizeTime=Date.now(),setTimeout(()=>{i.isDragResize=!1},50);const _t=U.renderWidth+(gt?nt-ye:ye-nt),er=Object.assign(Object.assign({},a),{resizeWidth:_t,resizeColumn:U});R.dragMode==="fixed"&&E.forEach(Et=>{Et.id!==U.id&&(Et.resizeWidth||(Et.resizeWidth=Et.renderWidth))}),h.handleColResizeCellAreaEvent?h.handleColResizeCellAreaEvent(Vt,er):(U.resizeWidth=_t,qf(Vt,er)),Yr(I,"col-drag--resize")},Rt(r),h.closeMenu&&h.closeMenu()},handleColResizeDblclickEvent(r,l){const a=dt.value,{isDblclickAutoWidth:p}=a,g=S.value;if(p&&g){r.stopPropagation(),r.preventDefault();const{fullColumnIdData:b}=s,{column:C}=l;let E=C;C.children&&C.children.length&&f.eachTree(C.children,z=>{E=z});const R=E.id,M=b[R],P=r.target.parentNode,N=Object.assign(l,{cell:P}),$=pm(N);g.setAttribute("data-calc-col","Y");let G=ol(E,g);g.removeAttribute("data-calc-col"),M&&(G=Math.max(G,M.width)),G=Math.max($,G);const Q=Object.assign(Object.assign({},l),{resizeWidth:G,resizeColumn:E});i.isDragResize=!1,s._lastResizeTime=Date.now(),h.handleColResizeDblclickCellAreaEvent?h.handleColResizeDblclickCellAreaEvent(r,Q):(E.resizeWidth=G,qf(r,Q))}},handleRowResizeMousedownEvent(r,l){r.stopPropagation(),r.preventDefault();const{row:a}=l,{overflowX:p,scrollbarWidth:g,overflowY:b,scrollbarHeight:C}=i,{elemStore:E,fullAllDataRowIdData:R}=s,M=b?g:0,I=p?C:0,P=Ue.value,N=dt.value,$=re.value,G=et.value,Q=S.value,z=Se.value;if(!z)return;const{clientY:B}=r,te=z.firstElementChild,L=r.currentTarget.parentNode,ke=L.parentNode;if(!ot(E["main-body-scroll"]))return;const De=qe(h,a),Je=R[De];if(!Je)return;const We=Me.value,Ge=Je.resizeHeight||G.height||$.height||Je.height||We,Xe=Q.getBoundingClientRect(),_e=ke.getBoundingClientRect(),nt=B-_e.y-ke.clientHeight;let pt=Ge;const gt=L.querySelector(".vxe-cell");let Dt=0;if(gt){const _t=getComputedStyle(gt);Dt=Math.max(1,Math.ceil(f.toNumber(_t.paddingTop)+f.toNumber(_t.paddingBottom)))}const Rt=_e.y-Xe.y+Dt,Vt=_t=>{_t.stopPropagation(),_t.preventDefault();const er=Q.clientWidth-M,Et=Q.clientHeight-I;let xr=_t.clientY-Xe.y-nt;if(xr<Rt?xr=Rt:pt=Math.max(Dt,Ge+_t.clientY-B),z.style.left=`${P?M:0}px`,z.style.top=`${xr}px`,z.style.width=`${er}px`,N.showDragTip&&te){te.textContent=Fo("vxe.table.resizeRowTip",[pt]);const nr=te.clientWidth,Or=te.clientHeight;let Er=Math.max(2,_t.clientX-Xe.x),Fr=0;Er+nr>=er-2&&(Er=er-nr-2),xr+Or>=Et&&(Fr=Et-(xr+Or)),te.style.left=`${Er}px`,te.style.top=`${Fr}px`}i.isDragResize=!0};i.isDragResize=!0,xo(Q,"row-drag--resize"),z.style.display="block",document.onmousemove=Vt,document.onmouseup=function(_t){if(document.onmousemove=null,document.onmouseup=null,z.style.display="none",s._lastResizeTime=Date.now(),setTimeout(()=>{i.isDragResize=!1},50),pt!==Ge){const er=Object.assign(Object.assign({},l),{resizeHeight:pt,resizeRow:a});s.isResizeCellHeight=!0,h.handleRowResizeCellAreaEvent?h.handleRowResizeCellAreaEvent(_t,er):(Je.resizeHeight=pt,_f(_t,er),Mo())}Yr(Q,"row-drag--resize")},Vt(r)},handleRowResizeDblclickEvent(r,l){const a=dt.value,{isDblclickAutoHeight:p}=a,g=S.value;if(p&&g){r.stopPropagation(),r.preventDefault();const{editStore:b}=i,{fullAllDataRowIdData:C}=s,{actived:E}=b,{row:R}=l,M=qe(h,R),I=C[M];if(!I)return;const P=()=>{g.setAttribute("data-calc-row","Y");const N=Tn(I,g);g.removeAttribute("data-calc-row");const $=Object.assign(Object.assign({},l),{resizeHeight:N,resizeRow:R});i.isDragResize=!1,s._lastResizeTime=Date.now(),h.handleRowResizeDblclickCellAreaEvent?h.handleRowResizeDblclickCellAreaEvent(r,$):(I.resizeHeight=N,_f(r,$))};E.row||E.column?h.clearEdit().then(P):P()}},saveCustomStore(r){const{customConfig:l}=e,a=Le.value,p=yr.value,{updateStore:g,storage:b}=p,C=b===!0,E=C?{}:Object.assign({},b||{}),R=C||E.resizable,M=C||E.visible,I=C||E.fixed,P=C||E.sort;if(r!=="reset"&&(i.isCustomStatus=!0),(l?xt(p):p.enabled)&&(R||M||I||P)){if(!a)return Ke("vxe.error.reqProp",["id"]),ge();const N=r==="reset"?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:y.getCustomStoreData();if(g)return g({$table:h,id:a,type:r,storeData:N});Ro(a,r==="reset"?null:N)}return ge()},handleCustom(){const{mouseConfig:r}=e;return r&&(h.clearSelected&&h.clearSelected(),h.clearCellAreas&&(h.clearCellAreas(),h.clearCopyCellArea())),O.analyColumnWidth(),y.refreshColumn(!0)},handleUpdateDataQueue(){i.upDataFlag++},handleRefreshColumnQueue(){i.reColumnFlag++},preventEvent(r,l,a,p,g){let b=Im.get(l);!b.length&&l==="event.clearEdit"&&(b=Im.get("event.clearActived"));let C=null,E=!1;for(let R=0;R<b.length;R++){const M=b[R],I=M(Object.assign({$grid:Ve,$table:h,$event:r},a));if(I===!1){E=!0;break}else if(I&&I.status===!1){C=I.result,E=!0;break}}return E||p&&(C=p()),g&&g(),C},updateCheckboxStatus(){const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{afterTreeFullData:a,afterGroupFullData:p,selectCheckboxMaps:g,treeIndeterminateRowMaps:b}=s,C=Ie.value,E=st.value,R=E.children||E.childrenField,M=$e.value,{checkField:I,checkStrictly:P,checkMethod:N}=M;if(!P){if(l||r){const{handleGetRowId:$}=pr(h),G={},Q=[];if(l){const z=C.mapChildrenField;z&&f.eachTree(p,B=>{const te=$(B),U=B[z];U&&U.length&&!G[te]&&(G[te]=1,Q.unshift([B,te,U]))},{children:z})}else if(r){const{transform:z,mapChildrenField:B}=E;f.eachTree(a,te=>{const U=$(te),L=te[z?B:R];L&&L.length&&!G[U]&&(G[U]=1,Q.unshift([te,U,L]))},{children:z?B:R})}Q.forEach(z=>{const B=z[0],te=z[1],U=z[2];let L=0,ke=0,ye=0;U.forEach(N?We=>{const Ge=$(We),Xe=I?f.get(We,I):g[Ge];N({$table:h,row:We})?(Xe?L++:b[Ge]&&ke++,ye++):Xe?L++:b[Ge]&&ke++}:We=>{const Ge=$(We);(I?f.get(We,I):g[Ge])?L++:b[Ge]&&ke++,ye++});const De=L>=ye,Je=!De&&(L>=1||ke>=1);I&&f.set(B,I,De),De?(I||(g[te]=B),b[te]&&delete b[te]):(I||g[te]&&delete g[te],Je?b[te]=B:b[te]&&delete b[te])})}i.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{afterFullData:a,afterTreeFullData:p,afterGroupFullData:g,checkboxReserveRowMap:b,selectCheckboxMaps:C,treeIndeterminateRowMaps:E}=s,R=$e.value,{checkField:M,checkMethod:I,showReserveStatus:P}=R,{handleGetRowId:N}=pr(h);let $=0,G=0,Q=0;const z=r?p:l?g:a;z.forEach(I?U=>{const L=N(U),ke=M?f.get(U,M):C[L];I({$table:h,row:U})?(ke?$++:E[L]&&G++,Q++):ke?$++:E[L]&&G++}:U=>{const L=N(U);(M?f.get(U,M):C[L])?$++:E[L]&&G++,Q++});const B=z.length>0?Q>0?$>=Q:$>=z.length:!1;let te=!B&&($>=1||G>=1);!B&&!te&&P&&(te=!f.isEmpty(b)),i.isAllSelected=B,i.isIndeterminate=te},checkSelectionStatus(){h.updateCheckboxStatus(),h.updateAllCheckboxStatus()},handleBatchSelectRows(r,l,a){const{treeConfig:p}=e,{isRowGroupStatus:g}=i,{selectCheckboxMaps:b}=s,C=Ie.value,E=st.value,{transform:R,mapChildrenField:M}=E,I=E.children||E.childrenField,P=$e.value,{checkField:N,checkStrictly:$,checkMethod:G}=P,{handleGetRowId:Q}=pr(h),z=P.indeterminateField||P.halfField;if(N){if((p||g)&&!$){f.eachTree(r,B=>{(a||!G||G({$table:h,row:B}))&&(f.set(B,N,l),z&&f.set(B,z,!1),Vr(B,l))},{children:R?M:I}),i.updateCheckboxFlag++;return}r.forEach(B=>{(a||!G||G({$table:h,row:B}))&&(f.set(B,N,l),Vr(B,l))}),i.updateCheckboxFlag++;return}if(!$){if(g){f.eachTree(r,B=>{const te=Q(B);(a||!G||G({$table:h,row:B}))&&(l?b[te]=B:b[te]&&delete b[te],Vr(B,l))},{children:C.mapChildrenField}),i.updateCheckboxFlag++;return}else if(p){f.eachTree(r,B=>{const te=Q(B);(a||!G||G({$table:h,row:B}))&&(l?b[te]=B:b[te]&&delete b[te],Vr(B,l))},{children:R?M:I}),i.updateCheckboxFlag++;return}}r.forEach(B=>{const te=Q(B);(a||!G||G({$table:h,row:B}))&&(l?b[te]||(b[te]=B):b[te]&&delete b[te],Vr(B,l),i.updateCheckboxFlag++)})},handleSelectRow({row:r},l,a){h.handleBatchSelectRows([r],l,a)},handleUpdateBodyMerge(){const{mergeBodyList:r}=s;s.mergeBodyCellMaps=So(r),i.mergeBodyFlag++},handleUpdateFooterMerge(){const{mergeFooterList:r}=s;s.mergeFooterCellMaps=So(r),i.mergeFootFlag++},triggerHeaderTitleEvent(r,l,a){const p=l.content||l.message;if(p){const{tooltipStore:g}=i,{column:b}=a,C=Po(p);Di(!0),g.row=null,g.column=b,g.visible=!0,g.currOpts=l,ge(()=>{const E=q.value;E&&E.open&&E.open(r.currentTarget,C)})}},triggerHeaderTooltipEvent(r,l){const{tooltipStore:a}=i,{column:p}=l;Di(!0);const g=r.currentTarget;if(!g)return;const b=g.parentElement;if(!b)return;const C=b.parentElement;C&&(a.column!==p||!a.visible)&&xs(r,C,C.querySelector(".vxe-cell--wrapper"),C.querySelector(".vxe-cell--title")||b,l)},triggerBodyTooltipEvent(r,l){const{editConfig:a}=e,{editStore:p}=i,{tooltipStore:g}=i,b=Xt.value,{actived:C}=p,{row:E,column:R}=l,M=r.currentTarget;Di(g.column!==R||g.row!==E),!(R.editRender&&xt(a)&&(b.mode==="row"&&C.row===E||C.row===E&&C.column===R))&&(g.column!==R||g.row!==E||!g.visible)&&xs(r,M,M.querySelector(".vxe-cell--wrapper"),M.querySelector(".vxe-cell--label")||M.querySelector(".vxe-cell--wrapper"),l)},triggerFooterTooltipEvent(r,l){const{column:a}=l,{tooltipStore:p}=i,g=r.currentTarget;Di(p.column!==a||!!p.row),(p.column!==a||!p.visible)&&xs(r,g,g.querySelector(".vxe-cell--wrapper"),g.querySelector(".vxe-cell--label")||g.querySelector(".vxe-cell--wrapper"),l)},handleTargetLeaveEvent(){const r=Bt.value;let l=q.value;l&&l.setActived&&l.setActived(!1),r.enterable?s.tooltipTimeout=setTimeout(()=>{l=q.value,l&&l.isActived&&!l.isActived()&&h.closeTooltip()},r.leaveDelay):h.closeTooltip()},triggerHeaderCellClickEvent(r,l){const{_lastResizeTime:a}=s,p=jt.value,g=He.value,b=ht.value,{column:C}=l,E=r.currentTarget,R=a&&a>Date.now()-300,M=Nt(r,E,"vxe-cell--sort").flag,I=Nt(r,E,"vxe-cell--filter").flag;p.trigger==="cell"&&!(R||M||I)&&h.triggerSortEvent(r,C,tn(C)),$t("header-cell-click",Object.assign({triggerResizable:R,triggerSort:M,triggerFilter:I,cell:E},l),r),(g.isCurrent||e.highlightCurrentColumn)&&(!b.trigger||["header","default"].includes(b.trigger))&&h.triggerCurrentColumnEvent(r,l)},triggerHeaderCellDblclickEvent(r,l){$t("header-cell-dblclick",Object.assign({cell:r.currentTarget},l),r)},triggerCellClickEvent(r,l){const{highlightCurrentRow:a,highlightCurrentColumn:p,editConfig:g}=e,{editStore:b,isDragResize:C}=i;if(C)return;const E=Ct.value,R=Xt.value,M=st.value,I=Tt.value,P=$e.value,N=Qe.value,$=Ie.value,G=re.value,Q=He.value,z=ht.value,{actived:B,focused:te}=b,{row:U,column:L}=l,{type:ke,treeNode:ye,rowGroupNode:De}=L,Je=ke==="radio",We=ke==="checkbox",Ge=ke==="expand",Xe=r.currentTarget,_e=Je&&Nt(r,Xe,"vxe-cell--radio").flag,nt=We&&Nt(r,Xe,"vxe-cell--checkbox").flag,pt=ye&&Nt(r,Xe,"vxe-cell--tree-btn").flag,gt=Ge&&Nt(r,Xe,"vxe-table--expanded").flag,Dt=Ge&&Nt(r,Xe,"vxe-row-group--node-btn").flag;l=Object.assign({cell:Xe,triggerRadio:_e,triggerCheckbox:nt,triggerTreeNode:pt,triggerExpandNode:gt},l),!nt&&!_e&&(!gt&&(E.trigger==="row"||Ge&&E.trigger==="cell")&&h.triggerRowExpandEvent(r,l),(M.trigger==="row"||ye&&M.trigger==="cell")&&h.triggerTreeExpandEvent(r,l),($.trigger==="row"||De&&$.trigger==="cell")&&h.triggerRowGroupExpandEvent(r,l)),pt||(!gt&&!Dt&&((G.isCurrent||a)&&!nt&&!_e&&h.triggerCurrentRowEvent(r,l),(Q.isCurrent||p)&&(!z.trigger||["cell","default"].includes(z.trigger))&&!nt&&!_e&&h.triggerCurrentColumnEvent(r,l),!_e&&(I.trigger==="row"||Je&&I.trigger==="cell")&&h.triggerRadioRowEvent(r,l),!nt&&(P.trigger==="row"||We&&P.trigger==="cell")&&h.handleToggleCheckRowEvent(r,l)),xt(g)&&(N.arrowCursorLock&&r&&R.mode==="cell"&&r.target&&/^input|textarea$/i.test(r.target.tagName)&&(te.column=L,te.row=U),R.trigger==="manual"?B.args&&B.row===U&&L!==B.column&&dn(r,l):(!B.args||U!==B.row||L!==B.column)&&(R.trigger==="click"||R.trigger==="dblclick"&&R.mode==="row"&&B.row===U)&&dn(r,l))),xt(g)&&R.trigger==="dblclick"&&B.row&&B.column&&(R.mode==="row"?h.eqRow(B.row,U)||h.handleClearEdit(r):R.mode==="cell"&&(!h.eqRow(B.row,U)||B.column.id!==L.id)&&h.handleClearEdit(r)),$t("cell-click",l,r)},triggerCellDblclickEvent(r,l){const{editConfig:a}=e,{editStore:p,isDragResize:g}=i;if(g)return;const b=Xt.value,{actived:C}=p,E=r.currentTarget;l=Object.assign({cell:E},l),xt(a)&&b.trigger==="dblclick"&&(!C.args||r.currentTarget!==C.args.cell)&&(b.mode==="row"?zr("blur").catch(R=>R).then(()=>{h.handleEdit(l,r).then(()=>zr("change")).catch(R=>R)}):b.mode==="cell"&&h.handleEdit(l,r).then(()=>zr("change")).catch(R=>R)),$t("cell-dblclick",l,r)},handleToggleCheckRowEvent(r,l){const{selectCheckboxMaps:a}=s,p=$e.value,{checkField:g,trigger:b}=p,{row:C}=l;if(b==="manual")return;let E=!1;g?E=!f.get(C,g):E=!a[qe(h,C)],r?h.triggerCheckRowEvent(r,l,E):(h.handleBatchSelectRows([C],E),h.checkSelectionStatus())},triggerCheckRowEvent(r,l,a){const{treeConfig:p}=e,{row:g}=l,{isRowGroupStatus:b}=i,{afterFullData:C}=s,E=$e.value,{checkMethod:R,trigger:M}=E;if(M!=="manual"){if(r.stopPropagation(),E.isShiftKey&&r.shiftKey&&!(p||b)){const I=h.getCheckboxRecords();if(I.length){const P=I[0],N=h.getVTRowIndex(g),$=h.getVTRowIndex(P);if(N!==$){h.setAllCheckboxRow(!1);const G=N<$?C.slice(N,$+1):C.slice($,N+1);ge(()=>{Hr(G,!0,!1)}),$t("checkbox-range-select",Object.assign({rangeRecords:G},l),r);return}}}(!R||R({$table:h,row:g}))&&(h.handleBatchSelectRows([g],a),h.checkSelectionStatus(),$t("checkbox-change",Object.assign({records:()=>h.getCheckboxRecords(),reserves:()=>h.getCheckboxReserveRecords(),indeterminates:()=>h.getCheckboxIndeterminateRecords(),checked:a},l),r))}},triggerCheckAllEvent(r,l){const a=$e.value,{trigger:p}=a;p!=="manual"&&(r&&r.stopPropagation(),Hf(r,l))},triggerRadioRowEvent(r,l){const{selectRadioRow:a}=i,{row:p}=l,g=Tt.value,{trigger:b}=g;if(b==="manual")return;r.stopPropagation();let C=p,E=a!==C;E?eo(C):g.strict||(E=a===C,E&&(C=null,h.clearRadioRow())),E&&$t("radio-change",Object.assign({oldValue:a,newValue:C},l),r)},triggerCurrentColumnEvent(r,l){const{currentColumn:a}=i,p=He.value,g=ht.value,b=g.beforeSelectMethod||p.currentMethod,{column:C}=l,{trigger:E}=g;if(E==="manual")return;const R=a!==C;!b||b({column:C,$table:h})?(h.setCurrentColumn(C),R&&$t("current-column-change",Object.assign({oldValue:a,newValue:C},l),r)):$t("current-column-disabled",l,r)},triggerCurrentRowEvent(r,l){const{currentRow:a}=i,p=re.value,g=Be.value,b=g.beforeSelectMethod||p.currentMethod,{row:C}=l,{trigger:E}=g;if(E==="manual")return;const R=a!==C;!b||b({row:C,$table:h})?(h.setCurrentRow(C),R&&($t("current-row-change",Object.assign({oldValue:a,newValue:C},l),r),$t("current-change",Object.assign({oldValue:a,newValue:C},l),r))):$t("current-row-disabled",l,r)},triggerRowExpandEvent(r,l){const{expandColumn:a}=i,{rowExpandLazyLoadedMaps:p}=s,g=Ct.value,{row:b}=l,{lazy:C,trigger:E}=g;if(E==="manual")return;r.stopPropagation();const R=qe(h,b);if(!C||!p[R]){const M=!h.isRowExpandByRow(b),I=a?h.getColumnIndex(a):-1,P=a?h.getVMColumnIndex(a):-1;h.setRowExpand(b,M),$t("toggle-row-expand",{expanded:M,column:a,columnIndex:I,$columnIndex:P,row:b,rowIndex:h.getRowIndex(b),$rowIndex:h.getVMRowIndex(b)},r)}},triggerRowGroupExpandEvent(r,l){const{rowGroupExpandedMaps:a}=s,p=Ie.value,{row:g,column:b}=l,{trigger:C}=p;if(C==="manual")return;r.stopPropagation();const E=qe(h,g),R=!a[E],M=h.getColumnIndex(b),I=h.getVMColumnIndex(b);h.setRowGroupExpand(g,R),$t("toggle-row-group-expand",{expanded:R,column:b,columnIndex:M,$columnIndex:I,row:g},r)},triggerTreeExpandEvent(r,l){const{treeExpandLazyLoadedMaps:a,treeEATime:p}=s,g=st.value,{row:b,column:C}=l,{lazy:E,trigger:R,accordion:M}=g;if(R==="manual")return;r.stopPropagation();const I=qe(h,b);if(!E||!a[I]){const P=!h.isTreeExpandByRow(b),N=h.getColumnIndex(C),$=h.getVMColumnIndex(C);p&&clearTimeout(p),h.setTreeExpand(b,P).then(()=>{M&&(s.treeEATime=setTimeout(()=>{s.treeEATime=void 0,h.scrollToRow(b)},30))}),$t("toggle-tree-expand",{expanded:P,column:C,columnIndex:N,$columnIndex:$,row:b},r)}},handleColumnSortEvent(r,l){const{mouseConfig:a}=e,p=St.value,{field:g,sortable:b}=l;if(b){const C={$table:h,$event:r,column:l,field:g,property:g,order:l.order,sortList:y.getSortColumns(),sortTime:l.sortTime};a&&p.area&&h.handleSortEvent&&h.handleSortEvent(r,C),$t("sort-change",C,r)}},triggerSortEvent(r,l,a){const p=jt.value,{multiple:g,allowClear:b}=p,{field:C,sortable:E}=l;E&&(!a||l.order===a?b&&y.clearSort(g?l:null):y.sort({field:C,order:a}),h.handleColumnSortEvent(r,l))},handleCellRuleUpdateStatus(r,l,a){const{validStore:p}=i,{row:g,column:b}=l;if(h.hasCellRules&&h.hasCellRules(r,g,b)){const C=h.getCellElement(g,b);if(C){const E=!f.isUndefined(a);return h.validCellRules(r,g,b,a).then(()=>{E&&p.visible&&Ho(g,b,a),h.clearValidate(g,b)}).catch(({rule:R})=>{E&&Ho(g,b,a),h.showValidTooltip({rule:R,row:g,column:b,cell:C})})}}return ge()},triggerHeaderCellMousedownEvent(r,l){const{mouseConfig:a}=e,p=St.value,g=He.value,b=it.value,{trigger:C,isCrossDrag:E,isPeerDrag:R,disabledMethod:M}=b,I=r.currentTarget,P=I&&I.tagName&&I.tagName.toLowerCase()==="input",N=Nt(r,I,"vxe-cell--checkbox").flag,$=Nt(r,I,"vxe-cell--sort").flag,G=Nt(r,I,"vxe-cell--filter").flag;let Q=!1;const z=g.drag&&C==="cell";if(!(P||N||$||G)){const{column:B}=l;z&&!B.fixed&&(E||R||!B.parentId)&&!(M&&M(l))&&(Q=!0,h.handleHeaderCellDragMousedownEvent(r,l))}!Q&&a&&p.area&&h.handleHeaderCellAreaEvent&&h.handleHeaderCellAreaEvent(r,Object.assign({cell:I,triggerSort:$,triggerFilter:G},l)),h.focus(),h.closeMenu&&h.closeMenu()},triggerCellMousedownEvent(r,l){const{column:a}=l,{type:p,treeNode:g}=a,b=p==="radio",C=p==="checkbox",E=p==="expand",R=re.value,M=tt.value,{trigger:I,isCrossDrag:P,isPeerDrag:N,disabledMethod:$}=M,G=r.currentTarget;l.cell=G;const Q=G&&G.tagName&&G.tagName.toLowerCase()==="input",z=b&&Nt(r,G,"vxe-cell--radio").flag,B=C&&Nt(r,G,"vxe-cell--checkbox").flag,te=g&&Nt(r,G,"vxe-cell--tree-btn").flag,U=E&&Nt(r,G,"vxe-table--expanded").flag;let L=!1;R.drag&&(L=I==="row"||a.dragSort&&I==="cell");let ke=!1;Q||z||B||te||U||L&&(P||N||!l.level)&&!($&&$(l))&&(ke=!0,h.handleCellDragMousedownEvent(r,l)),!ke&&h.handleCellMousedownEvent&&h.handleCellMousedownEvent(r,l),h.focus(),h.closeFilter(),h.closeMenu&&h.closeMenu()},triggerCellMouseupEvent(){$f()},handleRowDragDragstartEvent(r){r.dataTransfer&&r.dataTransfer.setDragImage(Zd(),0,0)},handleRowDragSwapEvent(r,l,a,p,g,b){const{treeConfig:C,dragConfig:E}=e,R=tt.value,{afterFullData:M,tableFullData:I,fullAllDataRowIdData:P}=s,{isPeerDrag:N,isCrossDrag:$,isSelfToChildDrag:G,dragEndMethod:Q,dragToChildMethod:z}=R,B=st.value,{transform:te,rowField:U,mapChildrenField:L,parentField:ke}=B,ye=B.children||B.childrenField,De=Q||(E?E.dragEndMethod:null),Je=g==="bottom"?1:0,We={status:!1};if(p&&a&&p!==a){const Ge={oldRow:a,newRow:p,dragRow:a,dragPos:g,dragToChild:!!b,offsetIndex:Je},Xe=G&&z?z(Ge):b;return Promise.resolve(De?De(Ge):!0).then(_e=>{if(!_e)return We;let nt=-1,pt=-1;if(C){if(te){const gt=qe(h,a),Dt=P[gt],Rt=qe(h,p),Vt=P[Rt];if(Dt&&Vt){const{level:_t}=Dt,{level:er}=Vt,Et={};f.eachTree([a],Wt=>{Et[qe(h,Wt)]=Wt},{children:L});let xr=!1;if(_t&&er)if(N&&!$){if(Dt.row[ke]!==Vt.row[ke])return We}else{if(!$)return We;if(Et[Rt]&&(xr=!0,!($&&G)))return ve.modal&&ve.modal.message({status:"error",content:Fo("vxe.error.treeDragChild")}),We}else if(_t){if(!$)return We}else if(er){if(!$)return We;if(Et[Rt]&&(xr=!0,!($&&G)))return ve.modal&&ve.modal.message({status:"error",content:Fo("vxe.error.treeDragChild")}),We}const nr=f.toTreeArray(s.afterTreeFullData,{key:U,parentKey:ke,children:L}),Or=h.findRowIndexOf(nr,a);nr.splice(Or,1);const Fr=h.findRowIndexOf(nr,p)+Je;nr.splice(Fr,0,a),xr&&$&&G&&f.each(a[ye],Wt=>{Wt[ke]=a[ke]}),a[ke]=Xe?p[U]:p[ke],s.tableFullTreeData=f.toArrayTree(nr,{key:U,parentKey:ke,children:ye,mapChildren:L})}}}else{nt=h.findRowIndexOf(M,a);const gt=h.findRowIndexOf(I,a);M.splice(nt,1),I.splice(gt,1);const Dt=h.findRowIndexOf(M,p),Rt=h.findRowIndexOf(I,p);pt=Dt+Je;const Vt=Rt+Je;M.splice(pt,0,a),I.splice(Vt,0,a)}return i.isDragRowMove=!0,h.handleTableData(C&&te),h.cacheRowMap(!1),Vl(),C&&te||h.updateAfterDataIndex(),h.checkSelectionStatus(),i.scrollYLoad&&h.updateScrollYSpace(),r&&$t("row-dragend",{oldRow:a,newRow:p,dragRow:a,dragPos:g,dragToChild:Xe,offsetIndex:Je,_index:{newIndex:pt,oldIndex:nt}},r),ge().then(()=>{h.updateCellAreas(),h.recalculate()}).then(()=>({status:!0}))}).catch(()=>We)}return Promise.resolve(We)},handleRowDragDragendEvent(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a,prevDragToChild:p}=s,{dragRow:g}=i,b=st.value,{lazy:C}=b,E=b.hasChild||b.hasChildField,{prevDragRow:R,prevDragPos:M}=s;if(l&&C&&p){const I=qe(h,R),P=a[I];R[E]?P&&P.treeLoaded&&h.handleRowDragSwapEvent(r,!0,g,R,M,p):h.handleRowDragSwapEvent(r,!0,g,R,M,p)}else h.handleRowDragSwapEvent(r,!0,g,R,M,p);il(),bs(),s.prevDragToChild=!1,i.dragRow=null,i.dragCol=null,setTimeout(()=>{i.isDragRowMove=!1},500)},handleRowDragDragoverEvent(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a}=s,{dragRow:p}=i,g=st.value,{lazy:b,transform:C,parentField:E}=g,R=g.hasChild||g.hasChildField,M=tt.value,{isPeerDrag:I,isCrossDrag:P,isToChildDrag:N}=M;if(!p){r.preventDefault();return}const $=li(r),G=r.currentTarget,Q=G.getAttribute("rowid")||"",z=a[Q];if(z){const B=z.row,te=qe(h,B),U=a[te];r.preventDefault();const{dragRow:L}=i,ye=r.clientY-G.getBoundingClientRect().y<G.clientHeight/2?"top":"bottom";if(s.prevDragToChild=!!(l&&C&&P&&N&&$),s.prevDragRow=B,s.prevDragPos=ye,h.eqRow(L,B)||$&&l&&b&&B[R]&&U&&!U.treeLoaded||!P&&l&&C&&(I?L[E]!==B[E]:z.level)){Ti(r,G,null,!1,ye);return}Ti(r,G,null,!0,ye),$t("row-dragover",{oldRow:L,targetRow:B,dragPos:ye},r)}},handleCellDragMousedownEvent(r,l){var a;r.stopPropagation();const{dragConfig:p}=e,g=tt.value,{trigger:b,dragStartMethod:C}=g,{row:E}=l,R=r.currentTarget,M=b==="cell"||b==="row"?R:(a=R.parentElement)===null||a===void 0?void 0:a.parentElement,I=M.parentElement,P=C||(p?p.dragStartMethod:null);if(bs(),P&&!P(l)){I.draggable=!1,i.dragRow=null,i.dragCol=null,il();return}i.dragRow=E,i.dragCol=null,I.draggable=!0,MC(E),TC(M),$t("row-dragstart",l,r)},handleCellDragMouseupEvent(){$f()},handleHeaderCellDragDragstartEvent(r){r.dataTransfer&&r.dataTransfer.setDragImage(Zd(),0,0)},handleColDragSwapColumn(){kf(),ps(!1).then(()=>{h.updateCellAreas(),h.saveCustomStore("update:sort")})},handleColDragSwapEvent(r,l,a,p,g,b){const{mouseConfig:C}=e,E=it.value,{isPeerDrag:R,isCrossDrag:M,isSelfToChildDrag:I,isToChildDrag:P,dragEndMethod:N,dragToChildMethod:$}=E,{collectColumn:G}=s,Q=g==="right"?1:0,z={status:!1};if(p&&a&&p!==a){const B=a,te=p,U={oldColumn:B,newColumn:te,dragColumn:B,dragPos:g,dragToChild:!!b,offsetIndex:Q},L=I&&$?$(U):b;return Promise.resolve(N?N(U):!0).then(ke=>{if(!ke)return z;let ye=-1,De=-1;const Je={};f.eachTree([B],_e=>{Je[_e.id]=_e});let We=!1;if(B.parentId&&te.parentId)if(R&&!M){if(B.parentId!==te.parentId)return z}else{if(!M)return z;if(Je[te.id]&&(We=!0,!(M&&I)))return ve.modal&&ve.modal.message({status:"error",content:Fo("vxe.error.treeDragChild")}),z}else if(B.parentId){if(!M)return z}else if(te.parentId){if(!M)return z;if(Je[te.id]&&(We=!0,!(M&&I)))return ve.modal&&ve.modal.message({status:"error",content:Fo("vxe.error.treeDragChild")}),z}const Ge=f.findTree(G,_e=>_e.id===B.id);if(We&&M&&I){if(Ge){const{items:_e,index:nt}=Ge,pt=B.children||[];pt.forEach(gt=>{gt.parentId=B.parentId}),_e.splice(nt,1,...pt),B.children=[]}}else if(Ge){const{items:_e,index:nt,parent:pt}=Ge;_e.splice(nt,1),pt||(ye=nt)}const Xe=f.findTree(G,_e=>_e.id===te.id);if(Xe){const{items:_e,index:nt,parent:pt}=Xe;M&&P&&L?(B.parentId=te.id,te.children=(te.children||[]).concat([B])):(B.parentId=te.parentId,_e.splice(nt+Q,0,B)),pt||(De=nt)}return f.eachTree(G,(_e,nt,pt,gt,Dt)=>{if(!Dt){const Rt=nt+1;_e.renderSortNumber=Rt}}),i.isDragColMove=!0,C&&(h.clearSelected&&h.clearSelected(),h.clearCellAreas&&(h.clearCellAreas(),h.clearCopyCellArea())),r&&$t("column-dragend",{oldColumn:B,newColumn:te,dragColumn:B,dragPos:g,dragToChild:L,offsetIndex:Q,_index:{newIndex:De,oldIndex:ye}},r),l&&h.handleColDragSwapColumn(),{status:!0}}).catch(()=>z)}return Promise.resolve(z)},handleHeaderCellDragDragendEvent(r){const{dragCol:l}=i,{prevDragCol:a,prevDragPos:p,prevDragToChild:g}=s;h.handleColDragSwapEvent(r,!0,l,a,p,g),il(),Mi(),s.prevDragToChild=!1,i.dragRow=null,i.dragCol=null,setTimeout(()=>{i.isDragColMove=!1,h.recalculate().then(()=>{zl()})},500)},handleHeaderCellDragDragoverEvent(r){const{dragCol:l}=i,a=it.value,{isToChildDrag:p,isPeerDrag:g,isCrossDrag:b}=a;if(!l){r.preventDefault();return}const C=li(r),E=r.currentTarget,R=E.getAttribute("colid"),M=h.getColumnById(R);if(M){r.preventDefault();const{clientX:I}=r,N=I-E.getBoundingClientRect().x<E.clientWidth/2?"left":"right";if(s.prevDragToChild=!!(b&&p&&C),s.prevDragCol=M,s.prevDragPos=N,M.fixed||l&&l.id===M.id||!b&&(g?l.parentId!==M.parentId:M.parentId)){Ti(r,null,E,!1,N);return}Ti(r,null,E,!0,N),$t("column-dragover",{oldColumn:l,targetColumn:M,dragPos:N},r);const $=S.value;if(!$)return;const G=se.value,Q=F.value,z=Q?Q.$el:null,B=G||z;if(B){const te=$.getBoundingClientRect(),U=$.clientWidth,L=xe.value,ke=L?L.clientWidth:0,ye=ue.value,De=ye?ye.clientWidth:0,Je=te.x+ke,We=te.x+U-De,Ge=28,Xe=I-Je,_e=We-I;if(Xe>0&&Xe<=Ge){const nt=Math.floor(U/(Xe>Ge/2?240:120));B.scrollLeft-=nt*(Ge-Xe)}else if(_e>0&&_e<=Ge){const nt=Math.floor(U/(_e>Ge/2?240:120));B.scrollLeft+=nt*(Ge-_e)}}}},handleHeaderCellDragMousedownEvent(r,l){var a;r.stopPropagation();const p=it.value,{trigger:g,dragStartMethod:b}=p,{column:C}=l,E=r.currentTarget,R=g==="cell"?E:(a=E.parentElement)===null||a===void 0?void 0:a.parentElement;if(i.isDragColMove=!1,Mi(),b&&!b(l)){R.draggable=!1,i.dragRow=null,i.dragCol=null,il();return}i.dragCol=C,i.dragRow=null,R.draggable=!0,FC(C),IC(R),$t("column-dragstart",l,r)},handleHeaderCellDragMouseupEvent(){Mi(),il(),i.dragRow=null,i.dragCol=null,i.isDragColMove=!1},handleScrollEvent(r,l,a,p,g,b){const{highlightHoverRow:C}=e,{lastScrollLeft:E,lastScrollTop:R}=s,M=se.value,I=he.value;if(!M||!I)return;const P=re.value,N=_.value,$=q.value,G=I.clientHeight,Q=M.clientWidth,z=I.scrollHeight,B=M.scrollWidth;let te=!1,U=!1,L=!1,ke=!1,ye="",De=!1,Je=!1,We=!1,Ge=!1;if(a){const _e=mt.value;L=g<=0,L||(ke=g+Q>=B),g>E?(ye="right",g+Q>=B-_e&&(Ge=!0)):(ye="left",g<=_e&&(We=!0)),h.checkScrolling(),s.lastScrollLeft=g}if(l){const _e=ut.value;te=p<=0,te||(U=p+G>=z),p>R?(ye="bottom",p+G>=z-_e&&(Je=!0)):(ye="top",p<=_e&&(De=!0)),s.lastScrollTop=p}i.isDragColMove=!1,i.isDragRowMove=!1,i.lastScrollTime=Date.now();const Xe=Object.assign({scrollTop:p,scrollLeft:g,bodyHeight:G,bodyWidth:Q,scrollHeight:z,scrollWidth:B,isX:a,isY:l,isTop:te,isBottom:U,isLeft:L,isRight:ke,direction:ye},b);kn(),gC(a,l),a&&h.closeFilter(),(P.isHover||C)&&h.clearHoverRow(),N&&N.reactData.visible&&N.close(),$&&$.reactData.visible&&$.close(),(Je||De||Ge||We)&&$t("scroll-boundary",Xe,r),$t("scroll",Xe,r)},triggerScrollXEvent(){zl()},triggerScrollYEvent(){gs()},triggerBodyScrollEvent(r,l){const{scrollYLoad:a,scrollXLoad:p}=i,{elemStore:g,intoRunScroll:b,lastScrollTop:C,lastScrollLeft:E,inWheelScroll:R,inVirtualScroll:M,inHeaderScroll:I,inBodyScroll:P,scrollRenderType:N,inFooterScroll:$}=s;if(R||M||I||$)return;const G=se.value,Q=he.value,z=ot(g["left-body-scroll"]),B=ot(g["main-body-scroll"]),te=ot(g["right-body-scroll"]),U=ot(g["main-header-scroll"]),L=ot(g["main-footer-scroll"]),ke=ne.value;if(b||!B||!G||!Q||P&&N!==l)return;let ye=Q.scrollTop,De=G.scrollLeft;z&&l==="left"?ye=z.scrollTop:te&&l==="right"?ye=te.scrollTop:(ye=B.scrollTop,De=B.scrollLeft);const Je=De!==E,We=ye!==C;s.inBodyScroll=!0,s.scrollRenderType=l,We&&(l==="left"?(Jt(B,ye),Jt(te,ye)):l==="right"?(Jt(B,ye),Jt(z,ye)):(Jt(z,ye),Jt(te,ye)),Jt(Q,ye),Jt(ke,ye),a&&h.triggerScrollYEvent(r)),Je&&(tr(G,De),tr(U,De),tr(L,De),p&&h.triggerScrollXEvent(r)),h.handleScrollEvent(r,We,Je,ye,De,{type:"body",fixed:l})},triggerHeaderScrollEvent(r,l){const{scrollXLoad:a}=i,{elemStore:p,intoRunScroll:g,inWheelScroll:b,inVirtualScroll:C,inBodyScroll:E,inFooterScroll:R}=s;if(b||C||E||R)return;const M=he.value,I=se.value,P=ot(p["main-body-scroll"]),N=ot(p["main-header-scroll"]),$=ot(p["main-footer-scroll"]);if(g||!N||!I||!M)return;const G=M.scrollTop,Q=N.scrollLeft,z=!0,B=!1;s.inHeaderScroll=!0,tr(I,Q),tr($,Q),tr(P,Q),a&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,B,z,G,Q,{type:"header",fixed:l})},triggerFooterScrollEvent(r,l){const{scrollXLoad:a}=i,{elemStore:p,intoRunScroll:g,inWheelScroll:b,inVirtualScroll:C,inHeaderScroll:E,inBodyScroll:R}=s;if(b||C||E||R)return;const M=he.value,I=se.value,P=ot(p["main-body-scroll"]),N=ot(p["main-header-scroll"]),$=ot(p["main-footer-scroll"]);if(g||!$||!I||!M)return;const G=M.scrollTop,Q=$.scrollLeft,z=!0,B=!1;s.inFooterScroll=!0,tr(I,Q),tr(N,Q),tr(P,Q),a&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,B,z,G,Q,{type:"footer",fixed:l})},triggerBodyWheelEvent(r){const{target:l,deltaY:a,deltaX:p,shiftKey:g}=r;if(l&&/^textarea$/i.test(l.tagName))return;const{highlightHoverRow:b}=Ui,{scrollXLoad:C,scrollYLoad:E,expandColumn:R}=i,M=cr.value,I=kt.value;if(!(M||I||R))return;const{elemStore:P,lastScrollTop:N,lastScrollLeft:$}=s,G=re.value,Q=se.value,z=he.value,B=ot(P["left-body-scroll"]),te=ot(P["main-header-scroll"]),U=ot(P["main-body-scroll"]),L=ot(P["main-footer-scroll"]),ke=ot(P["right-body-scroll"]),ye=ne.value;if(!Q||!z||!U)return;const De=vC(i.lastScrollTime),Je=g?0:Math.ceil(a*De),We=g?Math.ceil((g&&a||p)*De):0,Ge=Je<0,Xe=U.scrollTop;if(Ge?Xe<=0:Xe>=U.scrollHeight-U.clientHeight)return;const _e=Xe+Je,nt=U.scrollLeft+We,pt=nt!==$,gt=_e!==N;(G.isHover||b)&&h.clearHoverRow(),pt&&(r.preventDefault(),s.inWheelScroll=!0,mC(nt,Dt=>{s.inWheelScroll=!0;const Rt=Dt;tr(Q,Rt),tr(U,Rt),tr(te,Rt),tr(L,Rt),C&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,gt,pt,U.scrollTop,Rt,{type:"table",fixed:""})})),gt&&(r.preventDefault(),s.inWheelScroll=!0,bC(_e-Xe,Dt=>{s.inWheelScroll=!0;const Rt=U.scrollTop+Dt;Jt(z,Rt),Jt(U,Rt),Jt(B,Rt),Jt(ke,Rt),Jt(ye,Rt),E&&h.triggerScrollYEvent(r),h.handleScrollEvent(r,gt,pt,Rt,U.scrollLeft,{type:"table",fixed:""})}))},triggerVirtualScrollXEvent(r){const{scrollXLoad:l}=i,{elemStore:a,inWheelScroll:p,lastScrollTop:g,inHeaderScroll:b,inBodyScroll:C,inFooterScroll:E}=s;if(b||C||E||p)return;const R=ot(a["main-header-scroll"]),M=ot(a["main-body-scroll"]),I=ot(a["main-footer-scroll"]),P=he.value,N=r.currentTarget,{scrollLeft:$}=N,G=P||M;let Q=0;G&&(Q=G.scrollTop);const z=!0,B=Q!==g;s.inVirtualScroll=!0,tr(M,$),tr(R,$),tr(I,$),l&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,B,z,Q,$,{type:"table",fixed:""})},triggerVirtualScrollYEvent(r){const{scrollYLoad:l}=i,{elemStore:a,inWheelScroll:p,lastScrollLeft:g,inHeaderScroll:b,inBodyScroll:C,inFooterScroll:E}=s;if(b||C||E||p)return;const R=ot(a["left-body-scroll"]),M=ot(a["main-body-scroll"]),I=ot(a["right-body-scroll"]),P=ne.value,N=se.value,$=r.currentTarget,{scrollTop:G}=$,Q=N||M;let z=0;Q&&(z=Q.scrollLeft);const B=z!==g,te=!0;s.inVirtualScroll=!0,Jt(M,G),Jt(R,G),Jt(I,G),Jt(P,G),l&&h.triggerScrollYEvent(r),h.handleScrollEvent(r,te,B,G,z,{type:"table",fixed:""})},scrollToTreeRow(r){const{treeConfig:l}=e,{isRowGroupStatus:a}=i,{tableFullData:p}=s,g=[];if(l||a){const b=Ie.value,C=st.value,E=C.children||C.childrenField,R=f.findTree(p,M=>h.eqRow(M,r),{children:a?b.mapChildrenField:E});if(R){const M=R.nodes;M.forEach((I,P)=>{P<M.length-1&&!h.isTreeExpandByRow(I)&&g.push(h.setTreeExpand(I,!0))})}}return Promise.all(g).then(()=>vm(h,r))},updateScrollYStatus:Vl,updateScrollXSpace(){const{scrollXLoad:r,overflowX:l,scrollXWidth:a}=i,{visibleColumn:p,scrollXStore:g,elemStore:b,fullColumnIdData:C}=s,E=St.value,R=F.value;if(R?R.$el:null){const I=ot(b["main-body-scroll"]),P=ot(b["main-body-table"]),N=ot(b["main-header-table"]),$=ot(b["main-footer-table"]);let G=0;const Q=p[g.startIndex];Q&&(G=(C[Q.id]||{}).oLeft);let z=0;I&&(z=I.clientWidth);let B=!1,te=a;a>hl&&(I&&P&&I.scrollLeft+z>=hl?G=hl-P.clientWidth:G=(hl-z)*(G/(a-z)),te=hl,B=!0);let U="";r&&l&&(U=`${G}px`),N&&(N.style.marginLeft=N.getAttribute("xvm")?U:""),P&&(P.style.marginLeft=U),$&&($.style.marginLeft=$.getAttribute("xvm")?U:""),i.isScrollXBig=B,["main"].forEach(ye=>{["header","body","footer"].forEach(Je=>{const We=ot(b[`${ye}-${Je}-xSpace`]);We&&(We.style.width=r?`${te}px`:"")})});const ke=Re.value;return ke&&(ke.style.width=`${te}px`),B&&E.area&&Ke("vxe.error.notProp",["mouse-config.area"]),yi(),ge().then(()=>{qt()})}},updateScrollYSpace(){const{isAllOverflow:r,scrollYLoad:l,expandColumn:a}=i,{scrollYStore:p,elemStore:g,isResizeCellHeight:b,afterFullData:C,fullAllDataRowIdData:E,rowExpandedMaps:R}=s,{startIndex:M}=p,I=St.value,P=Ct.value,N=re.value,$=et.value,G=Me.value,Q=ot(g["main-body-scroll"]),z=ot(g["main-body-table"]),B=["main","left","right"];let te=0,U=0,L=!1;if(l)if(!(b||$.height||N.height)&&!a&&r)U=C.length*G,U>Nn&&(L=!0),te=Math.max(0,M*G);else{const Xe=C[M];let _e=qe(h,Xe),nt=E[_e]||{};te=nt.oTop||0;const pt=C[C.length-1];_e=qe(h,pt),nt=E[_e]||{},U=(nt.oTop||0)+(nt.resizeHeight||$.height||N.height||nt.height||G),a&&R[_e]&&(U+=nt.expandHeight||P.height||0),U>Nn&&(L=!0)}else z&&(U=z.clientHeight);let ke=0;Q&&(ke=Q.clientHeight);let ye=U,De=te;L&&(Q&&z&&Q.scrollTop+ke>=Nn?De=Nn-z.clientHeight:De=(Nn-ke)*(te/(U-ke)),ye=Nn),B.forEach(Ge=>{const Xe=["header","body","footer"],_e=ot(g[`${Ge}-body-table`]);_e&&(_e.style.marginTop=De?`${De}px`:""),Xe.forEach(nt=>{const pt=ot(g[`${Ge}-${nt}-ySpace`]);pt&&(pt.style.height=ye?`${ye}px`:"")})});const Je=Ye.value;Je&&(Je.style.height=ye?`${ye}px`:"");const We=oe.value;return We&&(We.style.height=ye?`${ye}px`:""),i.scrollYTop=De,i.scrollYHeight=U,i.isScrollYBig=L,L&&I.area&&Ke("vxe.error.notProp",["mouse-config.area"]),yi(),ge().then(()=>{qt()})},updateScrollXData(){const{isAllOverflow:r}=i;return hs(),h.updateScrollXSpace(),ge().then(()=>{hs(),h.updateScrollXSpace(),r||h.updateScrollYSpace()})},updateScrollYData(){return h.handleTableData(),h.updateScrollYSpace(),ge().then(()=>{h.handleTableData(),h.updateScrollYSpace()})},checkScrolling(){const{elemStore:r}=s,l=ot(r["main-body-scroll"]),a=xe.value,p=ue.value,b=se.value||l;b&&(a&&(b.scrollLeft>0?xo(a,"scrolling--middle"):Yr(a,"scrolling--middle")),p&&(b.clientWidth<b.scrollWidth-Math.ceil(b.scrollLeft)?xo(p,"scrolling--middle"):Yr(p,"scrolling--middle")))},updateZindex(){e.zIndex?s.tZindex=e.zIndex:s.tZindex<Dx()&&(s.tZindex=Ox())},handleCheckedCheckboxRow:Hr,triggerHoverEvent(r,{row:l}){O.setHoverRow(l)},setHoverRow(r){const l=qe(h,r),a=S.value;O.clearHoverRow(),a&&f.arrayEach(a.querySelectorAll(`.vxe-body--row[rowid="${l}"]`),p=>xo(p,"row--hover")),s.hoverRow=r},clearHoverRow(){const r=S.value;r&&f.arrayEach(r.querySelectorAll(".vxe-body--row.row--hover"),l=>Yr(l,"row--hover")),s.hoverRow=null},getCell(r,l){return y.getCellElement(r,l)},findRowIndexOf(r,l){return l?f.findIndexOf(r,a=>h.eqRow(a,l)):-1},eqRow(r,l){return r&&l?r===l?!0:qe(h,r)===qe(h,l):!1}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(r=>{h[r]=function(){Ke("vxe.error.reqModule",["VxeTableExportModule"])}}),"clearValidate,fullValidate,validate".split(",").forEach(r=>{h[r]=function(){Ke("vxe.error.reqModule",["VxeTableValidatorModule"])}}),Object.assign(h,y,O);const zf=r=>{const{showHeader:l,showFooter:a}=e,{tableData:p,tableColumn:g,tableGroupColumn:b,columnStore:C,footerTableData:E}=i,R=r==="left",M=R?C.leftList:C.rightList;return w("div",{ref:R?xe:ue,class:`vxe-table--fixed-${r}-wrapper`},[l?w(Rm,{ref:R?j:K,fixedType:r,tableData:p,tableColumn:g,tableGroupColumn:b,fixedColumn:M}):kr(h),w(ym,{ref:R?Z:J,fixedType:r,tableData:p,tableColumn:g,fixedColumn:M}),a?w(Dm,{ref:R?k:Ce,footerTableData:E,tableColumn:g,fixedColumn:M,fixedType:r}):kr(h)])},kC=()=>{const r=fr.value,l={$table:h};if(o.empty)return o.empty(l);{const a=r.name?Tm.get(r.name):null,p=a?a.renderTableEmpty||a.renderTableEmptyView||a.renderEmpty:null;if(p)return Ar(p(r,l))}return Po(e.emptyText)||Fo("vxe.table.emptyText")},AC=()=>{const{dragConfig:r}=e,{dragRow:l,dragCol:a,dragTipText:p}=i,g=it.value,E=(tt.value.slots||{}).tip||(r&&r.slots?r.slots.rowTip:null),M=(g.slots||{}).tip;return l&&E?Wl(E,{row:l}):a&&M?Wl(M,{column:a}):[w("span",p)]},LC=()=>{const{dragRow:r,dragCol:l}=i,a=re.value,p=He.value,g=tt.value,b=it.value;return a.drag||p.drag?w("div",{class:"vxe-table--drag-wrapper"},[w("div",{ref:de,class:["vxe-table--drag-row-line",{"is--guides":g.showGuidesStatus}]}),w("div",{ref:ce,class:["vxe-table--drag-col-line",{"is--guides":b.showGuidesStatus}]}),r&&g.showDragTip||l&&b.showDragTip?w("div",{ref:W,class:"vxe-table--drag-sort-tip"},[w("div",{class:"vxe-table--drag-sort-tip-wrapper"},[w("div",{class:"vxe-table--drag-sort-tip-status"},[w("span",{class:["vxe-table--drag-sort-tip-normal-status",r?Hi().TABLE_DRAG_STATUS_ROW:Hi().TABLE_DRAG_STATUS_COLUMN]}),w("span",{class:["vxe-table--drag-sort-tip-sub-status",Hi().TABLE_DRAG_STATUS_SUB_ROW]}),w("span",{class:["vxe-table--drag-sort-tip-disabled-status",Hi().TABLE_DRAG_DISABLED]})]),w("div",{class:"vxe-table--drag-sort-tip-content"},AC())])]):kr(h)]):kr(h)},HC=()=>{const{treeConfig:r}=e,{expandColumn:l,isRowGroupStatus:a}=i,p=Qo.value,g=Ct.value,{mode:b}=g;if(b!=="fixed")return kr(h);const C=[w("div",{key:"repY",ref:oe})];if(l){const{handleGetRowId:E}=pr(h);p.forEach(R=>{const M=Ct.value,{height:I,padding:P,indent:N}=M,{fullAllDataRowIdData:$,fullColumnIdData:G}=s,Q=st.value,{transform:z,seqMode:B}=Q,te={},U=E(R),L=$[U],ke=l.id,ye=G[ke]||{};let De=0,Je=-1,We=-1,Ge=-1,Xe=-1;L&&(De=L.level,a||r&&z&&B==="increasing"?Je=L._index+1:Je=L.seq,Ge=L.index,Xe=L.$index,We=L._index),I&&(te.height=`${I}px`),(a||r)&&(te.paddingLeft=`${De*(f.isNumber(N)?N:Q.indent)+30}px`);let _e=-1,nt=-1,pt=-1;ye&&(_e=ye.index,nt=ye.$index,pt=ye._index);const gt={$grid:Ve,$table:h,seq:Je,column:l,columnIndex:_e,$columnIndex:nt,_columnIndex:pt,fixed:"",type:"body",level:De,rowid:U,row:R,rowIndex:Ge,$rowIndex:Xe,_rowIndex:We,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};C.push(w("div",{key:U,class:["vxe-body--row-expanded-cell",{"is--padding":P,"is--ellipsis":I}],rowid:U,style:te},l.renderData(gt)))})}return w("div",{ref:ne,class:"vxe-table--row-expanded-wrapper"},C)},Vf=()=>w("div",{key:"vsx",ref:ie,class:"vxe-table--scroll-x-virtual"},[w("div",{ref:Oe,class:"vxe-table--scroll-x-left-corner"}),w("div",{ref:me,class:"vxe-table--scroll-x-wrapper"},[w("div",{ref:se,class:"vxe-table--scroll-x-handle",onScroll:h.triggerVirtualScrollXEvent},[w("div",{ref:Re,class:"vxe-table--scroll-x-space"})])]),w("div",{ref:fe,class:"vxe-table--scroll-x-right-corner"})]),Wf=()=>w("div",{ref:we,class:"vxe-table--scroll-y-virtual"},[w("div",{ref:Te,class:"vxe-table--scroll-y-top-corner"}),w("div",{ref:le,class:"vxe-table--scroll-y-wrapper"},[w("div",{ref:he,class:"vxe-table--scroll-y-handle",onScroll:h.triggerVirtualScrollYEvent},[w("div",{ref:Ye,class:"vxe-table--scroll-y-space"})])]),w("div",{ref:Fe,class:"vxe-table--scroll-y-bottom-corner"})]),Gf=()=>{const{showHeader:r,showFooter:l}=e,{overflowX:a,tableData:p,tableColumn:g,tableGroupColumn:b,footerTableData:C,columnStore:E}=i,{leftList:R,rightList:M}=E;return w("div",{ref:X,class:"vxe-table--viewport-wrapper"},[w("div",{class:"vxe-table--main-wrapper"},[r?w(Rm,{ref:D,tableData:p,tableColumn:g,tableGroupColumn:b}):kr(h),w(ym,{ref:F,tableData:p,tableColumn:g}),l?w(Dm,{ref:H,footerTableData:C,tableColumn:g}):kr(h)]),w("div",{class:"vxe-table--fixed-wrapper"},[R&&R.length&&a?zf("left"):kr(h),M&&M.length&&a?zf("right"):kr(h)]),HC()])},jf=()=>{const r=Ue.value;return w("div",{class:"vxe-table--layout-wrapper"},r?[Wf(),Gf()]:[Gf(),Wf()])},qC=()=>{const{loading:r,stripe:l,showHeader:a,height:p,treeConfig:g,mouseConfig:b,showFooter:C,highlightCell:E,highlightHoverRow:R,highlightHoverColumn:M,editConfig:I,editRules:P}=e,{isGroup:N,overflowX:$,overflowY:G,scrollXLoad:Q,scrollYLoad:z,tableData:B,initStore:te,isRowGroupStatus:U,columnStore:L,filterStore:ke,customStore:ye}=i,{leftList:De,rightList:Je}=L,We=o.loading,Ge=Pt.value,Xe=Gt.value,_e=lt.value,nt=$e.value,pt=st.value,gt=re.value,Dt=He.value,Rt=x.value,Vt=Jn.value,_t=St.value,er=Zt.value,Et=io.value,xr=Qt.value,nr=i.isColLoading||i.isRowLoading||r,Or=dt.value,Er=b&&_t.area,Fr=it.value,Wt=Pe.value,sr=Ue.value;return w("div",{ref:S,class:["vxe-table","vxe-table--render-default",`tid_${u}`,`border--${Vt}`,`sx-pos--${Wt?"top":"bottom"}`,`sy-pos--${sr?"left":"right"}`,{[`size--${Rt}`]:Rt,[`valid-msg--${_e.msgMode}`]:!!P,"vxe-editable":!!I,"old-cell-valid":P&&Ot().cellVaildMode==="obsolete","cell--highlight":E,"cell--selected":b&&_t.selected,"cell--area":Er,"header-cell--area":Er&&er.selectCellByHeader,"body-cell--area":Er&&er.selectCellByBody,"row--highlight":gt.isHover||R,"column--highlight":Dt.isHover||M,"checkbox--range":nt.range,"col--drag-cell":Dt.drag&&Fr.trigger==="cell","is--header":a,"is--footer":C,"is--group":N,"is-row-group":U,"is--tree-line":g&&(pt.showLine||pt.line),"is--fixed-left":De.length,"is--fixed-right":Je.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!g&&l,"is--loading":nr,"is--empty":!nr&&!B.length,"is--scroll-y":G,"is--scroll-x":$,"is--virtual-x":Q,"is--virtual-y":z}],spellcheck:!1,onKeydown:EC},[w("div",{class:"vxe-table-slots"},o.default?o.default({}):[]),w("div",{ref:T,class:"vxe-table-vars"},[w("div",{class:"vxe-table-var-default"}),w("div",{class:"vxe-table-var-medium"}),w("div",{class:"vxe-table-var-small"}),w("div",{class:"vxe-table-var-mini"})]),w("div",{key:"tw",class:"vxe-table--render-wrapper"},Wt?[Vf(),jf()]:[jf(),Vf()]),w("div",{key:"tn",ref:Ee,class:"vxe-table--empty-placeholder"},[w("div",{class:"vxe-table--empty-content"},kC())]),w("div",{key:"tl",class:"vxe-table--border-line"}),w("div",{key:"tcl",ref:pe,class:"vxe-table--resizable-col-bar"},Or.showDragTip?[w("div",{class:"vxe-table--resizable-number-tip"})]:[]),w("div",{key:"trl",ref:Se,class:"vxe-table--resizable-row-bar"},Or.showDragTip?[w("div",{class:"vxe-table--resizable-number-tip"})]:[]),d?w(d,{key:"lg",class:"vxe-table--loading",modelValue:nr,icon:Et.icon,text:Et.text},We?{default:()=>Wl(We,{$table:h,$grid:Ve,loading:nr})}:{}):We?w("div",{class:["vxe-loading--custom-wrapper",{"is--visible":nr}]},Wl(We,{$table:h,$grid:Ve,loading:nr})):kr(h),te.custom?w(hR,{key:"cs",ref:ee,customStore:ye}):kr(h),te.filter?w(pR,{key:"tf",ref:Y,filterStore:ke}):kr(h),te.import&&e.importConfig?w(vR,{key:"it",defaultOptions:i.importParams,storeData:i.importStore}):kr(h),te.export&&(e.exportConfig||e.printConfig)?w(mR,{key:"et",defaultOptions:i.exportParams,storeData:i.exportStore}):kr(h),xr?w(xR,{key:"tm",ref:V}):kr(h),LC(),v?w("div",{},[w(v,{key:"ctp",ref:A,isArrow:!1,enterable:!1}),w(v,{key:"btp",ref:q,theme:Ge.theme,enterable:Ge.enterable,enterDelay:Ge.enterDelay,leaveDelay:Ge.leaveDelay,useHTML:Ge.useHTML}),e.editRules&&_e.showMessage&&(_e.message==="default"?!p:_e.message==="tooltip")?w(v,{key:"vtp",ref:_,class:[{"old-cell-valid":P&&Ot().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:Xe.theme,enterable:Xe.enterable,enterDelay:Xe.enterDelay,leaveDelay:Xe.leaveDelay}):kr(h)]):kr(h)])},Cs=ze(0);Mt(()=>e.data?e.data.length:-1,()=>{Cs.value++}),Mt(()=>e.data,()=>{Cs.value++}),Mt(Cs,()=>{const{initStatus:r}=s,l=e.data||[];l&&l.length>=5e4&&wt("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),ll(l,!1).then(()=>{const{scrollXLoad:a,scrollYLoad:p,expandColumn:g}=i,b=Ct.value;return s.inited=!0,s.initStatus=!0,r||Ri(),(a||p)&&g&&b.mode!=="fixed"&&wt("vxe.error.scrollErrProp",["column.type=expand"]),y.recalculate()})});const ws=ze(0);Mt(()=>i.staticColumns.length,()=>{ws.value++}),Mt(()=>i.staticColumns,()=>{ws.value++}),Mt(ws,()=>{Af(f.clone(i.staticColumns))});const ys=ze(0);Mt(()=>i.tableColumn.length,()=>{ys.value++}),Mt(()=>i.tableColumn,()=>{ys.value++}),Mt(ys,()=>{O.analyColumnWidth()}),Mt(()=>i.upDataFlag,()=>{ge(()=>{y.updateData()})}),Mt(()=>i.reColumnFlag,()=>{ge(()=>{y.refreshColumn()})});const sl=ze(0);Mt(x,()=>{sl.value++}),Mt(()=>e.showHeader,()=>{sl.value++}),Mt(()=>e.showFooter,()=>{sl.value++}),Mt(()=>i.overflowX,()=>{sl.value++}),Mt(()=>i.overflowY,()=>{sl.value++}),Mt(sl,()=>{ge(()=>{y.recalculate(!0).then(()=>y.refreshScroll())})});const al=ze(0);Mt(()=>e.height,()=>{al.value++}),Mt(()=>e.maxHeight,()=>{al.value++}),Mt(Pe,()=>{al.value++}),Mt(Ue,()=>{al.value++}),Mt(()=>ve.getLanguage(),()=>{al.value++}),Mt(al,()=>{ge(()=>y.recalculate(!0))});const Es=ze(0);Mt(()=>e.footerData?e.footerData.length:-1,()=>{Es.value++}),Mt(()=>e.footerData,()=>{Es.value++}),Mt(Es,()=>{y.updateFooter()}),Mt(()=>e.syncResize,r=>{r&&(ms(),ge(()=>{ms(),setTimeout(()=>ms())}))});const Rs=ze(0);Mt(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Rs.value++}),Mt(()=>e.mergeCells,()=>{Rs.value++}),Mt(Rs,()=>{y.clearMergeCells(),ge(()=>{e.mergeCells&&y.setMergeCells(e.mergeCells)})});const Ss=ze(0);Mt(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Ss.value++}),Mt(()=>e.mergeFooterItems,()=>{Ss.value++}),Mt(Ss,()=>{y.clearMergeFooterItems(),ge(()=>{e.mergeFooterItems&&y.setMergeFooterItems(e.mergeFooterItems)})}),Mt(_l,r=>{Ei(r)}),m&&Mt(()=>m?m.reactData.resizeFlag:null,()=>{Bf()}),yR.forEach(r=>{const{setupTable:l}=r;if(l){const a=l(h);a&&f.isObject(a)&&Object.assign(h,a)}}),O.preventEvent(null,"created",{$table:h});let Gl;return PC(()=>{y.recalculate().then(()=>y.refreshScroll()),O.preventEvent(null,"activated",{$table:h})}),BC(()=>{s.isActivated=!1,O.preventEvent(null,"deactivated",{$table:h})}),Gn(()=>{const r=He.value,l=re.value,a=yr.value,p=Ie.value,{groupFields:g}=p;(r.drag||l.drag||a.allowSort)&&Lx(),Ei(g),ge(()=>{const{data:C,exportConfig:E,importConfig:R,treeConfig:M,showOverflow:I,highlightCurrentRow:P,highlightCurrentColumn:N}=e,{scrollXStore:$,scrollYStore:G}=s,Q=Xt.value,z=st.value,B=Tt.value,te=$e.value,U=Ct.value,L=re.value,ke=yr.value,ye=St.value,De=vr.value,Je=ir.value,We=Be.value,Ge=ht.value,Xe=Qe.value;if(e.rowId&&wt("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&wt("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&wt("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||L.keyField)&&(te.reserve||te.checkRowKeys||B.reserve||B.checkRowKey||U.expandRowKeys||z.expandRowKeys)&&wt("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(Q.showStatus||Q.showUpdateStatus||Q.showInsertStatus)&&!e.keepSource&&wt("vxe.error.reqProp",["keep-source"]),M&&(z.showLine||z.line)&&(!(e.rowKey||L.useKey)||!I)&&wt("vxe.error.reqProp",["row-config.useKey | show-overflow"]),M&&!z.transform&&e.stripe&&wt("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&wt("vxe.error.reqProp",["footer-data | footer-method"]),L.height&&wt("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&wt("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&wt("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&wt("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&wt("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&wt("vxe.error.delProp",["resizable","column-config.resizable"]),R&&Je.types&&!Je.importMethod&&!f.includeArrays(f.keys(Je._typeMaps),Je.types)&&wt("vxe.error.errProp",[`export-config.types=${Je.types.join(",")}`,Je.types.filter(_e=>f.includes(f.keys(Je._typeMaps),_e)).join(",")||f.keys(Je._typeMaps).join(",")]),E&&De.types&&!De.exportMethod&&!f.includeArrays(f.keys(De._typeMaps),De.types)&&wt("vxe.error.errProp",[`export-config.types=${De.types.join(",")}`,De.types.filter(_e=>f.includes(f.keys(De._typeMaps),_e)).join(",")||f.keys(De._typeMaps).join(",")]),e.id||(e.customConfig?xt(ke):ke.enabled)&&ke.storage&&Ke("vxe.error.reqProp",["id"]),e.treeConfig&&te.range&&Ke("vxe.error.noTree",["checkbox-config.range"]),L.height&&!e.showOverflow&&wt("vxe.error.notProp",["table.show-overflow"]),!h.triggerCellAreaMousedownEvent&&(e.areaConfig&&wt("vxe.error.notProp",["area-config"]),e.clipConfig&&wt("vxe.error.notProp",["clip-config"]),e.fnrConfig&&wt("vxe.error.notProp",["fnr-config"]),ye.area)){Ke("vxe.error.notProp",["mouse-config.area"]);return}if(M&&L.drag&&!z.transform&&Ke("vxe.error.notSupportProp",["column-config.drag","tree-config.transform=false","tree-config.transform=true"]),e.dragConfig&&wt("vxe.error.delProp",["drag-config","row-drag-config"]),e.treeConfig&&z.children&&wt("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&z.line&&wt("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),ye.area&&ye.selected&&wt("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),ye.area&&e.treeConfig&&!z.transform&&Ke("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&Q.activeMethod&&wt("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&te.isShiftKey&&Ke("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),te.halfField&&wt("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),L.currentMethod&&wt("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),r.currentMethod&&wt("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(L.isCurrent||P)&&e.keyboardConfig&&Xe.isArrow&&!f.isBoolean(We.isFollowSelected)&&wt("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(r.isCurrent||N)&&e.keyboardConfig&&Xe.isArrow&&!f.isBoolean(Ge.isFollowSelected)&&wt("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),e.editConfig&&!h.insert&&Ke("vxe.error.reqModule",["Edit"]),e.editRules&&!h.validate&&Ke("vxe.error.reqModule",["Validator"]),(te.range||e.keyboardConfig||e.mouseConfig)&&!h.handleCellMousedownEvent&&Ke("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!h.exportData&&Ke("vxe.error.reqModule",["Export"]),Object.assign(G,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign($,{startIndex:0,endIndex:0,visibleSize:0}),ll(C||[],!0).then(()=>{C&&C.length&&(s.inited=!0,s.initStatus=!0,Ri()),uC(),qt()}),e.autoResize){const _e=S.value,nt=O.getParentElem();Gl=wR.create(()=>{e.autoResize&&y.recalculate(!0)}),_e&&Gl.observe(_e),nt&&Gl.observe(nt)}});const b=X.value;b&&b.addEventListener("wheel",h.triggerBodyWheelEvent,{passive:!1}),Yt.on(h,"paste",SC),Yt.on(h,"copy",OC),Yt.on(h,"cut",DC),Yt.on(h,"mousedown",CC),Yt.on(h,"blur",wC),Yt.on(h,"mousewheel",yC),Yt.on(h,"keydown",RC),Yt.on(h,"resize",Bf),Yt.on(h,"contextmenu",h.handleGlobalContextmenuEvent),O.preventEvent(null,"mounted",{$table:h})}),$C(()=>{const r=X.value;r&&r.removeEventListener("wheel",h.triggerBodyWheelEvent),s.cvCacheMaps={},s.prevDragRow=null,s.prevDragCol=null,Gl&&Gl.disconnect(),y.closeFilter(),h.closeMenu&&h.closeMenu(),O.preventEvent(null,"beforeUnmount",{$table:h})}),jn(()=>{Yt.off(h,"paste"),Yt.off(h,"copy"),Yt.off(h,"cut"),Yt.off(h,"mousedown"),Yt.off(h,"blur"),Yt.off(h,"mousewheel"),Yt.off(h,"keydown"),Yt.off(h,"resize"),Yt.off(h,"contextmenu"),O.preventEvent(null,"unmounted",{$table:h})}),ge(()=>{e.loading&&!d&&!o.loading&&Ke("vxe.error.reqComp",["vxe-loading"]),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(v||Ke("vxe.error.reqComp",["vxe-tooltip"]))}),yn("$xeColgroup",null),yn("$xeTable",h),h.renderVN=qC,h},render(){return this.renderVN()}}),{getConfig:bo,getIcon:mn,getI18n:pl,renderer:Lm,commands:Hm,createEvent:RR,useFns:SR}=ve,Wn=lo({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>bo().toolbar.buttons},tools:{type:Array,default:()=>bo().toolbar.tools},perfect:{type:Boolean,default:()=>bo().toolbar.perfect},size:{type:String,default:()=>bo().toolbar.size||bo().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:o,emit:n}=t,u=f.uniqueId(),c=ve.getComponent("VxeButton"),{computeSize:d}=SR.useSize(e),v=Co({isRefresh:!1,connectFlag:0,columns:[]}),m={connectTable:null},x=ze(),i={refElem:x},s={xID:u,props:e,context:t,reactData:v,internalData:m,getRefMaps:()=>i};let y={};const O=Lr("$xeGrid",null),S=Ne(()=>Object.assign({},f.clone(bo().toolbar.refresh,!0),e.refresh)),T=Ne(()=>Object.assign({},f.clone(bo().toolbar.import,!0),e.import)),q=Ne(()=>Object.assign({},f.clone(bo().toolbar.export,!0),e.export)),A=Ne(()=>Object.assign({},f.clone(bo().toolbar.print,!0),e.print)),_=Ne(()=>Object.assign({},f.clone(bo().toolbar.zoom,!0),e.zoom)),V=Ne(()=>Object.assign({},f.clone(bo().toolbar.custom,!0),e.custom)),Y=Ne(()=>{const{connectTable:se}=m,Oe=se;if((v.connectFlag||Oe)&&Oe){const{computeCustomOpts:fe}=Oe.getComputeMaps();return fe.value}return{trigger:""}}),ee=Ne(()=>Y.value.trigger),X=()=>{const{connectTable:se}=m;if(se)return!0;Ke("vxe.error.barUnableLink")},D=({$event:se})=>{const{connectTable:Oe}=m,fe=Oe;fe&&(fe.triggerCustomEvent?fe.triggerCustomEvent(se):Ke("vxe.error.reqModule",["VxeTableCustomModule"]))},F=({$event:se})=>{const{connectTable:Oe}=m,fe=Oe;fe?fe.customOpenEvent(se):Ke("vxe.error.reqModule",["VxeTableCustomModule"])},H=({$event:se})=>{const{connectTable:Oe}=m,fe=Oe;if(fe){const{customStore:he}=fe.reactData;he.activeBtn=!1,setTimeout(()=>{!he.activeBtn&&!he.activeWrapper&&fe.customCloseEvent(se)},350)}},j=({$event:se})=>{const{isRefresh:Oe}=v,fe=S.value;if(!Oe){const he=fe.queryMethod||fe.query;if(he){v.isRefresh=!0;try{Promise.resolve(he({})).catch(Te=>Te).then(()=>{v.isRefresh=!1})}catch{v.isRefresh=!1}}else O&&(v.isRefresh=!0,O.triggerToolbarCommitEvent({code:fe.code||"reload"},se).catch(Te=>Te).then(()=>{v.isRefresh=!1}))}},Z=({$event:se})=>{O&&O.triggerZoomEvent(se)},k=(se,Oe)=>{const{connectTable:fe}=m,he=fe,{code:Te}=Oe;if(Te)if(O)O.triggerToolbarBtnEvent(Oe,se);else{const me=Hm.get(Te),le={code:Te,button:Oe,$table:he,$grid:O,$event:se};if(me){const Fe=me.tableCommandMethod||me.commandMethod;Fe?Fe(le):Ke("vxe.error.notCommands",[Te])}s.dispatchEvent("button-click",le,se)}},K=(se,Oe)=>{const{connectTable:fe}=m,he=fe,{code:Te}=Oe;if(Te)if(O)O.triggerToolbarTolEvent(Oe,se);else{const me=Hm.get(Te),le={code:Te,tool:Oe,$table:he,$grid:O,$event:se};if(me){const Fe=me.tableCommandMethod||me.commandMethod;Fe?Fe(le):Ke("vxe.error.notCommands",[Te])}s.dispatchEvent("tool-click",le,se)}},J=()=>{if(X()){const{connectTable:se}=m,Oe=se;Oe&&Oe.openImport()}},Ce=()=>{if(X()){const{connectTable:se}=m,Oe=se;Oe&&Oe.openExport()}},xe=()=>{if(X()){const{connectTable:se}=m,Oe=se;Oe&&Oe.openPrint()}};y={dispatchEvent:(se,Oe,fe)=>{n(se,RR(fe,{$toolbar:s},Oe))},syncUpdate(se){m.connectTable=se.$table,v.columns=se.collectColumn,v.connectFlag++}},Object.assign(s,y);const pe=(se,Oe)=>{const{dropdowns:fe}=se,he=[];return fe?fe.map((Te,me)=>Te.visible===!1?rt():c?w(c,{key:me,disabled:Te.disabled,loading:Te.loading,type:Te.type,mode:Te.mode,icon:Te.icon,circle:Te.circle,round:Te.round,status:Te.status,content:Te.name,title:Te.title,routerLink:Te.routerLink,permissionCode:Te.permissionCode,prefixTooltip:Te.prefixTooltip,suffixTooltip:Te.suffixTooltip,onClick:({$event:le})=>Oe?k(le,Te):K(le,Te)}):rt()):he},Se=()=>{const{buttons:se}=e,{connectTable:Oe}=m,fe=Oe,he=o.buttonPrefix||o["button-prefix"],Te=o.buttonSuffix||o["button-suffix"],me=[];return he&&me.push(...Ar(he({buttons:se||[],$grid:O,$table:fe}))),se&&se.forEach((le,Fe)=>{const{dropdowns:Re,buttonRender:Ye}=le;if(le.visible!==!1){const Ve=Ye?Lm.get(Ye.name):null;if(Ye&&Ve&&Ve.renderToolbarButton){const je=Ve.toolbarButtonClassName,Le={$grid:O,$table:fe,button:le};me.push(w("span",{key:`br${le.code||Fe}`,class:["vxe-button--item",je?f.isFunction(je)?je(Le):je:""]},Ar(Ve.renderToolbarButton(Ye,Le))))}else c&&me.push(w(c,{key:`bd${le.code||Fe}`,disabled:le.disabled,loading:le.loading,type:le.type,mode:le.mode,icon:le.icon,circle:le.circle,round:le.round,status:le.status,content:le.name,title:le.title,routerLink:le.routerLink,permissionCode:le.permissionCode,prefixTooltip:le.prefixTooltip,suffixTooltip:le.suffixTooltip,destroyOnClose:le.destroyOnClose,placement:le.placement,transfer:le.transfer,onClick:({$event:je})=>k(je,le)},Re&&Re.length?{dropdowns:()=>pe(le,!0)}:{}))}}),Te&&me.push(...Ar(Te({buttons:se||[],$grid:O,$table:fe}))),me},Ee=()=>{const{tools:se}=e,{connectTable:Oe}=m,fe=Oe,he=o.toolPrefix||o["tool-prefix"],Te=o.toolSuffix||o["tool-suffix"],me=[];return he&&me.push(...Ar(he({tools:se||[],$grid:O,$table:fe}))),se&&se.forEach((le,Fe)=>{const{dropdowns:Re,toolRender:Ye}=le;if(le.visible!==!1){const Ve=Ye?Ye.name:null,je=Ye?Lm.get(Ve):null;if(Ye&&je&&je.renderToolbarTool){const Le=je.toolbarToolClassName,lt={$grid:O,$table:fe,tool:le};me.push(w("span",{key:Ve,class:["vxe-tool--item",Le?f.isFunction(Le)?Le(lt):Le:""]},Ar(je.renderToolbarTool(Ye,lt))))}else c&&me.push(w(c,{key:Fe,disabled:le.disabled,loading:le.loading,type:le.type,mode:le.mode,icon:le.icon,circle:le.circle,round:le.round,status:le.status,content:le.name,title:le.title,routerLink:le.routerLink,permissionCode:le.permissionCode,prefixTooltip:le.prefixTooltip,suffixTooltip:le.suffixTooltip,destroyOnClose:le.destroyOnClose,placement:le.placement,transfer:le.transfer,onClick:({$event:Le})=>K(Le,le)},Re&&Re.length?{dropdowns:()=>pe(le,!1)}:{}))}}),Te&&me.push(...Ar(Te({tools:se||[],$grid:O,$table:fe}))),me},W=()=>{const se=T.value;return c?w(c,{key:"import",circle:!0,icon:se.icon||mn().TOOLBAR_TOOLS_IMPORT,title:pl("vxe.toolbar.import"),onClick:J}):rt()},de=()=>{const se=q.value;return c?w(c,{key:"export",circle:!0,icon:se.icon||mn().TOOLBAR_TOOLS_EXPORT,title:pl("vxe.toolbar.export"),onClick:Ce}):rt()},ce=()=>{const se=A.value;return c?w(c,{key:"print",circle:!0,icon:se.icon||mn().TOOLBAR_TOOLS_PRINT,title:pl("vxe.toolbar.print"),onClick:xe}):rt()},ne=()=>{const se=S.value;return c?w(c,{key:"refresh",circle:!0,icon:v.isRefresh?se.iconLoading||mn().TOOLBAR_TOOLS_REFRESH_LOADING:se.icon||mn().TOOLBAR_TOOLS_REFRESH,title:pl("vxe.toolbar.refresh"),onClick:j}):rt()},oe=()=>{const se=_.value;return O&&c?w(c,{key:"zoom",circle:!0,icon:O.isMaximized()?se.iconOut||mn().TOOLBAR_TOOLS_MINIMIZE:se.iconIn||mn().TOOLBAR_TOOLS_FULLSCREEN,title:pl(`vxe.toolbar.zoom${O.isMaximized()?"Out":"In"}`),onClick:Z}):rt()},ie=()=>{const se=V.value,Oe=ee.value,fe={};return Oe==="manual"||(Oe==="hover"?(fe.onMouseenter=F,fe.onMouseleave=H):fe.onClick=D),c?w(c,Object.assign({key:"custom",circle:!0,icon:se.icon||mn().TOOLBAR_TOOLS_CUSTOM,title:pl("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},fe)):rt()},we=()=>{const{perfect:se,loading:Oe,refresh:fe,zoom:he,custom:Te,className:me}=e,{connectTable:le}=m,Fe=d.value,Re=o.tools,Ye=o.buttons,Ve=le;return w("div",{ref:x,class:["vxe-toolbar",me?f.isFunction(me)?me({$toolbar:s}):me:"",{[`size--${Fe}`]:Fe,"is--perfect":se,"is--loading":Oe}]},[w("div",{class:"vxe-buttons--wrapper"},Ye?Ye({$grid:O,$table:Ve}):Se()),w("div",{class:"vxe-tools--wrapper"},Re?Re({$grid:O,$table:Ve}):Ee()),w("div",{class:"vxe-tools--operate"},[e.import?W():rt(),e.export?de():rt(),e.print?ce():rt(),fe?ne():rt(),he&&O?oe():rt(),Te?ie():rt()])])};return s.renderVN=we,ge(()=>{const{refresh:se}=e,Oe=S.value,fe=Oe.queryMethod||Oe.query;se&&!O&&!fe&&wt("vxe.error.notFunc",["queryMethod"]);const he=V.value;he.isFooter&&wt("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),he.showFooter&&wt("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),he.immediate&&wt("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),he.trigger&&wt("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(c||Ke("vxe.error.reqComp",["vxe-button"]))}),s},render(){return this.renderVN()}}),{getConfig:Yo,getI18n:gl,commands:OR,hooks:DR,useFns:MR,createEvent:TR,globalEvents:Bd,GLOBAL_EVENT_KEYS:FR,renderEmptyElement:Io}=ve,IR=Object.keys(Ui),qm=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","sort","setSort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect"],kR=[...Sf,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Sl=lo({name:"VxeGrid",props:Object.assign(Object.assign({},Ui),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>Yo().grid.size||Yo().size}}),emits:kR,setup(e,t){var o;const{slots:n,emit:u}=t,c=f.uniqueId(),d=ve.getComponent("VxeForm"),v=ve.getComponent("VxePager"),m=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:x}=MR.useSize(e),i=Co({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((o=Yo().pager)===null||o===void 0?void 0:o.pageSize)||10,currentPage:1}}),s=ze(),y=ze(),O=ze(),S=ze(),T=ze(),q=ze(),A=ze(),_=ze(),V=ze(),Y=ze(),ee=ae=>{const be={};return ae.forEach(re=>{be[re]=(...Ie)=>{const Be=y.value;if(Be&&Be[re])return Be[re](...Ie)}}),be},X=ee(qm);qm.forEach(ae=>{X[ae]=(...be)=>{const re=y.value;if(re&&re[ae])return re&&re[ae](...be)}});const D=Ne(()=>f.merge({},f.clone(Yo().grid.proxyConfig,!0),e.proxyConfig)),F=Ne(()=>{const ae=D.value;return f.isBoolean(ae.message)?ae.message:ae.showResponseMsg}),H=Ne(()=>D.value.showActiveMsg),j=Ne(()=>Object.assign({},Yo().grid.pagerConfig,e.pagerConfig)),Z=Ne(()=>Object.assign({},Yo().grid.formConfig,e.formConfig)),k=Ne(()=>Object.assign({},Yo().grid.toolbarConfig,e.toolbarConfig)),K=Ne(()=>Object.assign({},Yo().grid.zoomConfig,e.zoomConfig)),J=Ne(()=>{const{height:ae,maxHeight:be}=e,{isZMax:re,tZindex:Ie}=i,Be={};return re?Be.zIndex=Ie:(ae&&(Be.height=ae==="auto"||ae==="100%"?"100%":ai(ae)),be&&(Be.maxHeight=be==="auto"||be==="100%"?"100%":ai(be))),Be}),Ce=Ne(()=>{const ae={},be=e;return IR.forEach(re=>{ae[re]=be[re]}),ae}),xe=Ne(()=>{const{seqConfig:ae,pagerConfig:be,loading:re,editConfig:Ie,proxyConfig:Be}=e,{isZMax:tt,tableLoading:it,tablePage:bt}=i,dt=Ce.value,Lt=D.value,Tt=j.value,$e=Object.assign({},dt);return tt&&(dt.maxHeight?$e.maxHeight="100%":$e.height="100%"),Be&&xt(Lt)&&($e.loading=re||it,be&&Lt.seq&&xt(Tt)&&($e.seqConfig=Object.assign({},ae,{startIndex:(bt.currentPage-1)*bt.pageSize}))),Ie&&($e.editConfig=Object.assign({},Ie)),$e}),ue=Ne(()=>{const{layouts:ae}=e;let be=[];ae&&ae.length?be=ae:be=Yo().grid.layouts||m;let re=[],Ie=[],Be=[];return be.length&&(f.isArray(be[0])?(re=be[0],Ie=be[1]||[],Be=be[2]||[]):Ie=be),{headKeys:re,bodyKeys:Ie,footKeys:Be}}),pe=Ne(()=>{const ae=j.value;return`${ae.currentPage}${ae.pageSize}`}),Se={refElem:s,refTable:y,refForm:O,refToolbar:S,refPager:T},Ee={computeProxyOpts:D,computePagerOpts:j,computeFormOpts:Z,computeToolbarOpts:k,computeZoomOpts:K},W={xID:c,props:e,context:t,reactData:i,getRefMaps:()=>Se,getComputeMaps:()=>Ee},de=()=>{const ae=k.value;e.toolbarConfig&&xt(ae)&&ge(()=>{const be=y.value,re=S.value;be&&re&&be.connect(re)})},ce=()=>{const{proxyConfig:ae}=e,{formData:be}=i,re=D.value,Ie=Z.value;return ae&&xt(re)&&re.form?be:Ie.data},ne=()=>{const{tablePage:ae}=i,{pagerConfig:be}=e,re=j.value,{currentPage:Ie,pageSize:Be}=re;be&&xt(re)&&(Ie&&(ae.currentPage=Ie),Be&&(ae.pageSize=Be))},oe=ae=>{const be=H.value,re=y.value,Ie=re.getCheckboxRecords();Ie.length?(re.togglePendingRow(Ie),X.clearCheckboxRow()):be&&ve.modal&&ve.modal.message({id:ae,content:gl("vxe.grid.selectOneRecord"),status:"warning"})},ie=(ae,be)=>{const re=D.value,Be=(re.response||re.props||{}).message;let tt;return ae&&Be&&(tt=f.isFunction(Be)?Be({data:ae,$grid:W}):f.get(ae,Be)),tt||gl(be)},we=(ae,be,re)=>{const Ie=H.value,Be=X.getCheckboxRecords();if(Ie)if(Be.length){if(ve.modal)return ve.modal.confirm({id:`cfm_${ae}`,content:gl(be),escClosable:!0}).then(tt=>{if(tt==="confirm")return re()})}else ve.modal&&ve.modal.message({id:`msg_${ae}`,content:gl("vxe.grid.selectOneRecord"),status:"warning"});else Be.length&&re();return Promise.resolve()},se=ae=>{const{proxyConfig:be}=e,{tablePage:re}=i,{$event:Ie,currentPage:Be,pageSize:tt}=ae,it=D.value;re.currentPage=Be,re.pageSize=tt,W.dispatchEvent("page-change",ae,Ie),be&&xt(it)&&W.commitProxy("query").then(bt=>{W.dispatchEvent("proxy-query",bt,Ie)})},Oe=ae=>{const be=y.value,{proxyConfig:re}=e,{computeSortOpts:Ie}=be.getComputeMaps(),Be=D.value;Ie.value.remote&&(i.sortData=ae.sortList,re&&xt(Be)&&(i.tablePage.currentPage=1,Me.commitProxy("query").then(it=>{Me.dispatchEvent("proxy-query",it,ae.$event)}))),Me.dispatchEvent("sort-change",ae,ae.$event)},fe=ae=>{const be=y.value,{proxyConfig:re}=e,{computeFilterOpts:Ie}=be.getComputeMaps(),Be=D.value;Ie.value.remote&&(i.filterData=ae.filterList,re&&xt(Be)&&(i.tablePage.currentPage=1,Me.commitProxy("query").then(it=>{Me.dispatchEvent("proxy-query",it,ae.$event)}))),Me.dispatchEvent("filter-change",ae,ae.$event)},he=ae=>{const{proxyConfig:be}=e,re=D.value;i.tableLoading||(be&&xt(re)&&Me.commitProxy("reload").then(Ie=>{Me.dispatchEvent("proxy-query",Object.assign(Object.assign({},Ie),{isReload:!0}),ae.$event)}),Me.dispatchEvent("form-submit",ae,ae.$event))},Te=ae=>{const{proxyConfig:be}=e,{$event:re}=ae,Ie=D.value,Be=y.value;be&&xt(Ie)&&(Be.clearScroll(),Me.commitProxy("reload").then(tt=>{Me.dispatchEvent("proxy-query",Object.assign(Object.assign({},tt),{isReload:!0}),re)})),Me.dispatchEvent("form-reset",ae,re)},me=ae=>{Me.dispatchEvent("form-submit-invalid",ae,ae.$event)},le=ae=>{const{$event:be}=ae;Me.dispatchEvent("form-toggle-collapse",ae,be),Me.dispatchEvent("form-collapse",ae,be)},Fe=ae=>{const{isZMax:be}=i;return(ae?!be:be)&&(i.isZMax=!be,i.tZindex<Dx()&&(i.tZindex=Ox())),ge().then(()=>X.recalculate(!0)).then(()=>(setTimeout(()=>X.recalculate(!0),15),i.isZMax))},Re=(ae,be)=>{const re=ae[be];if(re)if(f.isString(re)){if(n[re])return n[re];Ke("vxe.error.notSlot",[re])}else return re;return null},Ye=ae=>{const be={};return f.objectMap(ae,(re,Ie)=>{re&&(f.isString(re)?n[re]?be[Ie]=n[re]:Ke("vxe.error.notSlot",[re]):be[Ie]=re)}),be},Ve=()=>{const{formConfig:ae,proxyConfig:be}=e,{formData:re}=i,Ie=D.value,Be=Z.value;if(ae&&xt(Be)||n.form){let tt=[];if(n.form)tt=n.form({$grid:W});else if(Be.items){const it={};if(!Be.inited){Be.inited=!0;const bt=Ie.beforeItem;Ie&&bt&&Be.items.forEach(dt=>{bt({$grid:W,item:dt})})}Be.items.forEach(bt=>{f.each(bt.slots,dt=>{f.isFunction(dt)||n[dt]&&(it[dt]=n[dt])})}),d&&tt.push(w(d,Object.assign(Object.assign({ref:O},Object.assign({},Be,{data:be&&xt(Ie)&&Ie.form?re:Be.data})),{onSubmit:he,onReset:Te,onSubmitInvalid:me,onCollapse:le}),it))}return w("div",{ref:q,key:"form",class:"vxe-grid--form-wrapper"},tt)}return Io(W)},je=()=>{const{toolbarConfig:ae}=e,be=k.value;if(ae&&xt(be)||n.toolbar){let re=[];if(n.toolbar)re=n.toolbar({$grid:W});else{const Ie=be.slots;let Be,tt;const it={};Ie&&(Be=Re(Ie,"buttons"),tt=Re(Ie,"tools"),Be&&(it.buttons=Be),tt&&(it.tools=tt)),re.push(w(Wn,Object.assign(Object.assign({ref:S},be),{slots:void 0}),it))}return w("div",{ref:A,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},re)}return Io(W)},Le=()=>n.top?w("div",{ref:_,key:"top",class:"vxe-grid--top-wrapper"},n.top({$grid:W})):Io(W),lt=()=>{const ae=n.left;return ae?w("div",{class:"vxe-grid--left-wrapper"},ae({$grid:W})):Io(W)},yt=()=>{const ae=n.right;return ae?w("div",{class:"vxe-grid--right-wrapper"},ae({$grid:W})):Io(W)},mt=()=>{const{proxyConfig:ae}=e,be=xe.value,re=D.value,Ie=Object.assign({},Pe),Be=n.empty,tt=n.loading,it=n.rowDragIcon||n["row-drag-icon"],bt=n.columnDragIcon||n["column-drag-icon"];ae&&xt(re)&&(re.sort&&(Ie.onSortChange=Oe),re.filter&&(Ie.onFilterChange=fe));const dt={};return Be&&(dt.empty=Be),tt&&(dt.loading=tt),it&&(dt.rowDragIcon=it),bt&&(dt.columnDragIcon=bt),w("div",{class:"vxe-grid--table-wrapper"},[w(Vn,Object.assign(Object.assign({ref:y},be),Ie),dt)])},ct=()=>n.bottom?w("div",{ref:V,key:"bottom",class:"vxe-grid--bottom-wrapper"},n.bottom({$grid:W})):Io(W),at=()=>{const{proxyConfig:ae,pagerConfig:be}=e,re=D.value,Ie=j.value,Be=n.pager;return be&&xt(Ie)||n.pager?w("div",{ref:Y,key:"pager",class:"vxe-grid--pager-wrapper"},Be?Be({$grid:W}):[v?w(v,Object.assign(Object.assign(Object.assign({ref:T},Ie),ae&&xt(re)?i.tablePage:{}),{onPageChange:se}),Ye(Ie.slots)):Io(W)]):Io(W)},vt=ae=>{const be=[];return ae.forEach(re=>{switch(re){case"Form":be.push(Ve());break;case"Toolbar":be.push(je());break;case"Top":be.push(Le());break;case"Table":be.push(w("div",{key:"table",class:"vxe-grid--table-container"},[lt(),mt(),yt()]));break;case"Bottom":be.push(ct());break;case"Pager":be.push(at());break;default:Ke("vxe.error.notProp",[`layouts -> ${re}`]);break}}),be},Ze=()=>{const ae=ue.value,{headKeys:be,bodyKeys:re,footKeys:Ie}=ae,Be=n.asideLeft||n["aside-left"],tt=n.asideRight||n["aside-right"];return[w("div",{class:"vxe-grid--layout-header-wrapper"},vt(be)),w("div",{class:"vxe-grid--layout-body-wrapper"},[Be?w("div",{class:"vxe-grid--layout-aside-left-wrapper"},Be({})):Io(W),w("div",{class:"vxe-grid--layout-body-content-wrapper"},vt(re)),tt?w("div",{class:"vxe-grid--layout-aside-right-wrapper"},tt({})):Io(W)]),w("div",{class:"vxe-grid--layout-footer-wrapper"},vt(Ie))]},Pe={};Sf.forEach(ae=>{const be=f.camelCase(`on-${ae}`);Pe[be]=(...re)=>u(ae,...re)});const Ue=()=>{const{proxyConfig:ae,formConfig:be}=e,{proxyInited:re}=i,Ie=D.value,Be=Z.value;if(ae&&xt(Ie)){if(be&&xt(Be)&&Ie.form&&Be.items){const tt={};Be.items.forEach(it=>{const{field:bt,itemRender:dt}=it;if(bt){let Lt=null;if(dt){const{defaultValue:Tt}=dt;f.isFunction(Tt)?Lt=Tt({item:it}):f.isUndefined(Tt)||(Lt=Tt)}tt[bt]=Lt}}),i.formData=tt}re||(i.proxyInited=!0,Ie.autoLoad!==!1&&ge().then(()=>Me.commitProxy("_init")).then(tt=>{Me.dispatchEvent("proxy-query",Object.assign(Object.assign({},tt),{isInited:!0}),new Event("init"))}))}},ut=ae=>{const be=K.value;Bd.hasKey(ae,FR.ESCAPE)&&i.isZMax&&be.escRestore!==!1&&He.triggerZoomEvent(ae)},Me={dispatchEvent:(ae,be,re)=>{u(ae,TR(re,{$grid:W},be))},getEl(){return s.value},commitProxy(ae,...be){const{toolbarConfig:re,pagerConfig:Ie,editRules:Be,validConfig:tt}=e,{tablePage:it}=i,bt=H.value,dt=F.value,Lt=D.value,Tt=j.value,$e=k.value,{beforeQuery:Bt,afterQuery:Pt,beforeDelete:Gt,afterDelete:Xt,beforeSave:jt,afterSave:ar,ajax:St={}}=Lt,Zt=Lt.response||Lt.props||{},Qe=y.value,Ht=ce();let dr=null,Ft=null;if(f.isString(ae)){const{buttons:kt}=$e,lr=re&&xt($e)&&kt?f.findTree(kt,gr=>gr.code===ae,{children:"dropdowns"}):null;dr=lr?lr.item:null,Ft=ae}else dr=ae,Ft=dr.code;const cr=dr?dr.params:null;switch(Ft){case"insert":return Qe.insert({});case"insert_edit":return Qe.insert({}).then(({row:kt})=>Qe.setEditRow(kt));case"insert_actived":return Qe.insert({}).then(({row:kt})=>Qe.setEditRow(kt));case"mark_cancel":oe(Ft);break;case"remove":return we(Ft,"vxe.grid.removeSelectRecord",()=>Qe.removeCheckboxRow());case"import":Qe.importData(cr);break;case"open_import":Qe.openImport(cr);break;case"export":Qe.exportData(cr);break;case"open_export":Qe.openExport(cr);break;case"reset_custom":return Qe.resetCustom(!0);case"_init":case"reload":case"query":{const kt=St.query,lr=St.querySuccess,gr=St.queryError;if(kt){const zt=Ft==="_init",Qt=Ft==="reload";if(!zt&&i.tableLoading)return ge();let Rr=[],vr=[],ir={};if(Ie&&((zt||Qt)&&(it.currentPage=1),xt(Tt)&&(ir=Object.assign({},it))),zt){let Ct=null;if(Qe){const{computeSortOpts:st}=Qe.getComputeMaps();Ct=st.value.defaultSort}Ct&&(f.isArray(Ct)||(Ct=[Ct]),Rr=Ct.map(st=>({field:st.field,property:st.field,order:st.order}))),Qe&&(vr=Qe.getCheckedFilters())}else Qe&&(Qt?Qe.clearAll():(Rr=Qe.getSortColumns(),vr=Qe.getCheckedFilters()));const wr={code:Ft,button:dr,isInited:zt,isReload:Qt,$grid:W,page:ir,sort:Rr.length?Rr[0]:{},sorts:Rr,filters:vr,form:Ht,options:kt};return i.sortData=Rr,i.filterData=vr,i.tableLoading=!0,Promise.resolve((Bt||kt)(wr,...be)).then(Ct=>{let st=[];if(i.tableLoading=!1,Ct)if(Ie&&xt(Tt)){const fr=Zt.total,io=(f.isFunction(fr)?fr({data:Ct,$grid:W}):f.get(Ct,fr||"page.total"))||0;it.total=f.toNumber(io);const so=Zt.result;st=(f.isFunction(so)?so({data:Ct,$grid:W}):f.get(Ct,so||"result"))||[];const yr=Math.max(Math.ceil(io/it.pageSize),1);it.currentPage>yr&&(it.currentPage=yr)}else{const fr=Zt.list;st=(fr?f.isFunction(fr)?fr({data:Ct,$grid:W}):f.get(Ct,fr):Ct)||[]}return Qe?Qe.loadData(st):ge(()=>{Qe&&Qe.loadData(st)}),Pt&&Pt(wr,...be),lr&&lr(Object.assign(Object.assign({},wr),{response:Ct})),{status:!0}}).catch(Ct=>(i.tableLoading=!1,gr&&gr(Object.assign(Object.assign({},wr),{response:Ct})),{status:!1}))}else Ke("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const kt=St.delete,lr=St.deleteSuccess,gr=St.deleteError;if(kt){const zt=X.getCheckboxRecords(),Qt=zt.filter(ir=>!Qe.isInsertByRow(ir)),vr={$grid:W,code:Ft,button:dr,body:{removeRecords:Qt},form:Ht,options:kt};if(zt.length)return we(Ft,"vxe.grid.deleteSelectRecord",()=>Qt.length?(i.tableLoading=!0,Promise.resolve((Gt||kt)(vr,...be)).then(ir=>(i.tableLoading=!1,Qe.setPendingRow(Qt,!1),dt&&ve.modal&&ve.modal.message({content:ie(ir,"vxe.grid.delSuccess"),status:"success"}),Xt?Xt(vr,...be):Me.commitProxy("query"),lr&&lr(Object.assign(Object.assign({},vr),{response:ir})),{status:!0})).catch(ir=>(i.tableLoading=!1,dt&&ve.modal&&ve.modal.message({id:Ft,content:ie(ir,"vxe.grid.operError"),status:"error"}),gr&&gr(Object.assign(Object.assign({},vr),{response:ir})),{status:!1}))):Qe.remove(zt));bt&&ve.modal&&ve.modal.message({id:Ft,content:gl("vxe.grid.selectOneRecord"),status:"warning"})}else Ke("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const kt=St.save,lr=St.saveSuccess,gr=St.saveError;if(kt){const zt=Qe.getRecordset(),{insertRecords:Qt,removeRecords:Rr,updateRecords:vr,pendingRecords:ir}=zt,wr={$grid:W,code:Ft,button:dr,body:zt,form:Ht,options:kt};Qt.length&&(zt.pendingRecords=ir.filter(st=>Qe.findRowIndexOf(Qt,st)===-1)),ir.length&&(zt.insertRecords=Qt.filter(st=>Qe.findRowIndexOf(ir,st)===-1));let Ct=Promise.resolve();return Be&&(Ct=Qe[tt&&tt.msgMode==="full"?"fullValidate":"validate"](zt.insertRecords.concat(vr))),Ct.then(st=>{if(!st){if(zt.insertRecords.length||Rr.length||vr.length||zt.pendingRecords.length)return i.tableLoading=!0,Promise.resolve((jt||kt)(wr,...be)).then(fr=>(i.tableLoading=!1,Qe.clearPendingRow(),dt&&ve.modal&&ve.modal.message({content:ie(fr,"vxe.grid.saveSuccess"),status:"success"}),ar?ar(wr,...be):Me.commitProxy("query"),lr&&lr(Object.assign(Object.assign({},wr),{response:fr})),{status:!0})).catch(fr=>(i.tableLoading=!1,dt&&ve.modal&&ve.modal.message({id:Ft,content:ie(fr,"vxe.grid.operError"),status:"error"}),gr&&gr(Object.assign(Object.assign({},wr),{response:fr})),{status:!1}));bt&&ve.modal&&ve.modal.message({id:Ft,content:gl("vxe.grid.dataUnchanged"),status:"info"})}})}else Ke("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const kt=OR.get(Ft);if(kt){const lr=kt.tableCommandMethod||kt.commandMethod;lr?lr({code:Ft,button:dr,$grid:W,$table:Qe},...be):Ke("vxe.error.notCommands",[Ft])}}}return ge()},zoom(){return i.isZMax?Me.revert():Me.maximize()},isMaximized(){return i.isZMax},maximize(){return Fe(!0)},revert(){return Fe()},getFormData:ce,getFormItems(ae){const be=Z.value,{formConfig:re}=e,{items:Ie}=be,Be=[];return f.eachTree(re&&xt(be)&&Ie?Ie:[],tt=>{Be.push(tt)},{children:"children"}),f.isUndefined(ae)?Be:Be[ae]},getProxyInfo(){const ae=y.value;if(e.proxyConfig){const{sortData:be}=i;return{data:ae?ae.getFullData():[],filter:i.filterData,form:ce(),sort:be.length?be[0]:{},sorts:be,pager:i.tablePage,pendingRecords:ae?ae.getPendingRecords():[]}}return null}},He={extendTableMethods:ee,callSlot(ae,be){return ae&&(f.isString(ae)&&(ae=n[ae]||null),f.isFunction(ae))?Ar(ae(be)):[]},getExcludeHeight(){const{isZMax:ae}=i,be=s.value;if(be){const re=q.value,Ie=A.value,Be=_.value,tt=V.value,it=Y.value,bt=be.parentElement;return(ae?0:bt?Qd(bt):0)+Qd(be)+Zl(re)+Zl(Ie)+Zl(Be)+Zl(tt)+Zl(it)}return 0},getParentHeight(){const ae=s.value;if(ae){const be=ae.parentElement;return(i.isZMax?as().visibleHeight:be?f.toNumber(getComputedStyle(be).height):0)-He.getExcludeHeight()}return 0},triggerToolbarCommitEvent(ae,be){const{code:re}=ae;return Me.commitProxy(ae,be).then(Ie=>{re&&Ie&&Ie.status&&["query","reload","delete","save"].includes(re)&&Me.dispatchEvent(re==="delete"||re==="save"?`proxy-${re}`:"proxy-query",Object.assign(Object.assign({},Ie),{isReload:re==="reload"}),be)})},triggerToolbarBtnEvent(ae,be){He.triggerToolbarCommitEvent(ae,be),Me.dispatchEvent("toolbar-button-click",{code:ae.code,button:ae},be)},triggerToolbarTolEvent(ae,be){He.triggerToolbarCommitEvent(ae,be),Me.dispatchEvent("toolbar-tool-click",{code:ae.code,tool:ae},be)},triggerZoomEvent(ae){Me.zoom(),Me.dispatchEvent("zoom",{type:i.isZMax?"max":"revert"},ae)}};Object.assign(W,X,Me,He);const ht=ze(0);Mt(()=>e.columns?e.columns.length:-1,()=>{ht.value++}),Mt(()=>e.columns,()=>{ht.value++}),Mt(ht,()=>{ge(()=>W.loadColumn(e.columns||[]))}),Mt(()=>e.toolbarConfig,()=>{de()}),Mt(pe,()=>{ne()}),Mt(()=>e.proxyConfig,()=>{Ue()}),DR.forEach(ae=>{const{setupGrid:be}=ae;if(be){const re=be(W);re&&f.isObject(re)&&Object.assign(W,re)}}),ne(),Gn(()=>{ge(()=>{const{columns:ae}=e;e.formConfig&&(d||Ke("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(v||Ke("vxe.error.reqComp",["vxe-pager"])),ae&&ae.length&&W.loadColumn(ae),de(),Ue()}),Bd.on(W,"keydown",ut)}),jn(()=>{Bd.off(W,"keydown")});const et=()=>{const ae=x.value,be=J.value;return w("div",{ref:s,class:["vxe-grid",{[`size--${ae}`]:ae,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":i.isZMax,"is--loading":e.loading||i.tableLoading}],style:be},Ze())};return W.renderVN=et,yn("$xeGrid",W),W},render(){return this.renderVN()}}),Of=Object.assign({},Sl,{install(e){e.component(Sl.name,Sl)}});ve.dynamicApp&&ve.dynamicApp.component(Sl.name,Sl);ve.component(Sl);const AR=Of;function LR(e){const t=Ne(()=>{const{renderParams:c}=e;return c.column}),o=Ne(()=>{const{renderParams:c}=e;return c.row}),n=Ne(()=>{const{renderOpts:c}=e;return c.props||{}}),u=Ne({get(){const{renderParams:c}=e,{row:d,column:v}=c;return f.get(d,v.field)},set(c){const{renderParams:d}=e,{row:v,column:m}=d;return f.set(v,m.field,c)}});return{currColumn:t,currRow:o,cellModel:u,cellOptions:n}}const{renderer:_m,hooks:HR}=ve,qR=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"];HR.add("tableFilterModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:u,refTableFilter:c}=e.getRefMaps(),{computeFilterOpts:d,computeMouseOpts:v}=e.getComputeMaps(),m=S=>{const{filterStore:T}=o;T.options.forEach(q=>{q.checked=q._checked}),e.confirmFilterEvent(S)},x=(S,T,q)=>{const{filterStore:A}=o;A.options.forEach(_=>{_._checked=!1}),q._checked=T,e.checkFilterOptions(),m(S)},i=(S,T,q)=>{q._checked=T,e.checkFilterOptions()},s=S=>{const{filterStore:T}=o;e.handleClearFilter(T.column),e.confirmFilterEvent(S)},y={checkFilterOptions(){const{filterStore:S}=o;S.isAllSelected=S.options.every(T=>T._checked),S.isIndeterminate=!S.isAllSelected&&S.options.some(T=>T._checked)},triggerFilterEvent(S,T,q){const{initStore:A,filterStore:_}=o,{elemStore:V}=n;if(_.column===T&&_.visible)_.visible=!1;else{const Y=u.value,{scrollTop:ee,scrollLeft:X,visibleHeight:D,visibleWidth:F}=as(),H=d.value,{transfer:j}=H,Z=Y.getBoundingClientRect(),k=S.currentTarget,{filters:K,filterMultiple:J,filterRender:Ce}=T,xe=xt(Ce)?_m.get(Ce.name):null,ue=T.filterRecoverMethod||(xe?xe.tableFilterRecoverMethod||xe.filterRecoverMethod:null);n._currFilterParams=q,Object.assign(_,{multiple:J,options:K,column:T,style:null}),_.options.forEach(pe=>{const{_checked:Se,checked:Ee}=pe;pe._checked=Ee,!Ee&&Se!==Ee&&ue&&ue({option:pe,column:T,$table:e})}),this.checkFilterOptions(),_.visible=!0,A.filter=!0,ge(()=>{if(!ot(V["main-header-scroll"]))return;const Se=c.value,Ee=Se?Se.getRefMaps().refElem.value:null;if(!Ee)return;const W=k.getBoundingClientRect(),de=Ee.querySelector(".vxe-table--filter-header"),ce=Ee.querySelector(".vxe-table--filter-footer"),ne=Ee.offsetWidth,oe=ne/2;let ie=0,we=0,se=0;j?(ie=W.left-oe+X,we=W.top+k.clientHeight+ee,se=Math.min(Math.max(Z.height,Math.floor(D/2)),Math.max(80,D-we-(de?de.clientHeight:0)-(ce?ce.clientHeight:0)-28)),ie<16?ie=16:ie>F-ne-16&&(ie=F-ne-16)):(ie=W.left-Z.left-oe,we=W.top-Z.top+k.clientHeight,se=Math.max(40,Y.clientHeight-we-(de?de.clientHeight:0)-(ce?ce.clientHeight:0)-14),ie<1?ie=1:ie>Y.clientWidth-ne-1&&(ie=Y.clientWidth-ne-1)),_.style={top:ai(we),left:ai(ie)},_.maxHeight=se})}e.dispatchEvent("filter-visible",{column:T,field:T.field,property:T.field,filterList:e.getCheckedFilters(),visible:_.visible},S)},handleClearFilter(S){if(S){const{filters:T,filterRender:q}=S;if(T){const A=xt(q)?_m.get(q.name):null,_=S.filterResetMethod||(A?A.tableFilterResetMethod||A.filterResetMethod:null);T.forEach(V=>{V._checked=!1,V.checked=!1,_||(V.data=f.clone(V.resetValue,!0))}),_&&_({options:T,column:S,$table:e})}}},handleColumnConfirmFilter(S,T){const{mouseConfig:q}=t,{scrollXLoad:A,scrollYLoad:_}=o,V=d.value,Y=v.value,{field:ee}=S,X=[],D=[];S.filters.forEach(j=>{j.checked&&(X.push(j.value),D.push(j.data))});const F=e.getCheckedFilters(),H={$table:e,$event:T,column:S,field:ee,property:ee,values:X,datas:D,filters:F,filterList:F};return V.remote||(e.handleTableData(!0),e.checkSelectionStatus()),q&&Y.area&&e.handleFilterEvent&&e.handleFilterEvent(T,H),T&&e.dispatchEvent("filter-change",H,T),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:j,scrollYLoad:Z}=o;if(A||j||_||Z)return(A||j)&&e.updateScrollXSpace(),(_||Z)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(S){const{filterStore:T}=o,{column:q}=T;e.handleColumnConfirmFilter(q,S)},handleFilterChangeRadioOption:x,handleFilterChangeMultipleOption:i,handleFilterChangeOption(S,T,q){const{filterStore:A}=o;A.multiple?i(S,T,q):x(S,T,q)},handleFilterConfirmFilter:m,handleFilterResetFilter:s};return Object.assign(Object.assign({},{openFilter(S){const T=hr(e,S);if(T&&T.filters){const{elemStore:q}=n,{fixed:A}=T;return e.scrollToColumn(T).then(()=>{const _=ot(q[`${A||"main"}-header-wrapper`]||q["main-header-wrapper"]);if(_){const V=_.querySelector(`.vxe-header--column.${T.id} .vxe-cell--filter`);GE(V,"click")}})}return ge()},setFilter(S,T,q){const A=hr(e,S);return A&&A.filters&&(A.filters=Bx(T||[]),q)?e.handleColumnConfirmFilter(A,new Event("click")):ge()},clearFilter(S){const{filterStore:T}=o,{tableFullColumn:q}=n,A=d.value;let _;return S?(_=hr(e,S),_&&y.handleClearFilter(_)):q.forEach(y.handleClearFilter),(!S||_!==T.column)&&Object.assign(T,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),A.remote?ge():e.updateData()},saveFilterPanel(){return m(null),ge()},resetFilterPanel(){return s(null),ge()},getCheckedFilters(){const{tableFullColumn:S}=n,T=[];return S.forEach(q=>{const{field:A,filters:_}=q,V=[],Y=[];_&&_.length&&(_.forEach(ee=>{ee.checked&&(V.push(ee.value),Y.push(ee.data))}),V.length&&T.push({column:q,field:A,property:A,values:V,datas:Y}))}),T},updateFilterOptionStatus(S,T){return S._checked=T,S.checked=T,ge()}}),y)},setupGrid(e){return e.extendTableMethods(qR)}});const{menus:_R,hooks:NR,globalEvents:qi,GLOBAL_EVENT_KEYS:_i}=ve,PR=["closeMenu"];NR.add("tableMenuModule",{setupTable(e){const{xID:t,props:o,reactData:n,internalData:u}=e,{refElem:c,refTableFilter:d,refTableMenu:v}=e.getRefMaps(),{computeMouseOpts:m,computeIsMenu:x,computeMenuOpts:i}=e.getComputeMaps();let s={},y={};const O=(S,T,q)=>{const{ctxMenuStore:A}=n,_=x.value,V=i.value,Y=V[T],ee=V.visibleMethod;if(Y){const{options:X,disabled:D}=Y;D?S.preventDefault():_&&X&&X.length&&(q.options=X,e.preventEvent(S,"event.showMenu",q,()=>{if(!ee||ee(q)){S.preventDefault(),e.updateZindex();const{scrollTop:F,scrollLeft:H,visibleHeight:j,visibleWidth:Z}=as();let k=S.clientY+F,K=S.clientX+H;const J=()=>{u._currMenuParams=q,Object.assign(A,{visible:!0,list:X,selected:null,selectChild:null,showChild:!1,style:{zIndex:u.tZindex,top:`${k}px`,left:`${K}px`}}),ge(()=>{const Se=v.value.getRefMaps().refElem.value,Ee=Se.clientHeight,W=Se.clientWidth,{boundingTop:de,boundingLeft:ce}=Wi(Se),ne=de+Ee-j,oe=ce+W-Z;ne>-10&&(A.style.top=`${Math.max(F+2,k-Ee-2)}px`),oe>-10&&(A.style.left=`${Math.max(H+2,K-W-2)}px`)})},{keyboard:Ce,row:xe,column:ue}=q;Ce&&xe&&ue?e.scrollToRow(xe,ue).then(()=>{const pe=e.getCellElement(xe,ue);if(pe){const{boundingTop:Se,boundingLeft:Ee}=Wi(pe);k=Se+F+Math.floor(pe.offsetHeight/2),K=Ee+H+Math.floor(pe.offsetWidth/2)}J()}):J()}else s.closeMenu()}))}e.closeFilter()};return s={closeMenu(){return Object.assign(n.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),ge()}},y={moveCtxMenu(S,T,q,A,_,V){let Y;const ee=f.findIndexOf(V,X=>T[q]===X);if(A)_&&yl(T.selected)?T.showChild=!0:(T.showChild=!1,T.selectChild=null);else if(qi.hasKey(S,_i.ARROW_UP)){for(let X=ee-1;X>=0;X--)if(V[X].visible!==!1){Y=V[X];break}T[q]=Y||V[V.length-1]}else if(qi.hasKey(S,_i.ARROW_DOWN)){for(let X=ee+1;X<V.length;X++)if(V[X].visible!==!1){Y=V[X];break}T[q]=Y||V[0]}else T[q]&&(qi.hasKey(S,_i.ENTER)||qi.hasKey(S,_i.SPACEBAR))&&e.ctxMenuLinkEvent(S,T[q])},handleOpenMenuEvent:O,handleGlobalContextmenuEvent(S){const{mouseConfig:T,menuConfig:q}=o,{editStore:A,ctxMenuStore:_}=n,{visibleColumn:V}=u,Y=d.value,ee=v.value,X=m.value,D=i.value,F=c.value,{selected:H}=A,j=["header","body","footer"];if(xt(q)){if(_.visible&&ee&&Nt(S,ee.getRefMaps().refElem.value).flag){S.preventDefault();return}if(u._keyCtx){const Z="body",k={type:Z,$table:e,keyboard:!0,columns:V.slice(0),$event:S};if(T&&X.area){const K=e.getActiveCellArea();if(K&&K.row&&K.column){k.row=K.row,k.column=K.column,O(S,Z,k);return}}else if(T&&X.selected&&H.row&&H.column){k.row=H.row,k.column=H.column,O(S,Z,k);return}}for(let Z=0;Z<j.length;Z++){const k=j[Z],K=Nt(S,F,`vxe-${k}--column`,Ce=>Ce.parentNode.parentNode.parentNode.getAttribute("xid")===t),J={type:k,$table:e,columns:V.slice(0),$event:S};if(K.flag){const Ce=K.targetElem,xe=e.getColumnNode(Ce),ue=xe?xe.item:null;let pe=`${k}-`;if(ue&&Object.assign(J,{column:ue,columnIndex:e.getColumnIndex(ue),cell:Ce}),k==="body"){const Ee=e.getRowNode(Ce.parentNode),W=Ee?Ee.item:null;pe="",W&&(J.row=W,J.rowIndex=e.getRowIndex(W))}const Se=`${pe}cell-menu`;O(S,k,J),e.dispatchEvent(Se,J,S);return}else if(Nt(S,F,`vxe-table--${k}-wrapper`,Ce=>Ce.getAttribute("xid")===t).flag){D.trigger==="cell"?S.preventDefault():O(S,k,J);return}}}Y&&!Nt(S,Y.getRefMaps().refElem.value).flag&&e.closeFilter(),s.closeMenu()},ctxMenuMouseoverEvent(S,T,q){const A=S.currentTarget,{ctxMenuStore:_}=n;S.preventDefault(),S.stopPropagation(),_.selected=T,_.selectChild=q,q||(_.showChild=yl(T),_.showChild&&ge(()=>{const V=A.nextElementSibling;if(V){const{boundingTop:Y,boundingLeft:ee,visibleHeight:X,visibleWidth:D}=Wi(A),F=Y+A.offsetHeight,H=ee+A.offsetWidth;let j="",Z="";H+V.offsetWidth>D-10&&(j="auto",Z=`${A.offsetWidth}px`);let k="",K="";F+V.offsetHeight>X-10&&(k="auto",K="0"),V.style.left=j,V.style.right=Z,V.style.top=k,V.style.bottom=K}}))},ctxMenuMouseoutEvent(S,T){const{ctxMenuStore:q}=n;T.children||(q.selected=null),q.selectChild=null},ctxMenuLinkEvent(S,T){const q=e.xeGrid;if(!T.disabled&&(T.code||!T.children||!T.children.length)){const A=_R.get(T.code),_=Object.assign({},u._currMenuParams,{menu:T,$table:e,$grid:q,$event:S}),V=A?A.tableMenuMethod||A.menuMethod:null;V&&V(_,S),e.dispatchEvent("menu-click",_,S),s.closeMenu()}}},Object.assign(Object.assign({},s),y)},setupGrid(e){return e.extendTableMethods(PR)}});const{getConfig:BR,renderer:$R,hooks:zR,getI18n:Nm}=ve,VR=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];zR.add("tableEditModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:u}=e.getRefMaps(),{computeMouseOpts:c,computeEditOpts:d,computeCheckboxOpts:v,computeTreeOpts:m,computeValidOpts:x}=e.getComputeMaps(),i=f.browse();let s={},y={};const O=(D,F)=>{const{model:H,editRender:j}=F;j&&(H.value=br(D,F),H.update=!1)},S=(D,F)=>{const{model:H,editRender:j}=F;j&&H.update&&(Ho(D,F,H.value),H.update=!1,H.value=null)},T=()=>{const D=u.value;if(D){const F=D.querySelector(".col--selected");F&&Yr(F,"col--selected")}},q=()=>{const{editStore:D,tableColumn:F}=o,H=d.value,{actived:j}=D,{row:Z,column:k}=j;(Z||k)&&(H.mode==="row"?F.forEach(K=>S(Z,K)):S(Z,k))},A=(D,F)=>{const{tableFullTreeData:H,afterFullData:j,fullDataRowIdData:Z,fullAllDataRowIdData:k}=n,K=m.value,{rowField:J,parentField:Ce,mapChildrenField:xe}=K,ue=K.children||K.childrenField,pe=F?"push":"unshift";D.forEach(Se=>{const Ee=Se[Ce],W=qe(e,Se),de=Ee?f.findTree(H,ce=>Ee===ce[J],{children:xe}):null;if(de){const{item:ce}=de,ne=k[qe(e,ce)],oe=ne?ne.level:0;let ie=ce[ue],we=ce[xe];f.isArray(ie)||(ie=ce[ue]=[]),f.isArray(we)||(we=ce[ue]=[]),ie[pe](Se),we[pe](Se);const se={row:Se,rowid:W,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:ie,parent:ce,level:oe+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};Z[W]=se,k[W]=se}else{j[pe](Se),H[pe](Se);const ce={row:Se,rowid:W,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:H,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Z[W]=ce,k[W]=ce}})},_=(D,F,H)=>{const{treeConfig:j}=t,{tableFullTreeData:Z,afterFullData:k,mergeBodyList:K,tableFullData:J,fullDataRowIdData:Ce,fullAllDataRowIdData:xe,insertRowMaps:ue}=n,pe=m.value,{transform:Se,rowField:Ee,mapChildrenField:W}=pe,de=pe.children||pe.childrenField;f.isArray(D)||(D=[D]);const ce=Co(e.defineField(D.map(ne=>Object.assign(j&&Se?{[W]:[],[de]:[]}:{},ne))));if(f.eqNull(F))j&&Se?A(ce,!1):(ce.forEach(ne=>{const oe=qe(e,ne),ie={row:ne,rowid:oe,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:k,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Ce[oe]=ie,xe[oe]=ie,k.unshift(ne),J.unshift(ne)}),K.forEach(ne=>{const{row:oe}=ne;oe>0&&(ne.row=oe+ce.length)}));else if(F===-1)j&&Se?A(ce,!0):(ce.forEach(ne=>{const oe=qe(e,ne),ie={row:ne,rowid:oe,seq:-1,index:-1,_index:-1,treeIndex:-1,$index:-1,items:k,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Ce[oe]=ie,xe[oe]=ie,k.push(ne),J.push(ne)}),K.forEach(ne=>{const{row:oe,rowspan:ie}=ne;oe+ie>k.length&&(ne.rowspan=ie+ce.length)}));else if(j&&Se){const ne=f.findTree(Z,oe=>F[Ee]===oe[Ee],{children:W});if(ne){const{parent:oe}=ne,ie=oe?oe[W]:Z,we=xe[qe(e,oe)],se=we?we.level:0;if(ce.forEach((Oe,fe)=>{const he=qe(e,Oe);oe&&(Oe[pe.parentField]=oe[Ee]);let Te=ne.index+fe;H&&(Te=Te+1),ie.splice(Te,0,Oe);const me={row:Oe,rowid:he,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:ie,parent:oe,level:se+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};Ce[he]=me,xe[he]=me}),oe){const Oe=f.findTree(Z,fe=>F[Ee]===fe[Ee],{children:de});if(Oe){const fe=Oe.items;let he=Oe.index;H&&(he=he+1),fe.splice(he,0,...ce)}}}else A(ce,!0)}else{if(j)throw new Error(Nm("vxe.error.noTree",["insert"]));let ne=-1;if(f.isNumber(F)?F<k.length&&(ne=F):ne=e.findRowIndexOf(k,F),H&&(ne=Math.min(k.length,ne+1)),ne===-1)throw new Error(Nm("vxe.error.unableInsert"));k.splice(ne,0,...ce);const oe=e.findRowIndexOf(J,F);oe>-1?J.splice(oe+(H?1:0),0,...ce):J.push(...ce),K.forEach(ie=>{const{row:we,rowspan:se}=ie;we>ne?ie.row=we+ce.length:we+se>ne&&(ie.rowspan=se+ce.length)})}return ce.forEach(ne=>{const oe=qe(e,ne);ue[oe]=ne}),o.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(j&&Se),j&&Se||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),ge().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:ce.length?ce[ce.length-1]:null,rows:ce}))},V=(D,F,H,j)=>{const{treeConfig:Z}=t,k=m.value,{transform:K,rowField:J,parentField:Ce}=k;return Z&&K?(f.isArray(D)||(D=[D]),_(D.map(xe=>Object.assign({},xe,{[Ce]:F[J]})),H,j)):(Ke("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},Y=(D,F)=>{const{editStore:H}=o,{actived:j,focused:Z}=H,{row:k,column:K}=j,J=x.value;if(k||K){if(F&&qe(e,F)!==qe(e,k))return ge();q(),j.args=null,j.row=null,j.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:k,rowIndex:e.getRowIndex(k),$rowIndex:e.getVMRowIndex(k),column:K,columnIndex:e.getColumnIndex(K),$columnIndex:e.getVMColumnIndex(K)},D||null)}return Z.row=null,Z.column=null,J.autoClear&&(J.msgMode!=="full"||BR().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():ge().then(()=>e.updateCellAreas())},ee=(D,F,H,j)=>{const Z=e.xeGrid,{editConfig:k,mouseConfig:K}=t,{editStore:J,tableColumn:Ce}=o,xe=d.value,{mode:ue}=xe,{actived:pe,focused:Se}=J,{row:Ee,column:W}=D,{editRender:de}=W,ce=D.cell||e.getCellElement(Ee,W),ne=xe.beforeEditMethod||xe.activeMethod;if(D.cell=ce,ce&&xt(k)&&xt(de)&&!e.isPendingByRow(Ee)){if(pe.row!==Ee||ue==="cell"&&pe.column!==W){let oe="edit-disabled";if(!ne||ne(Object.assign(Object.assign({},D),{$table:e,$grid:Z}))){K&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),pe.column&&Y(F),oe="edit-activated",W.renderHeight=ce.offsetHeight,pe.args=D,pe.row=Ee,pe.column=W,ue==="row"?Ce.forEach(we=>O(Ee,we)):O(Ee,W);const ie=xe.afterEditMethod;ge(()=>{H&&e.handleFocus(D,F),ie&&ie(Object.assign(Object.assign({},D),{$table:e,$grid:Z}))})}e.dispatchEvent(oe,{row:Ee,rowIndex:e.getRowIndex(Ee),$rowIndex:e.getVMRowIndex(Ee),column:W,columnIndex:e.getColumnIndex(W),$columnIndex:e.getVMColumnIndex(W)},F),oe==="edit-activated"&&e.dispatchEvent("edit-actived",{row:Ee,rowIndex:e.getRowIndex(Ee),$rowIndex:e.getVMRowIndex(Ee),column:W,columnIndex:e.getColumnIndex(W),$columnIndex:e.getVMColumnIndex(W)},F)}else{const{column:oe}=pe;if(K&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),oe!==W){const{model:ie}=oe;ie.update&&Ho(Ee,oe,ie.value),e.clearValidate&&e.clearValidate(Ee,W)}W.renderHeight=ce.offsetHeight,pe.args=D,pe.column=W,j&&setTimeout(()=>{e.handleFocus(D,F)})}Se.column=null,Se.row=null,e.focus()}return ge()},X=(D,F,H)=>{const{editConfig:j}=t,Z=f.isString(F)?e.getColumnByField(F):F;return D&&Z&&xt(j)&&xt(Z.editRender)?Promise.resolve(H?e.scrollToRow(D,Z):null).then(()=>{const k=e.getCellElement(D,Z);return k&&(ee({row:D,rowIndex:e.getRowIndex(D),column:Z,columnIndex:e.getColumnIndex(Z),cell:k,$table:e},null,H,H),n._lastCallTime=Date.now()),ge()}):ge()};return s={insert(D){return _(D,null)},insertAt(D,F){return _(D,F)},insertNextAt(D,F){return _(D,F,!0)},insertChild(D,F){return V(D,F,null)},insertChildAt(D,F,H){return V(D,F,H)},insertChildNextAt(D,F,H){return V(D,F,H,!0)},remove(D){const{treeConfig:F}=t,{editStore:H}=o,{tableFullTreeData:j,selectCheckboxMaps:Z,afterFullData:k,mergeBodyList:K,tableFullData:J,pendingRowMaps:Ce,insertRowMaps:xe,removeRowMaps:ue}=n,pe=v.value,Se=m.value,{transform:Ee,mapChildrenField:W}=Se,de=Se.children||Se.childrenField,{actived:ce}=H,{checkField:ne}=pe;let oe=[];return D?f.isArray(D)||(D=[D]):D=J,D.forEach(ie=>{if(!e.isInsertByRow(ie)){const we=qe(e,ie);ue[we]=ie}}),ne||(D.forEach(ie=>{const we=qe(e,ie);Z[we]&&delete Z[we]}),o.updateCheckboxFlag++),J===D?(D=oe=J.slice(0),n.tableFullData=[],n.afterFullData=[],e.clearMergeCells()):F&&Ee?D.forEach(ie=>{const we=qe(e,ie),se=f.findTree(j,he=>we===qe(e,he),{children:W});if(se){const he=se.items.splice(se.index,1);oe.push(he[0])}const Oe=f.findTree(j,he=>we===qe(e,he),{children:de});Oe&&Oe.items.splice(Oe.index,1);const fe=e.findRowIndexOf(k,ie);fe>-1&&k.splice(fe,1)}):D.forEach(ie=>{const we=e.findRowIndexOf(J,ie);if(we>-1){const Oe=J.splice(we,1);oe.push(Oe[0])}const se=e.findRowIndexOf(k,ie);se>-1&&(K.forEach(Oe=>{const{row:fe,rowspan:he}=Oe;fe>se?Oe.row=fe-1:fe+he>se&&(Oe.rowspan=he-1)}),k.splice(se,1))}),ce.row&&e.findRowIndexOf(D,ce.row)>-1&&s.clearEdit(),D.forEach(ie=>{const we=qe(e,ie);xe[we]&&delete xe[we],Ce[we]&&delete Ce[we]}),o.removeRowFlag++,o.insertRowFlag++,o.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(F&&Ee),e.updateFooter(),e.handleUpdateBodyMerge(),F&&Ee||e.updateAfterDataIndex(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),ge().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:oe.length?oe[oe.length-1]:null,rows:oe}))},removeCheckboxRow(){return s.remove(e.getCheckboxRecords()).then(D=>(e.clearCheckboxRow(),D))},removeRadioRow(){const D=e.getRadioRecord();return s.remove(D||[]).then(F=>(e.clearRadioRow(),F))},removeCurrentRow(){const D=e.getCurrentRecord();return s.remove(D||[]).then(F=>(e.clearCurrentRow(),F))},getRecordset(){const D=s.getRemoveRecords(),F=e.getPendingRecords(),H=D.concat(F),j=s.getUpdateRecords().filter(Z=>!H.some(k=>e.eqRow(k,Z)));return{insertRecords:s.getInsertRecords(),removeRecords:D,updateRecords:j,pendingRecords:F}},getInsertRecords(){const{fullAllDataRowIdData:D,insertRowMaps:F}=n,H=[];return f.each(F,(j,Z)=>{D[Z]&&H.push(j)}),H},getRemoveRecords(){const{removeRowMaps:D}=n,F=[];return f.each(D,H=>{F.push(H)}),F},getUpdateRecords(){const{keepSource:D,treeConfig:F}=t,{tableFullData:H}=n,j=m.value;return D?(q(),F?f.filterTree(H,Z=>e.isUpdateByRow(Z),j):H.filter(Z=>e.isUpdateByRow(Z))):[]},getActiveRecord(){return e.getEditRecord()},getEditRecord(){const{editStore:D}=o,{afterFullData:F}=n,H=u.value,{args:j,row:Z}=D.actived;return j&&e.findRowIndexOf(F,Z)>-1&&H.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},j):null},getSelectedCell(){const{editStore:D}=o,{args:F,column:H}=D.selected;return F&&H?Object.assign({},F):null},clearActived(D){return e.clearEdit(D)},clearEdit(D){return Y(null,D)},clearSelected(){const{editStore:D}=o,{selected:F}=D;return F.row=null,F.column=null,T(),ge()},isActiveByRow(D){return e.isEditByRow(D)},isEditByRow(D){const{editStore:F}=o;return F.actived.row===D},setActiveRow(D){return s.setEditRow(D)},setEditRow(D,F){const{visibleColumn:H}=n;let j=f.find(H,k=>xt(k.editRender)),Z=!1;return F&&(Z=!0,F!==!0&&(j=f.isString(F)?e.getColumnByField(F):F)),X(D,j,Z)},setActiveCell(D,F){return s.setEditCell(D,F)},setEditCell(D,F){return X(D,F,!0)},setSelectCell(D,F){const{tableData:H}=o,j=d.value,Z=f.isString(F)?e.getColumnByField(F):F;if(D&&Z&&j.trigger!=="manual"){const k=e.findRowIndexOf(H,D);if(k>-1&&Z){const K=e.getCellElement(D,Z),J={row:D,rowIndex:k,column:Z,columnIndex:e.getColumnIndex(Z),cell:K};e.handleSelected(J,{})}}return ge()}},y={handleEdit(D,F){return ee(D,F,!0,!0)},handleActived(D,F){return y.handleEdit(D,F)},handleClearEdit:Y,handleFocus(D){const{row:F,column:H,cell:j}=D,{editRender:Z}=H,k=d.value;if(xt(Z)){const K=$R.get(Z.name);let J=Z.autofocus||Z.autoFocus,Ce=Z.autoSelect||Z.autoselect,xe;if(k.autoFocus&&(!J&&K&&(J=K.tableAutoFocus||K.tableAutofocus||K.autofocus),!Ce&&K&&(Ce=K.tableAutoSelect||K.autoselect),f.isFunction(J)?xe=J(D):J&&(J===!0?xe=j.querySelector("input,textarea"):xe=j.querySelector(J),xe&&xe.focus())),xe){if(Ce)xe.select();else if(i.msie){const ue=xe.createTextRange();ue.collapse(!1),ue.select()}}else k.autoPos&&(H.fixed||e.scrollToRow(F,H))}},handleSelected(D,F){const{mouseConfig:H}=t,{editStore:j}=o,Z=c.value,k=d.value,{actived:K,selected:J}=j,{row:Ce,column:xe}=D,ue=H&&Z.selected;return ue&&(J.row!==Ce||J.column!==xe)&&(K.row!==Ce||k.mode==="cell"&&K.column!==xe)&&(Y(F),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),J.args=D,J.row=Ce,J.column=xe,ue&&y.addCellSelectedClass(),e.focus(),F&&e.dispatchEvent("cell-selected",D,F)),ge()},addCellSelectedClass(){const{editStore:D}=o,{selected:F}=D,{row:H,column:j}=F;if(T(),H&&j){const Z=e.getCellElement(H,j);Z&&xo(Z,"col--selected")}}},Object.assign(Object.assign({},s),y)},setupGrid(e){return e.extendTableMethods(VR)}});const WR='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function GR(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function jR(e,t){const{style:o}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${WR}</style>`,o?`<style>${o}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:ko,hooks:UR,renderer:$d}=ve;let vl;const YR="\uFEFF",Bn=`\r
`;function Ni(e){return e.field||["seq","checkbox","radio"].indexOf(e.type)>-1}const Kx=e=>{const t=[];return e.forEach(o=>{o.childNodes&&o.childNodes.length?(t.push(o),t.push(...Kx(o.childNodes))):t.push(o)}),t},XR=e=>{let t=1;const o=(c,d)=>{if(d&&(c._level=d._level+1,t<c._level&&(t=c._level)),c.childNodes&&c.childNodes.length){let v=0;c.childNodes.forEach(m=>{o(m,c),v+=m._colSpan}),c._colSpan=v}else c._colSpan=1};e.forEach(c=>{c._level=1,o(c)});const n=[];for(let c=0;c<t;c++)n.push([]);return Kx(e).forEach(c=>{c.childNodes&&c.childNodes.length?c._rowSpan=1:c._rowSpan=t-c._level+1,n[c._level-1].push(c)}),n};function KR(e){return e===!0?"full":e||"default"}function ml(e){return e==="TRUE"||e==="true"||e===!0}function Pi(e,t,o){const{footerFilterMethod:n}=t;return n?o.filter((u,c)=>n({$table:e,items:u,$rowIndex:c})):o}function ZR(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function bl(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function no(e,t){return e.getElementsByTagName(t)}function Pm(e){return`#${e}@${f.uniqueId()}`}function Zx(e,t){return e.replace(/#\d+@\d+/g,o=>f.hasOwnProp(t,o)?t[o]:o)}function Bm(e,t){return Zx(e,t).replace(/^"+$/g,n=>'"'.repeat(Math.ceil(n.length/2)))}function Df(e,t){const{fieldMaps:o,titleMaps:n}=e;if(!o[t]){const u=n[t];u&&u.field&&(t=u.field)}return t}function Jx(e,t,o){const n=t.split(Bn),u=[];let c=[];if(n.length){const d={},v=Date.now();n.forEach(m=>{if(m){const x={};m=m.replace(/("")|(\n)/g,(s,y)=>{const O=Pm(v);return d[O]=y?'"':`
`,O}).replace(/"(.*?)"/g,(s,y)=>{const O=Pm(v);return d[O]=Zx(y,d),O});const i=m.split(o);c.length?(i.forEach((s,y)=>{y<c.length&&(x[c[y]]=Bm(s.trim(),d))}),u.push(x)):c=i.map(s=>Df(e,Bm(s.trim(),d)))}})}return{fields:c,rows:u}}function JR(e,t){return Jx(e,t,",")}function QR(e,t){return Jx(e,t,"	")}function eS(e,t){const n=new DOMParser().parseFromString(t,"text/html"),u=no(n,"body"),c=[],d=[];if(u.length){const v=no(u[0],"table");if(v.length){const m=no(v[0],"thead");if(m.length){f.arrayEach(no(m[0],"tr"),i=>{f.arrayEach(no(i,"th"),s=>{d.push(Df(e,s.textContent||""))})});const x=no(v[0],"tbody");x.length&&f.arrayEach(no(x[0],"tr"),i=>{const s={};f.arrayEach(no(i,"td"),(y,O)=>{d[O]&&(s[d[O]]=y.textContent||"")}),c.push(s)})}}}return{fields:d,rows:c}}function tS(e,t){const n=new DOMParser().parseFromString(t,"application/xml"),u=no(n,"Worksheet"),c=[],d=[];if(u.length){const v=no(u[0],"Table");if(v.length){const m=no(v[0],"Row");m.length&&(f.arrayEach(no(m[0],"Cell"),x=>{d.push(Df(e,x.textContent||""))}),f.arrayEach(m,(x,i)=>{if(i){const s={},y=no(x,"Cell");f.arrayEach(y,(O,S)=>{d[S]&&(s[d[S]]=O.textContent)}),c.push(s)}}))}}return{fields:d,rows:c}}function $m(e){f.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}const rS=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];UR.add("tableExportModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{computeTreeOpts:u,computePrintOpts:c,computeExportOpts:d,computeImportOpts:v,computeCustomOpts:m,computeSeqOpts:x,computeRadioOpts:i,computeCheckboxOpts:s,computeColumnOpts:y}=e.getComputeMaps(),O=Lr("$xeGrid",null),S=W=>{const de=u.value,ce=de.children||de.childrenField;return W[ce]&&W[ce].length},T=(W,de,ce,ne,oe)=>{const we=x.value.seqMethod||ne.seqMethod;return we?we({$table:e,row:de,rowIndex:e.getRowIndex(de),$rowIndex:ce,column:ne,columnIndex:e.getColumnIndex(ne),$columnIndex:oe}):W};function q(W,de){const ce=y.value,ne=de.headerExportMethod||ce.headerExportMethod;return ne?ne({column:de,options:W,$table:e}):(W.isTitle?de.getTitle():de.field)||""}const A=W=>f.isBoolean(W)?W?"TRUE":"FALSE":W,_=W=>_o(W)?"":`${W}`,V=(W,de,ce)=>{const{isAllExpand:ne,mode:oe}=W,{treeConfig:ie}=t,we=i.value,se=s.value,Oe=u.value,fe=y.value;if(vl||(vl=document.createElement("div")),ie){const he=Oe.children||Oe.childrenField,Te=[],me=new Map;return f.eachTree(ce,(le,Fe,Re,Ye,Ve,je)=>{const Le=le._row||le,lt=Ve&&Ve._row?Ve._row:Ve;if(ne||!lt||me.has(lt)&&e.isTreeExpandByRow(lt)){const yt=S(Le),mt={_row:Le,_level:je.length-1,_hasChild:yt,_expand:yt&&e.isTreeExpandByRow(Le)};de.forEach((ct,at)=>{let vt="";const Ze=ct.editRender||ct.cellRender;let Pe=ct.exportMethod||fe.exportMethod;if(!Pe&&Ze&&Ze.name){const Ue=$d.get(Ze.name);Ue&&(Pe=Ue.tableExportMethod||Ue.exportMethod)}if(Pe||(Pe=fe.exportMethod),Pe)vt=Pe({$table:e,row:Le,column:ct,options:W});else switch(ct.type){case"seq":{const Ue=Ye.map((ut,Ae)=>Ae%2===0?Number(ut)+1:".").join("");vt=oe==="all"?Ue:T(Ue,Le,Fe,ct,at);break}case"checkbox":vt=A(e.isCheckedByCheckboxRow(Le)),mt._checkboxLabel=se.labelField?f.get(Le,se.labelField):"",mt._checkboxDisabled=se.checkMethod&&!se.checkMethod({$table:e,row:Le});break;case"radio":vt=A(e.isCheckedByRadioRow(Le)),mt._radioLabel=we.labelField?f.get(Le,we.labelField):"",mt._radioDisabled=we.checkMethod&&!we.checkMethod({$table:e,row:Le});break;default:if(W.original)vt=br(Le,ct);else if(vt=e.getCellLabel(Le,ct),ct.type==="html")vl.innerHTML=vt,vt=vl.innerText.trim();else{const Ue=e.getCellElement(Le,ct);Ue&&!No(Ue,"is--progress")&&(vt=Ue.innerText.trim())}}mt[ct.id]=_(vt)}),me.set(Le,1),Te.push(Object.assign(mt,Le))}},{children:he}),Te}return ce.map((he,Te)=>{const me={_row:he};return de.forEach((le,Fe)=>{let Re="";const Ye=le.editRender||le.cellRender;let Ve=le.exportMethod||fe.exportMethod;if(!Ve&&Ye&&Ye.name){const je=$d.get(Ye.name);je&&(Ve=je.tableExportMethod||je.exportMethod)}if(Ve)Re=Ve({$table:e,row:he,column:le,options:W});else switch(le.type){case"seq":{const je=Te+1;Re=oe==="all"?je:T(je,he,Te,le,Fe);break}case"checkbox":Re=A(e.isCheckedByCheckboxRow(he)),me._checkboxLabel=se.labelField?f.get(he,se.labelField):"",me._checkboxDisabled=se.checkMethod&&!se.checkMethod({$table:e,row:he});break;case"radio":Re=A(e.isCheckedByRadioRow(he)),me._radioLabel=we.labelField?f.get(he,we.labelField):"",me._radioDisabled=we.checkMethod&&!we.checkMethod({$table:e,row:he});break;default:if(W.original)Re=br(he,le);else if(Re=e.getCellLabel(he,le),le.type==="html")vl.innerHTML=Re,Re=vl.innerText.trim();else{const je=e.getCellElement(he,le);je&&!No(je,"is--progress")&&(Re=je.innerText.trim())}}me[le.id]=_(Re)}),me})},Y=W=>{const{columns:de,dataFilterMethod:ce}=W;let ne=W.data;return ce&&(ne=ne.filter((oe,ie)=>ce({$table:e,row:oe,$rowIndex:ie}))),V(W,de,ne)},ee=(W,de,ce)=>{const ne=y.value,oe=ce.editRender||ce.cellRender;let ie=ce.footerExportMethod;if(!ie&&oe&&oe.name){const se=$d.get(oe.name);se&&(ie=se.tableFooterExportMethod||se.footerExportMethod)}ie||(ie=ne.footerExportMethod);const we=e.getVTColumnIndex(ce);return ie?ie({$table:e,items:de,itemIndex:we,row:de,_columnIndex:we,column:ce,options:W}):f.isArray(de)?f.toValueString(de[we]):f.get(de,ce.field)},X=(W,de,ce,ne)=>{let oe=YR;if(de.isHeader&&(oe+=ce.map(ie=>bl(q(de,ie))).join(",")+Bn),ne.forEach(ie=>{oe+=ce.map(we=>bl(ZR(we,ie[we.id]))).join(",")+Bn}),de.isFooter){const{footerTableData:ie}=o;Pi(W,de,ie).forEach(se=>{oe+=ce.map(Oe=>bl(ee(de,se,Oe))).join(",")+Bn})}return oe},D=(W,de,ce,ne)=>{let oe="";if(de.isHeader&&(oe+=ce.map(ie=>bl(q(de,ie))).join("	")+Bn),ne.forEach(ie=>{oe+=ce.map(we=>bl(ie[we.id])).join("	")+Bn}),de.isFooter){const{footerTableData:ie}=o;Pi(W,de,ie).forEach(se=>{oe+=ce.map(Oe=>bl(ee(de,se,Oe))).join("	")+Bn})}return oe},F=(W,de,ce)=>{const ne=W[de],oe=f.isUndefined(ne)||f.isNull(ne)?ce:ne;let Oe=oe==="title"||(oe===!0||oe==="tooltip")||oe==="ellipsis";const{scrollXLoad:fe,scrollYLoad:he}=o;return(fe||he)&&!Oe&&(Oe=!0),Oe},H=(W,de,ce)=>{const{id:ne,border:oe,treeConfig:ie,headerAlign:we,align:se,footerAlign:Oe,showOverflow:fe,showHeaderOverflow:he}=t,{isAllSelected:Te,isIndeterminate:me}=o,{mergeBodyCellMaps:le}=n,Fe=u.value,{print:Re,isHeader:Ye,isFooter:Ve,isColgroup:je,isMerge:Le,colgroups:lt,original:yt}=W,mt="check-all",at=[`<table class="${["vxe-table",`border--${KR(oe)}`,Re?"is--print":"",Ye?"is--header":""].filter(Ze=>Ze).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${de.map(Ze=>`<col style="width:${Ze.renderWidth}px">`).join("")}</colgroup>`];if(Ye&&(at.push("<thead>"),je&&!yt?lt.forEach(Ze=>{at.push(`<tr>${Ze.map(Pe=>{const Ue=Pe.headerAlign||Pe.align||we||se,ut=F(Pe,"showHeaderOverflow",he)?["col--ellipsis"]:[],Ae=q(W,Pe);let Me=0,He=0;f.eachTree([Pe],et=>{(!et.childNodes||!Pe.childNodes.length)&&He++,Me+=et.renderWidth},{children:"childNodes"});const ht=Me-He;return Ue&&ut.push(`col--${Ue}`),Pe.type==="checkbox"?`<th class="${ut.join(" ")}" colspan="${Pe._colSpan}" rowspan="${Pe._rowSpan}"><div ${Re?"":`style="width: ${ht}px"`}><input type="checkbox" class="${mt}" ${Te?"checked":""}><span>${Ae}</span></div></th>`:`<th class="${ut.join(" ")}" colspan="${Pe._colSpan}" rowspan="${Pe._rowSpan}" title="${Ae}"><div ${Re?"":`style="width: ${ht}px"`}><span>${Cr(Ae,!0)}</span></div></th>`}).join("")}</tr>`)}):at.push(`<tr>${de.map(Ze=>{const Pe=Ze.headerAlign||Ze.align||we||se,Ue=F(Ze,"showHeaderOverflow",he)?["col--ellipsis"]:[],ut=q(W,Ze);return Pe&&Ue.push(`col--${Pe}`),Ze.type==="checkbox"?`<th class="${Ue.join(" ")}"><div ${Re?"":`style="width: ${Ze.renderWidth}px"`}><input type="checkbox" class="${mt}" ${Te?"checked":""}><span>${ut}</span></div></th>`:`<th class="${Ue.join(" ")}" title="${ut}"><div ${Re?"":`style="width: ${Ze.renderWidth}px"`}><span>${Cr(ut,!0)}</span></div></th>`}).join("")}</tr>`),at.push("</thead>")),ce.length&&(at.push("<tbody>"),ie?ce.forEach(Ze=>{at.push("<tr>"+de.map(Pe=>{const Ue=Pe.id,ut=Pe.align||se,Ae=F(Pe,"showOverflow",fe)?["col--ellipsis"]:[],Me=Ze[Ue];if(ut&&Ae.push(`col--${ut}`),Pe.treeNode){let He="";return Ze._hasChild&&(He=`<i class="${Ze._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),Ae.push("vxe-table--tree-node"),Pe.type==="radio"?`<td class="${Ae.join(" ")}" title="${Me}"><div ${Re?"":`style="width: ${Pe.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Ze._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${He}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${ne}" ${Ze._radioDisabled?"disabled ":""}${ml(Me)?"checked":""}><span>${Ze._radioLabel}</span></div></div></div></td>`:Pe.type==="checkbox"?`<td class="${Ae.join(" ")}" title="${Me}"><div ${Re?"":`style="width: ${Pe.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Ze._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${He}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${Ze._checkboxDisabled?"disabled ":""}${ml(Me)?"checked":""}><span>${Ze._checkboxLabel}</span></div></div></div></td>`:`<td class="${Ae.join(" ")}" title="${Me}"><div ${Re?"":`style="width: ${Pe.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Ze._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${He}</div><div class="vxe-table--tree-cell">${Me}</div></div></div></td>`}return Pe.type==="radio"?`<td class="${Ae.join(" ")}"><div ${Re?"":`style="width: ${Pe.renderWidth}px"`}><input type="radio" name="radio_${ne}" ${Ze._radioDisabled?"disabled ":""}${ml(Me)?"checked":""}><span>${Ze._radioLabel}</span></div></td>`:Pe.type==="checkbox"?`<td class="${Ae.join(" ")}"><div ${Re?"":`style="width: ${Pe.renderWidth}px"`}><input type="checkbox" ${Ze._checkboxDisabled?"disabled ":""}${ml(Me)?"checked":""}><span>${Ze._checkboxLabel}</span></div></td>`:`<td class="${Ae.join(" ")}" title="${Me}"><div ${Re?"":`style="width: ${Pe.renderWidth}px"`}>${Cr(Me,!0)}</div></td>`}).join("")+"</tr>")}):ce.forEach(Ze=>{at.push("<tr>"+de.map(Pe=>{const Ue=Pe.align||se,ut=F(Pe,"showOverflow",fe)?["col--ellipsis"]:[],Ae=Ze[Pe.id];let Me=1,He=1;if(Le){const ht=e.getVTRowIndex(Ze._row),et=e.getVTColumnIndex(Pe),ae=le[`${ht}:${et}`];if(ae){const{rowspan:be,colspan:re}=ae;if(!be||!re)return"";be>1&&(Me=be),re>1&&(He=re)}}return Ue&&ut.push(`col--${Ue}`),Pe.type==="radio"?`<td class="${ut.join(" ")}" rowspan="${Me}" colspan="${He}"><div ${Re?"":`style="width: ${Pe.renderWidth}px"`}><input type="radio" name="radio_${ne}" ${Ze._radioDisabled?"disabled ":""}${ml(Ae)?"checked":""}><span>${Ze._radioLabel}</span></div></td>`:Pe.type==="checkbox"?`<td class="${ut.join(" ")}" rowspan="${Me}" colspan="${He}"><div ${Re?"":`style="width: ${Pe.renderWidth}px"`}><input type="checkbox" ${Ze._checkboxDisabled?"disabled ":""}${ml(Ae)?"checked":""}><span>${Ze._checkboxLabel}</span></div></td>`:`<td class="${ut.join(" ")}" rowspan="${Me}" colspan="${He}" title="${Ae}"><div ${Re?"":`style="width: ${Pe.renderWidth}px"`}>${Cr(Ae,!0)}</div></td>`}).join("")+"</tr>")}),at.push("</tbody>")),Ve){const{footerTableData:Ze}=o,Pe=Pi(e,W,Ze);Pe.length&&(at.push("<tfoot>"),Pe.forEach(Ue=>{at.push(`<tr>${de.map(ut=>{const Ae=ut.footerAlign||ut.align||Oe||se,Me=F(ut,"showOverflow",fe)?["col--ellipsis"]:[],He=ee(W,Ue,ut);return Ae&&Me.push(`col--${Ae}`),`<td class="${Me.join(" ")}" title="${He}"><div ${Re?"":`style="width: ${ut.renderWidth}px"`}>${Cr(He,!0)}</div></td>`}).join("")}</tr>`)}),at.push("</tfoot>"))}const vt=!Te&&me?`<script>(function(){var a=document.querySelector(".${mt}");if(a){a.indeterminate=true}})()<\/script>`:"";return at.push("</table>",vt),Re?at.join(""):jR(W,at.join(""))},j=(W,de,ce)=>{let ne=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${W.sheetName}">`,"<Table>",de.map(oe=>`<Column ss:Width="${oe.renderWidth}"/>`).join("")].join("");if(W.isHeader&&(ne+=`<Row>${de.map(oe=>`<Cell><Data ss:Type="String">${q(W,oe)}</Data></Cell>`).join("")}</Row>`),ce.forEach(oe=>{ne+="<Row>"+de.map(ie=>`<Cell><Data ss:Type="String">${oe[ie.id]}</Data></Cell>`).join("")+"</Row>"}),W.isFooter){const{footerTableData:oe}=o;Pi(e,W,oe).forEach(we=>{ne+=`<Row>${de.map(se=>`<Cell><Data ss:Type="String">${ee(W,we,se)}</Data></Cell>`).join("")}</Row>`})}return`${ne}</Table></Worksheet></Workbook>`},Z=(W,de,ce,ne)=>{if(ce.length)switch(de.type){case"csv":return X(W,de,ce,ne);case"txt":return D(W,de,ce,ne);case"html":return H(de,ce,ne);case"xml":return j(de,ce,ne)}return""},k=(W,de)=>{const{filename:ce,type:ne,download:oe}=W;if(!oe){const ie=GR(de,W);return Promise.resolve({type:ne,content:de,blob:ie})}ve.saveFile&&ve.saveFile({filename:ce,type:ne,content:de}).then(()=>{W.message!==!1&&ve.modal&&ve.modal.message({content:ko("vxe.table.expSuccess"),status:"success"})})},K=W=>{const{remote:de,columns:ce,colgroups:ne,exportMethod:oe,afterExportMethod:ie}=W;return new Promise(we=>{if(de){const se={options:W,$table:e,$grid:O};we(oe?oe(se):se)}else{const se=Y(W);we(e.preventEvent(null,"event.export",{options:W,columns:ce,colgroups:ne,datas:se},()=>k(W,Z(e,W,ce,se))))}}).then(we=>($m(ce),W.print||ie&&ie({status:!0,options:W,$table:e,$grid:O}),Object.assign({status:!0},we))).catch(()=>{$m(ce),W.print||ie&&ie({status:!1,options:W,$table:e,$grid:O});const we={status:!1};return Promise.reject(we)})},J=(W,de)=>{const{tableFullColumn:ce,_importResolve:ne,_importReject:oe}=n;let ie={fields:[],rows:[]};const we={},se={};ce.forEach(me=>{const le=me.field,Fe=me.getTitle();le&&(we[le]=me),Fe&&(se[me.getTitle()]=me)});const Oe={fieldMaps:we,titleMaps:se};switch(de.type){case"csv":ie=JR(Oe,W);break;case"txt":ie=QR(Oe,W);break;case"html":ie=eS(Oe,W);break;case"xml":ie=tS(Oe,W);break}const{fields:fe,rows:he}=ie;fe.some(me=>we[me]||se[me])?e.createData(he).then(me=>{let le;return(de.mode==="insert"||de.mode==="insertBottom")&&(le=e.insertAt(me,-1)),de.mode==="insertTop"?le=e.insert(me):le=e.reloadData(me),de.message!==!1&&ve.modal&&ve.modal.message({content:ko("vxe.table.impSuccess",[he.length]),status:"success"}),le.then(()=>{ne&&ne({status:!0})})}):de.message!==!1&&(ve.modal&&ve.modal.message({content:ko("vxe.error.impFields"),status:"error"}),oe&&oe({status:!1}))},Ce=(W,de)=>{const{importMethod:ce,afterImportMethod:ne}=de,{type:oe,filename:ie}=Sx(W),we=v.value;if(!ce&&!f.includes(f.keys(we._typeMaps),oe)){de.message!==!1&&ve.modal&&ve.modal.message({content:ko("vxe.error.notType",[oe]),status:"error"});const Oe={status:!1};return Promise.reject(Oe)}return new Promise((Oe,fe)=>{const he=me=>{Oe(me),n._importResolve=null,n._importReject=null},Te=me=>{fe(me),n._importResolve=null,n._importReject=null};if(n._importResolve=he,n._importReject=Te,window.FileReader){const me=Object.assign({mode:"insertTop"},de,{type:oe,filename:ie});if(me.remote)ce?Promise.resolve(ce({file:W,options:me,$table:e})).then(()=>{he({status:!0})}).catch(()=>{he({status:!0})}):he({status:!0});else{const{tableFullColumn:le}=n;e.preventEvent(null,"event.import",{file:W,options:me,columns:le},()=>{const Fe=new FileReader;Fe.onerror=()=>{Ke("vxe.error.notType",[oe]),Te({status:!1})},Fe.onload=Re=>{J(Re.target.result,me)},Fe.readAsText(W,me.encoding||"UTF-8")})}}else Ke("vxe.error.notExp"),he({status:!0})}).then(()=>{ne&&ne({status:!0,options:de,$table:e})}).catch(Oe=>(ne&&ne({status:!1,options:de,$table:e}),Promise.reject(Oe)))},xe=(W,de,ce)=>ce.some(ne=>{if(Gi(ne))return de.id===ne.id;if(f.isString(ne))return de.field===ne;{const oe=ne.id||ne.colId,ie=ne.type,we=ne.field;if(oe)return de.id===oe;if(we&&ie)return de.field===we&&de.type===ie;if(we)return de.field===we;if(ie)return de.type===ie}return!1}),ue=(W,de,ce,ne)=>ne&&f.includes(ne,de.field)?!1:ce?!!f.includes(ce,de.field):W.original?de.field:Ni(de),pe=(W,de)=>{const{treeConfig:ce,showHeader:ne,showFooter:oe}=t,{initStore:ie,isGroup:we,footerTableData:se,exportStore:Oe,exportParams:fe}=o,{collectColumn:he,mergeBodyList:Te,mergeFooterList:me}=n,le=d.value,Fe=ce,Re=m.value,Ye=e.getCheckboxRecords(),Ve=O?O.getComputeMaps().computeProxyOpts.value:{},je=!!se.length,Le=!!(Te.length||me.length),lt=Object.assign({message:!0,isHeader:ne,isTitle:ne,isFooter:oe,isColgroup:we,isMerge:Le,useStyle:!0,current:"current",modes:(Ve.ajax&&Ve.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},W),yt=lt.types||f.keys(le._typeMaps),mt=lt.modes||[],ct=Re.checkMethod,at=he.slice(0),{columns:vt,excludeFields:Ze,includeFields:Pe}=lt,Ue=yt.map(et=>({value:et,label:ko(`vxe.export.types.${et}`)})),ut=mt.map(et=>et&&et.value?{value:et.value,label:et.label||et.value}:{value:et,label:ko(`vxe.export.modes.${et}`)});f.eachTree(at,(et,ae,be,re,Ie)=>{const Be=et.children&&et.children.length;let tt=!1;vt&&vt.length?tt=xe(lt,et,vt):Ze||Pe?tt=ue(lt,et,Pe,Ze):tt=et.visible&&(Be||Ni(et)),et.checked=tt,et.halfChecked=!1,et.disabled=Ie&&Ie.disabled||(ct?!ct({$table:e,column:et}):!1)}),Object.assign(Oe,{columns:at,typeList:Ue,modeList:ut,hasFooter:je,hasMerge:Le,hasTree:Fe,isPrint:de,hasColgroup:we,visible:!0}),Object.assign(fe,{mode:Ye.length?"selected":"current"},lt);const{filename:Ae,sheetName:Me,mode:He,type:ht}=fe;return Ae&&(f.isFunction(Ae)?fe.filename=Ae({options:lt,$table:e,$grid:O}):fe.filename=`${Ae}`),Me&&(f.isFunction(Me)?fe.sheetName=Me({options:lt,$table:e,$grid:O}):fe.sheetName=`${Me}`),ut.some(et=>et.value===He)||(fe.mode=ut[0].value),Ue.some(et=>et.value===ht)||(fe.type=Ue[0].value),ie.export=!0,ge()},Se=()=>ve.modal?ve.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),Ee={exportData(W){const{treeConfig:de,showHeader:ce,showFooter:ne}=t,{isGroup:oe}=o,{tableFullColumn:ie,afterFullData:we,collectColumn:se,mergeBodyList:Oe,mergeFooterList:fe}=n,he=d.value,Te=u.value,me=O?O.getComputeMaps().computeProxyOpts.value:{},le=!!(Oe.length||fe.length),Fe=Object.assign({message:!0,isHeader:ce,isTitle:ce,isFooter:ne,isColgroup:oe,isMerge:le,useStyle:!0,current:"current",modes:(me.ajax&&me.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},he,W);let{filename:Re,sheetName:Ye,type:Ve,mode:je,columns:Le,original:lt,columnFilterMethod:yt,beforeExportMethod:mt,includeFields:ct,excludeFields:at}=Fe,vt=[];const Ze=e.getCheckboxRecords();je||(je=Ze.length?"selected":"current");const Pe=Le&&Le.length?Le:f.searchTree(se,Ae=>{const Me=Ae.children&&Ae.children.length;let He=!1;return Le&&Le.length?He=xe(Fe,Ae,Le):at||ct?He=ue(Fe,Ae,ct,at):He=Ae.visible&&(Me||Ni(Ae)),He},{children:"children",mapChildren:"childNodes",original:!0}),Ue=Object.assign({},Fe,{filename:"",sheetName:""});!Pe&&!yt&&(Ue.columnFilterMethod=({column:Ae})=>at&&f.includes(at,Ae.field)?!1:ct?!!f.includes(ct,Ae.field):lt?Ae.field:Ni(Ae)),Pe?(Ue._isCustomColumn=!0,vt=f.searchTree(f.mapTree(Pe,Ae=>{let Me;if(Ae){if(Gi(Ae))Me=Ae;else if(f.isString(Ae))Me=e.getColumnByField(Ae);else{const He=Ae.id||Ae.colId,ht=Ae.type,et=Ae.field;He?Me=e.getColumnById(He):et&&ht?Me=ie.find(ae=>ae.field===et&&ae.type===ht):et?Me=e.getColumnByField(et):ht&&(Me=ie.find(ae=>ae.type===ht))}return Me||{}}},{children:"childNodes",mapChildren:"_children"}),(Ae,Me)=>Gi(Ae)&&(!yt||yt({$table:e,column:Ae,$columnIndex:Me})),{children:"_children",mapChildren:"childNodes",original:!0})):vt=f.searchTree(oe?se:ie,(Ae,Me)=>Ae.visible&&(!yt||yt({$table:e,column:Ae,$columnIndex:Me})),{children:"children",mapChildren:"childNodes",original:!0});const ut=[];if(f.eachTree(vt,Ae=>{Ae.children&&Ae.children.length||ut.push(Ae)},{children:"childNodes"}),Ue.columns=ut,Ue.colgroups=XR(vt),Re&&(f.isFunction(Re)?Ue.filename=Re({options:Fe,$table:e,$grid:O}):Ue.filename=`${Re}`),Ue.filename||(Ue.filename=ko(Ue.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[f.toDateString(Date.now(),"yyyyMMddHHmmss")])),Ye&&(f.isFunction(Ye)?Ue.sheetName=Ye({options:Fe,$table:e,$grid:O}):Ue.sheetName=`${Ye}`),Ue.sheetName||(Ue.sheetName=document.title||""),!Ue.exportMethod&&!f.includes(f.keys(he._typeMaps),Ve)){Ke("vxe.error.notType",[Ve]);const Ae={status:!1};return Promise.reject(Ae)}if(Ue.print||mt&&mt({options:Ue,$table:e,$grid:O}),!Ue.data){if(Ue.data=[],je==="selected")["html","pdf"].indexOf(Ve)>-1&&de?Ue.data=f.searchTree(e.getTableData().fullData,Ae=>e.findRowIndexOf(Ze,Ae)>-1,Object.assign({},Te,{data:"_row"})):Ue.data=Ze;else if(je==="all"&&O&&!Ue.remote){const Ae=O.reactData,{computeProxyOpts:Me}=O.getComputeMaps(),He=Me.value,{sortData:ht}=Ae,{beforeQueryAll:et,afterQueryAll:ae,ajax:be={}}=He,re=He.response||He.props||{},Ie=be.queryAll,Be=be.queryAllSuccess,tt=be.queryAllError;if(Ie){const it={$table:e,$grid:O,sort:ht.length?ht[0]:{},sorts:ht,filters:Ae.filterData,form:Ae.formData,options:Ue};return Promise.resolve((et||Ie)(it)).then(bt=>{const dt=re.list;return Ue.data=(dt?f.isFunction(dt)?dt({data:bt,$grid:O}):f.get(bt,dt):bt)||[],ae&&ae(it),Be&&Be(Object.assign(Object.assign({},it),{response:bt})),K(Ue)}).catch(bt=>{tt&&tt(Object.assign(Object.assign({},it),{response:bt}))})}}je==="current"&&(Ue.data=we)}return K(Ue)},importByFile(W,de){const ce=Object.assign({},de),{beforeImportMethod:ne}=ce;return ne&&ne({options:ce,$table:e}),Ce(W,ce)},importData(W){const de=v.value,ce=Object.assign({types:f.keys(de._typeMaps)},de,W),{beforeImportMethod:ne,afterImportMethod:oe}=ce;return ne&&ne({options:ce,$table:e}),ve.readFile(ce).catch(ie=>(oe&&oe({status:!1,options:ce,$table:e}),Promise.reject(ie))).then(ie=>{const{file:we}=ie;return Ce(we,ce)})},saveFile(W){return ve.saveFile(W)},readFile(W){return ve.readFile(W)},print(W){const de=c.value,ce=Object.assign({original:!1},de,W,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:ne}=ce;let oe="";ne&&(f.isFunction(ne)?oe=ne({options:ce,$table:e,$grid:O}):oe=`${ne}`),oe||(oe=document.title||"");const ie=ce.beforePrintMethod,we=ce.html||ce.content;return new Promise((se,Oe)=>{ve.print?se(we?ve.print({title:oe,html:we,customStyle:ce.style,beforeMethod:ie?({html:fe})=>ie({html:fe,content:fe,options:ce,$table:e}):void 0}):Ee.exportData(ce).then(({content:fe})=>ve.print({title:oe,html:fe,customStyle:ce.style,beforeMethod:ie?({html:he})=>ie({html:he,content:he,options:ce,$table:e}):void 0}))):Oe({status:!1})})},getPrintHtml(W){const de=c.value,ce=Object.assign({original:!1},de,W,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(ce).then(({content:ne})=>({html:ne}))},closeImport(){return ve.modal?ve.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(W){const{treeConfig:de,importConfig:ce}=t,{initStore:ne,importStore:oe,importParams:ie}=o,we=v.value,se=Object.assign({mode:"insertTop",message:!0,types:f.keys(we._typeMaps),modes:["insertTop","covering"]},we,W),Oe=se.types||[],fe=se.modes||[];if(!!de){se.message&&ve.modal&&ve.modal.message({content:ko("vxe.error.treeNotImp"),status:"error"});return}ce||Ke("vxe.error.reqProp",["import-config"]);const Te=Oe.map(le=>({value:le,label:ko(`vxe.export.types.${le}`)})),me=fe.map(le=>le&&le.value?{value:le.value,label:le.label||le.value}:{value:le,label:ko(`vxe.import.modes.${le}`)});Object.assign(oe,{file:null,type:"",filename:"",modeList:me,typeList:Te,visible:!0}),Object.assign(ie,se),me.some(le=>le.value===ie.mode)||(ie.mode=me[0].value),ne.import=!0},closeExport:Se,openExport(W){const de=d.value,ce=Object.assign({message:!0,types:f.keys(de._typeMaps)},de,W);t.exportConfig||Ke("vxe.error.reqProp",["export-config"]),pe(ce)},closePrint:Se,openPrint(W){const de=c.value,ce=Object.assign({message:!0},de,W);t.printConfig||Ke("vxe.error.reqProp",["print-config"]),pe(ce,!0)}};return Ee},setupGrid(e){return e.extendTableMethods(rS)}});const{hooks:oS}=ve,nS=f.browse();function lS(e,t){let o=0,n=0;const u=!nS.firefox&&No(e,"vxe-checkbox--label");if(u){const c=getComputedStyle(e);o-=f.toNumber(c.paddingTop),n-=f.toNumber(c.paddingLeft)}for(;e&&e!==t;)if(o+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent,u){const c=getComputedStyle(e);o-=f.toNumber(c.paddingTop),n-=f.toNumber(c.paddingLeft)}return{offsetTop:o,offsetLeft:n}}oS.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:u}=e.getRefMaps(),{computeEditOpts:c,computeCheckboxOpts:d,computeMouseOpts:v,computeTreeOpts:m,computeRowOpts:x,computeColumnOpts:i,computeCellOpts:s,computeDefaultRowHeight:y,computeCurrentRowOpts:O,computeCurrentColumnOpts:S}=e.getComputeMaps();function T(Y,ee,X,D,F,H){const{showOverflow:j}=t,{fullAllDataRowIdData:Z,isResizeCellHeight:k}=n,K=x.value,J=s.value,Ce=y.value,{row:xe}=ee;let ue=0,pe=[],Se=0;const Ee=H>0,{scrollYLoad:W}=o,{afterFullData:de}=n;if(Ee?Se=F+H:Se=D.height-F+Math.abs(H),W){const ce=e.getVTRowIndex(xe);if(!(k||J.height||K.height)&&j)Ee?pe=de.slice(ce,ce+Math.ceil(Se/Ce)):pe=de.slice(ce-Math.floor(Se/Ce),ce+1);else if(Ee)for(let oe=ce;oe<de.length;oe++){const ie=de[oe],we=e.getRowid(ie),se=Z[we]||{};if(ue+=se.resizeHeight||J.height||K.height||se.height||Ce,pe.push(ie),ue>Se)return pe}else for(let oe=ce;oe>=0;oe--){const ie=de[oe],we=e.getRowid(ie),se=Z[we]||{};if(ue+=se.resizeHeight||J.height||K.height||se.height||Ce,pe.push(ie),ue>Se)return pe}}else{const ce=Ee?"next":"previous";for(;X&&ue<Se;){const ne=e.getRowNode(X);ne&&(pe.push(ne.item),ue+=X.offsetHeight,X=X[`${ce}ElementSibling`])}}return pe}const q=(Y,ee)=>{const{elemStore:X}=n,D=ot(X["main-body-scroll"]),F=ot(X["left-body-scroll"]),H=ot(X["right-body-scroll"]),{column:j,cell:Z}=ee;if(j.type==="checkbox"){let k=D;if(F&&j.fixed==="left"?k=F:H&&j.fixed==="right"&&(k=H),!k)return;const K=u.value,J=Y.clientX,Ce=Y.clientY,xe=k.querySelector(".vxe-table--checkbox-range"),ue=Z.parentElement,pe=e.getCheckboxRecords();let Se=[];const Ee=1,W=lS(Y.target,k),de=W.offsetTop+Y.offsetY,ce=W.offsetLeft+Y.offsetX,ne=k.scrollTop,oe=ue.offsetHeight,ie=ue.getBoundingClientRect(),we=Ce-ie.y;let se=null,Oe=!1,fe=1;const he=(Fe,Re)=>{e.dispatchEvent(`checkbox-range-${Fe}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},Re)},Te=Fe=>{const{clientX:Re,clientY:Ye}=Fe,Ve=Re-J,je=Ye-Ce+(k.scrollTop-ne);let Le=Math.abs(je),lt=Math.abs(Ve),yt=de,mt=ce;je<Ee?(yt+=je,yt<Ee&&(yt=Ee,Le=de)):Le=Math.min(Le,k.scrollHeight-de-Ee),Ve<Ee?(mt+=Ve,lt>ce&&(mt=Ee,lt=ce)):lt=Math.min(lt,k.clientWidth-ce-Ee),xe.style.height=`${Le}px`,xe.style.width=`${lt}px`,xe.style.left=`${mt}px`,xe.style.top=`${yt}px`,xe.style.display="block";const ct=T(Fe,ee,ue,ie,we,je<Ee?-Le:Le);if(Le>10&&ct.length!==Se.length){const at=li(Fe);Se=ct,at?ct.forEach(vt=>{e.handleBatchSelectRows([vt],pe.indexOf(vt)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(ct,!0,!1)),he("change",Fe)}},me=()=>{clearTimeout(se),se=null},le=Fe=>{me(),se=setTimeout(()=>{if(se){const{scrollLeft:Re,scrollTop:Ye,clientHeight:Ve,scrollHeight:je}=k,Le=Math.ceil(fe*50/oe);Oe?Ye+Ve<je?(e.scrollTo(Re,Ye+Le),le(Fe),Te(Fe)):me():Ye?(e.scrollTo(Re,Ye-Le),le(Fe),Te(Fe)):me()}},50)};xo(K,"drag--range"),document.onmousemove=Fe=>{Fe.preventDefault(),Fe.stopPropagation();const{clientY:Re}=Fe,{boundingTop:Ye}=Wi(k);Re<Ye?(Oe=!1,fe=Ye-Re,se||le(Fe)):Re>Ye+k.clientHeight?(Oe=!0,fe=Re-Ye-k.clientHeight,se||le(Fe)):se&&me(),Te(Fe)},document.onmouseup=Fe=>{me(),Yr(K,"drag--range"),xe.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,he("end",Fe)},he("start",Y)}},A=(Y,ee)=>{const{editConfig:X,checkboxConfig:D,mouseConfig:F}=t,H=d.value,j=v.value,Z=c.value;if(F&&j.area&&e.triggerCellAreaMousedownEvent)return e.triggerCellAreaMousedownEvent(Y,ee);D&&H.range&&q(Y,ee),F&&j.selected&&(!X||Z.mode==="cell")&&e.handleSelected(ee,Y)},_=(Y,ee,X,D,F,H)=>{const{afterFullData:j,visibleColumn:Z}=n,k=Object.assign({},ee),K=e.getVTRowIndex(k.row),J=e.getVTColumnIndex(k.column);return Y.preventDefault(),D&&K>0?(k.rowIndex=K-1,k.row=j[k.rowIndex]):H&&K<j.length-1?(k.rowIndex=K+1,k.row=j[k.rowIndex]):X&&J?(k.columnIndex=J-1,k.column=Z[k.columnIndex]):F&&J<Z.length-1&&(k.columnIndex=J+1,k.column=Z[k.columnIndex]),e.scrollToRow(k.row,k.column).then(()=>{k.cell=e.getCellElement(k.row,k.column),e.handleSelected(k,Y)}),k};return{moveTabSelected(Y,ee,X){const{editConfig:D}=t,{afterFullData:F,visibleColumn:H}=n,j=c.value,Z=x.value,k=O.value,K=i.value,J=S.value;let Ce,xe,ue;const pe=Object.assign({},Y),Se=e.getVTRowIndex(pe.row),Ee=e.getVTColumnIndex(pe.column);X.preventDefault(),ee?Ee<=0?Se>0&&(xe=Se-1,Ce=F[xe],ue=H.length-1):ue=Ee-1:Ee>=H.length-1?Se<F.length-1&&(xe=Se+1,Ce=F[xe],ue=0):ue=Ee+1;const W=H[ue];W&&(Ce?(pe.rowIndex=xe,pe.row=Ce):pe.rowIndex=Se,pe.columnIndex=ue,pe.column=W,pe.cell=e.getCellElement(pe.row,pe.column),Z.isCurrent&&k.isFollowSelected&&e.triggerCurrentRowEvent(X,pe),K.isCurrent&&J.isFollowSelected&&e.triggerCurrentColumnEvent(X,pe),D?(j.trigger==="click"||j.trigger==="dblclick")&&(j.mode==="row"?e.handleEdit(pe,X):e.scrollToRow(pe.row,pe.column).then(()=>{e.handleSelected(pe,X)})):e.scrollToRow(pe.row,pe.column).then(()=>{e.handleSelected(pe,X)}))},moveCurrentRow(Y,ee,X){const{treeConfig:D}=t,{currentRow:F}=o,{afterFullData:H}=n,j=m.value,Z=j.children||j.childrenField;let k;if(F)if(D){const{index:K,items:J}=f.findTree(H,Ce=>Ce===F,{children:Z});Y&&K>0?k=J[K-1]:ee&&K<J.length-1&&(k=J[K+1])}else{const K=e.getVTRowIndex(F);Y&&K>0?k=H[K-1]:ee&&K<H.length-1&&(k=H[K+1])}else k=H[0];if(k){X.preventDefault();const K={$table:e,row:k,rowIndex:e.getRowIndex(k),$rowIndex:e.getVMRowIndex(k)};e.scrollToRow(k).then(()=>e.triggerCurrentRowEvent(X,K))}},moveCurrentColumn(Y,ee,X){const{currentColumn:D}=o,{visibleColumn:F}=n;let H=null;if(D){const j=e.getVTColumnIndex(D);Y&&j>0?H=F[j-1]:ee&&j<F.length-1&&(H=F[j+1])}else H=F[0];if(H){X.preventDefault();const j={$table:e,column:H,columnIndex:e.getColumnIndex(H),$columnIndex:e.getVMColumnIndex(H)};e.scrollToColumn(H).then(()=>e.triggerCurrentColumnEvent(X,j))}},moveArrowSelected(Y,ee,X,D,F,H){const{highlightCurrentRow:j,highlightCurrentColumn:Z}=t,k=x.value,K=O.value,J=i.value,Ce=S.value,xe=_(H,Y,ee,X,D,F);(k.isCurrent||j)&&(K.isFollowSelected?e.triggerCurrentRowEvent(H,xe):(X||F)&&(k.isCurrent||j)&&e.moveCurrentRow(X,F,H)),(J.isCurrent||Z)&&(Ce.isFollowSelected?e.triggerCurrentColumnEvent(H,xe):(ee||D)&&(J.isCurrent||Z)&&e.moveCurrentColumn(ee,D,H))},moveEnterSelected(Y,ee,X,D,F,H){const{highlightCurrentRow:j,highlightCurrentColumn:Z}=t,k=x.value,K=O.value,J=i.value,Ce=S.value,xe=_(H,Y,ee,X,D,F);(k.isCurrent||j)&&K.isFollowSelected&&e.triggerCurrentRowEvent(H,xe),(J.isCurrent||Z)&&Ce.isFollowSelected&&e.triggerCurrentColumnEvent(H,xe)},moveSelected(Y,ee,X,D,F,H){_(H,Y,ee,X,D,F)},handleCellMousedownEvent:A}}});const{getConfig:iS,validators:sS,hooks:aS}=ve;class ei{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return Po(this.$options.content||this.$options.message)}get message(){return this.content}}const cS=["fullValidate","validate","fullValidateField","validateField","clearValidate"];aS.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refValidTooltip:u}=e.getRefMaps(),{computeValidOpts:c,computeTreeOpts:d,computeEditOpts:v}=e.getComputeMaps();let m={},x={},i;const s=T=>new Promise(q=>{c.value.autoPos===!1?(e.dispatchEvent("valid-error",T,null),q()):e.handleEdit(T,{type:"valid-error",trigger:"call"}).then(()=>{q(x.showValidTooltip(T))})}),y=T=>{if(c.value.msgMode==="single"){const A=Object.keys(T),_={};if(A.length){const V=A[0];_[V]=T[V]}return _}return T},O=(T,q,A,_)=>{const V={},{editRules:Y,treeConfig:ee}=t,{afterFullData:X,pendingRowMaps:D,removeRowMaps:F}=n,H=d.value,j=H.children||H.childrenField,Z=c.value;let k;T===!0?k=X:T&&(f.isFunction(T)?A=T:k=f.isArray(T)?T:[T]),k||(e.getInsertRecords?k=e.getInsertRecords().concat(e.getUpdateRecords()):k=[]);const K=[];n._lastCallTime=Date.now(),i=!1,m.clearValidate();const J={};if(Y){const Ce=q&&q.length?q:e.getColumns(),xe=ue=>{const pe=qe(e,ue);if(!F[pe]&&!D[pe]&&(_||!i)){const Se=[];Ce.forEach(Ee=>{const W=f.isString(Ee)?Ee:Ee.field;(_||!i)&&f.has(Y,W)&&Se.push(x.validCellRules("all",ue,Ee).catch(({rule:de,rules:ce})=>{const ne={rule:de,rules:ce,rowIndex:e.getRowIndex(ue),row:ue,columnIndex:e.getColumnIndex(Ee),column:Ee,field:W,$table:e};if(V[W]||(V[W]=[]),J[`${qe(e,ue)}:${Ee.id}`]={column:Ee,row:ue,rule:de,content:de.content},V[W].push(ne),!_)return i=!0,Promise.reject(ne)}))}),K.push(Promise.all(Se))}};return ee?f.eachTree(k,xe,{children:j}):k.forEach(xe),Promise.all(K).then(()=>{const ue=Object.keys(V);return o.validErrorMaps=y(J),ge().then(()=>{if(ue.length)return Promise.reject(V[ue[0]][0]);A&&A()})}).catch(ue=>new Promise((pe,Se)=>{const Ee=()=>{ge(()=>{A?(A(V),pe()):iS().validToReject==="obsolete"?Se(V):pe(V)})},W=()=>{ue.cell=e.getCellElement(ue.row,ue.column),WE(ue.cell),s(ue).then(Ee)};if(Z.autoPos===!1)Ee();else{const de=ue.row,ce=ue.column;e.scrollToRow(de,ce).then(W)}}))}else o.validErrorMaps={};return ge().then(()=>{A&&A()})};m={fullValidate(T,q){return O(T,null,q,!0)},validate(T,q){return O(T,null,q)},fullValidateField(T,q){const A=(f.isArray(q)?q:q?[q]:[]).map(_=>hr(e,_));return A.length?O(T,A,null,!0):ge()},validateField(T,q){const A=(f.isArray(q)?q:q?[q]:[]).map(_=>hr(e,_));return A.length?O(T,A,null):ge()},clearValidate(T,q){const{validErrorMaps:A}=o,_=u.value,V=c.value,Y=f.isArray(T)?T:T?[T]:[],ee=(f.isArray(q)?q:q?[q]:[]).map(D=>hr(e,D));let X={};if(_&&_.reactData.visible&&_.close(),V.msgMode==="single")return o.validErrorMaps={},ge();if(Y.length&&ee.length)X=Object.assign({},A),Y.forEach(D=>{ee.forEach(F=>{const H=`${qe(e,D)}:${F.id}`;X[H]&&delete X[H]})});else if(Y.length){const D=Y.map(F=>`${qe(e,F)}`);f.each(A,(F,H)=>{D.indexOf(H.split(":")[0])>-1&&(X[H]=F)})}else if(ee.length){const D=ee.map(F=>`${F.id}`);f.each(A,(F,H)=>{D.indexOf(H.split(":")[1])>-1&&(X[H]=F)})}return o.validErrorMaps=X,ge()}};const S=(T,q)=>{const{type:A,min:_,max:V,pattern:Y}=T,ee=A==="number",X=ee?f.toNumber(q):f.getSize(q);return!!(ee&&isNaN(q)||!f.eqNull(_)&&X<f.toNumber(_)||!f.eqNull(V)&&X>f.toNumber(V)||Y&&!(f.isRegExp(Y)?Y:new RegExp(Y)).test(q))};return x={validCellRules(T,q,A,_){const V=e.xeGrid,{editRules:Y}=t,{field:ee}=A,X=[],D=[];if(ee&&Y){const F=f.get(Y,ee);if(F){const H=f.isUndefined(_)?f.get(q,ee):_;F.forEach(j=>{const{type:Z,trigger:k,required:K,validator:J}=j;if(T==="all"||!k||T===k)if(J){const Ce={cellValue:H,rule:j,rules:F,row:q,rowIndex:e.getRowIndex(q),column:A,columnIndex:e.getColumnIndex(A),field:A.field,$table:e,$grid:V};let xe;if(f.isString(J)){const ue=sS.get(J);if(ue){const pe=ue.tableCellValidatorMethod||ue.cellValidatorMethod;pe&&(xe=pe(Ce))}else Ke("vxe.error.notValidators",[J])}else xe=J(Ce);xe&&(f.isError(xe)?(i=!0,X.push(new ei({type:"custom",trigger:k,content:xe.message,rule:new ei(j)}))):xe.catch&&D.push(xe.catch(ue=>{i=!0,X.push(new ei({type:"custom",trigger:k,content:ue&&ue.message?ue.message:j.content||j.message,rule:new ei(j)}))})))}else{const Ce=Z==="array",xe=f.isArray(H);let ue=!0;Ce||xe?ue=!xe||!H.length:f.isString(H)?ue=_o(H.trim()):ue=_o(H),(K?ue||S(j,H):!ue&&S(j,H))&&(i=!0,X.push(new ei(j)))}})}}return Promise.all(D).then(()=>{if(X.length){const F={rules:X,rule:X[0]};return Promise.reject(F)}})},hasCellRules(T,q,A){const{editRules:_}=t,{field:V}=A;if(V&&_){const Y=f.get(_,V);return Y&&!!f.find(Y,ee=>T==="all"||!ee.trigger||T===ee.trigger)}return!1},triggerValidate(T){const{editConfig:q,editRules:A}=t,{editStore:_}=o,{actived:V}=_,Y=v.value,ee=c.value;if(A&&ee.msgMode==="single"&&(o.validErrorMaps={}),q&&A&&V.row){const{row:X,column:D,cell:F}=V.args;if(x.hasCellRules(T,X,D))return x.validCellRules(T,X,D).then(()=>{Y.mode==="row"&&m.clearValidate(X,D)}).catch(({rule:H})=>{if(!H.trigger||T===H.trigger){const j={rule:H,row:X,column:D,cell:F};return x.showValidTooltip(j),Promise.reject(j)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(T){const{height:q}=t,{tableData:A,validStore:_,validErrorMaps:V}=o,{rule:Y,row:ee,column:X,cell:D}=T,F=c.value,H=u.value,j=Y.content;return _.visible=!0,F.msgMode==="single"?o.validErrorMaps={[`${qe(e,ee)}:${X.id}`]:{column:X,row:ee,rule:Y,content:j}}:o.validErrorMaps=Object.assign({},V,{[`${qe(e,ee)}:${X.id}`]:{column:X,row:ee,rule:Y,content:j}}),e.dispatchEvent("valid-error",T,null),H&&H&&(F.message==="tooltip"||F.message==="default"&&!q&&A.length<2)?H.open(D,j):ge()}},Object.assign(Object.assign({},m),x)},setupGrid(e){return e.extendTableMethods(cS)}});const uS=["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];ve.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:o}=e,{computeCustomOpts:n}=e.getComputeMaps(),{refElem:u}=e.getRefMaps(),c=e.xeGrid,d=()=>{const{customStore:A}=t,_=u.value;let V=0;_&&(V=_.clientHeight-28),A.maxHeight=Math.max(88,V)},v=()=>{const{initStore:A,customStore:_}=t;return _.visible=!0,A.custom=!0,m(),S(),d(),ge().then(()=>d())},m=()=>{const{customStore:A}=t,{collectColumn:_}=o;if(A.visible){const V={},Y={},ee={};f.eachTree(_,X=>{const D=X.getKey();X.renderFixed=X.fixed,X.renderVisible=X.visible,X.renderResizeWidth=X.renderWidth,V[D]=X.renderSortNumber,Y[D]=X.fixed,ee[D]=X.visible}),A.oldSortMaps=V,A.oldFixedMaps=Y,A.oldVisibleMaps=ee,t.customColumnList=_.slice(0)}},x=()=>{const{customStore:A}=t,_=n.value;return A.visible&&(A.visible=!1,_.immediate||e.handleCustom()),ge()},i=()=>{const{customColumnList:A}=t,_=n.value,{allowVisible:V,allowSort:Y,allowFixed:ee,allowResizable:X}=_;return f.eachTree(A,(D,F,H,j,Z)=>{if(Z)D.fixed=Z.fixed;else{if(Y){const k=F+1;D.renderSortNumber=k}ee&&(D.fixed=D.renderFixed)}X&&D.renderVisible&&(!D.children||D.children.length)&&D.renderResizeWidth!==D.renderWidth&&(D.resizeWidth=D.renderResizeWidth,D.renderWidth=D.renderResizeWidth),V&&(D.visible=D.renderVisible)}),t.isCustomStatus=!0,t.isDragColMove=!0,setTimeout(()=>{t.isDragColMove=!1},1e3),e.saveCustomStore("confirm")},s=()=>{const{customColumnList:A,customStore:_}=t,{oldSortMaps:V,oldFixedMaps:Y,oldVisibleMaps:ee}=_,X=n.value,{allowVisible:D,allowSort:F,allowFixed:H,allowResizable:j}=X;return f.eachTree(A,Z=>{const k=Z.getKey(),K=!!ee[k],J=Y[k]||"";D&&(Z.renderVisible=K,Z.visible=K),H&&(Z.renderFixed=J,Z.fixed=J),F&&(Z.renderSortNumber=V[k]||0),j&&(Z.renderResizeWidth=Z.renderWidth)},{children:"children"}),ge()},y=A=>{const{customStore:_}=t,{customColumnList:V}=t,Y=n.value,{checkMethod:ee,visibleMethod:X}=Y,D=!!A;return Y.immediate?(f.eachTree(V,F=>{X&&!X({$table:e,column:F})||ee&&!ee({$table:e,column:F})||(F.visible=D,F.renderVisible=D,F.halfVisible=!1)}),_.isAll=D,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(f.eachTree(V,F=>{X&&!X({$table:e,column:F})||ee&&!ee({$table:e,column:F})||(F.renderVisible=D,F.halfVisible=!1)}),_.isAll=D),e.checkCustomStatus(),ge()},O={openCustom:v,closeCustom:x,saveCustom:i,cancelCustom:s,resetCustom(A){const{collectColumn:_}=o,V=n.value,{checkMethod:Y}=V,ee=Object.assign({visible:!0,resizable:A===!0,fixed:A===!0,sort:A===!0},A);return f.eachTree(_,X=>{ee.resizable&&(X.resizeWidth=0),ee.fixed&&(X.fixed=X.defaultFixed),ee.sort&&(X.renderSortNumber=X.sortNumber),(!Y||Y({$table:e,column:X}))&&(X.visible=X.defaultVisible),X.renderResizeWidth=X.renderWidth}),t.isCustomStatus=!1,e.saveCustomStore("reset"),e.handleCustom()},toggleCustomAllCheckbox(){const{customStore:A}=t,_=!A.isAll;return y(_)},setCustomAllCheckbox:y},S=()=>{const{customStore:A}=t,{collectColumn:_}=o,V=n.value,{checkMethod:Y}=V;A.isAll=_.every(ee=>(Y?!Y({$table:e,column:ee}):!1)||ee.renderVisible),A.isIndeterminate=!A.isAll&&_.some(ee=>(!Y||Y({$table:e,column:ee}))&&(ee.renderVisible||ee.halfVisible))},T=(A,_)=>{(c||e).dispatchEvent("custom",{type:A},_)},q={checkCustomStatus:S,emitCustomEvent:T,triggerCustomEvent(A){const _=e.reactData,{customStore:V}=_;V.visible?(x(),T("close",A)):(V.btnEl=A.target,v(),T("open",A))},customOpenEvent(A){const _=e.reactData,{customStore:V}=_;V.visible||(V.activeBtn=!0,V.btnEl=A.target,e.openCustom(),e.emitCustomEvent("open",A))},customCloseEvent(A){const _=e.reactData,{customStore:V}=_;V.visible&&(V.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",A))},handleUpdateCustomColumn:m};return Object.assign(Object.assign({},O),q)},setupGrid(e){return e.extendTableMethods(uS)}});const{getConfig:ji,renderer:dS,getI18n:Mf,getComponent:Qx}=ve,eC="modelValue",tC={};function qo(e,t,o){return f.eqNull(e)?f.eqNull(t)?o:t:e}function fS(e,t){return e&&t.valueFormat?f.toStringDate(e,t.valueFormat):e}function hS(e,t,o){const{dateConfig:n={}}=t;return f.toDateString(fS(e,t),n.labelFormat||o)}function zd(e,t){return hS(e,t,Mf(`vxe.input.date.labelFormat.${t.type||"date"}`))}function pS(e){return`vxe-${e.replace("$","")}`}function Xr({name:e}){return Qx(e)}function cs({name:e}){return zC(pS(e))}function Yi(e,t,o){const{$panel:n}=e;n.changeOption({},t,o)}function us(e){let{name:t,attrs:o}=e;return t==="input"&&(o=Object.assign({type:"text"},o)),o}function rC(e){const{name:t,immediate:o,props:n}=e;if(!o){if(t==="VxeInput"||t==="$input"){const{type:u}=n||{};return!(!u||u==="text"||u==="number"||u==="integer"||u==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return o}function po(e,t,o,n){return f.assign({immediate:rC(e)},tC,n,e.props,{[eC]:o})}function Xi(e,t,o,n){return f.assign({},tC,n,e.props,{[eC]:o})}function ds(e,t){return t.$type==="cell"||rC(e)}function Ur(e,t,o,n){const{placeholder:u}=e;return[w("span",{class:["vxe-cell--label",n?n.class:""]},u&&Cf(o)?[w("span",{class:"vxe-cell--placeholder"},Cr(Po(u),1))]:Cr(o,1))]}function oC(e,t,o){const{events:n}=e,u=Ux(e),c=Yx(e),{model:d,change:v,blur:m}=o||{},x=c===u,i={};return n&&f.objectEach(n,(s,y)=>{i[xn(y)]=function(...O){s(t,...O)}}),d&&(i[xn(u)]=function(s){d(s),x&&v&&v(s),n&&n[u]&&n[u](t,s)}),!x&&v&&(i[xn(c)]=function(s){v(s),n&&n[c]&&n[c](t,s)}),m&&(i[xn(Ol)]=function(s){m(s),n&&n[Ol]&&n[Ol](t,s)}),i}const Ol="blur";function bi(e,t,o){const{events:n}=e,u=Ux(e),c=Yx(e),{model:d,change:v,blur:m}=o||{},x={};return f.objectEach(n,(i,s)=>{x[xn(s)]=function(...y){f.isFunction(i)||Ke("vxe.error.errFunc",[i]),i(t,...y)}}),d&&(x[xn(u)]=function(i){d(i),n&&n[u]&&n[u](t,i)}),v&&(x[xn(c)]=function(...i){v(...i),n&&n[c]&&n[c](t,...i)}),m&&(x[xn(Ol)]=function(...i){m(...i),n&&n[Ol]&&n[Ol](t,...i)}),x}function ho(e,t){const{$table:o,row:n,column:u}=t,{name:c}=e,{model:d}=u,v=ds(e,t);return bi(e,t,{model(m){d.update=!0,d.value=m,v&&Ho(n,u,m)},change(m){if(!v&&c&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(c)){const x=m.value;d.update=!0,d.value=x,o.updateStatus(t,x)}else o.updateStatus(t)},blur(){v?o.handleCellRuleUpdateStatus("blur",t):o.handleCellRuleUpdateStatus("blur",t,d.value)}})}function Ki(e,t,o){return bi(e,t,{model(n){o.data=n},change(){Yi(t,!f.eqNull(o.data),o)},blur(){Yi(t,!f.eqNull(o.data),o)}})}function nC(e,t){const{$table:o,row:n,column:u}=t,{model:c}=u;return oC(e,t,{model(d){const v=d.target;if(v){const m=v.value;ds(e,t)?Ho(n,u,m):(c.update=!0,c.value=m)}},change(d){const v=d.target;if(v){const m=v.value;o.updateStatus(t,m)}},blur(d){const v=d.target;if(v){const m=v.value;o.updateStatus(t,m)}}})}function lC(e,t,o){return oC(e,t,{model(n){const u=n.target;u&&(o.data=u.value)},change(){Yi(t,!f.eqNull(o.data),o)},blur(){Yi(t,!f.eqNull(o.data),o)}})}function Vd(e,t){const{row:o,column:n}=t,{name:u}=e,c=ds(e,t)?br(o,n):n.model.value;return[w(u,Object.assign(Object.assign(Object.assign({class:`vxe-default-${u}`},us(e)),{value:c}),nC(e,t)))]}function gS(e,t){return[w(Xr(e),Object.assign(Object.assign({},po(e,t,null)),bi(e,t)))]}function jr(e,t){const{row:o,column:n}=t,u=br(o,n);return[w(Xr(e),Object.assign(Object.assign({},po(e,t,u)),ho(e,t)))]}function vS(e,t){const{row:o,column:n}=t,u=br(o,n);return[w(Xr(e),Object.assign(Object.assign({},po(e,t,u)),ho(e,t)))]}function zm(e,t){const{options:o}=e,{row:n,column:u}=t,c=br(n,u);return[w(Xr(e),Object.assign(Object.assign({options:o},po(e,t,c)),ho(e,t)))]}function Bi(e,t){const{row:o,column:n}=t,u=br(o,n);return[w(cs(e),Object.assign(Object.assign({},po(e,t,u)),ho(e,t)))]}function iC(e,t){return[w(Qx("vxe-button"),Object.assign(Object.assign({},po(e,t,null)),bi(e,t)))]}function mS(e,t){return e.children.map(o=>iC(o,t)[0])}function sC(e,t,o){const{optionGroups:n,optionGroupProps:u={}}=e,c=u.options||"options",d=u.label||"label";return n.map((v,m)=>w("optgroup",{key:m,label:v[d]},o(v[c],e,t)))}function Zi(e,t,o){const{optionProps:n={}}=t,{row:u,column:c}=o,d=n.label||"label",v=n.value||"value",m=n.disabled||"disabled",x=ds(t,o)?br(u,c):c.model.value;return e.map((i,s)=>w("option",{key:s,value:i[v],disabled:i[m],selected:i[v]==x},i[d]))}function bS(e,t){const{column:o}=t,{name:n}=e,u=us(e);return o.filters.map((c,d)=>w(n,Object.assign(Object.assign(Object.assign({key:d,class:`vxe-default-${n}`},u),{value:c.data}),lC(e,t,c))))}function Wd(e,t){const{column:o}=t;return o.filters.map((n,u)=>{const c=n.data;return w(Xr(e),Object.assign(Object.assign({key:u},Xi(e,e,c)),Ki(e,t,n)))})}function xS(e,t){const{column:o}=t;return o.filters.map((n,u)=>{const c=n.data;return w(cs(e),Object.assign(Object.assign({key:u},Xi(e,e,c)),Ki(e,t,n)))})}function ti({option:e,row:t,column:o}){const{data:n}=e;return f.get(t,o.field)==n}function ri({option:e,row:t,column:o}){const{data:n}=e,u=f.get(t,o.field);return f.toValueString(u).indexOf(n)>-1}function Vm(e,t){return[w("select",Object.assign(Object.assign({class:"vxe-default-select"},us(e)),nC(e,t)),e.optionGroups?sC(e,t,Zi):Zi(e.options,e,t))]}function Wm(e,t){const{row:o,column:n}=t,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v}=e,m=br(o,n);return[w(Xr(e),Object.assign(Object.assign({},po(e,t,m,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v})),ho(e,t)))]}function Gm(e,t){const{row:o,column:n}=t,{options:u,optionProps:c}=e,d=br(o,n);return[w(Xr(e),Object.assign(Object.assign({},po(e,t,d,{options:u,optionProps:c})),ho(e,t)))]}function jm(e,t){const{row:o,column:n}=t,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v}=e,m=br(o,n);return[w(cs(e),Object.assign(Object.assign({},po(e,t,m,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v})),ho(e,t)))]}function wl(e,{row:t,column:o}){const{options:n,optionGroups:u,optionProps:c={},optionGroupProps:d={}}=e,v=f.get(t,o.field);let m;const x=c.label||"label",i=c.value||"value";return v!=null?f.map(f.isArray(v)?v:[v],u?s=>{const y=d.options||"options";for(let O=0;O<u.length&&(m=f.find(u[O][y],S=>S[i]==s),!m);O++);return m?m[x]:s}:s=>(m=f.find(n,y=>y[i]==s),m?m[x]:s)).join(", "):""}function $i(e){const{row:t,column:o,options:n}=e;return n.original?br(t,o):wl(o.editRender||o.cellRender,e)}function ni(e,{row:t,column:o}){const{options:n,optionProps:u={}}=e,c=f.get(t,o.field),d=u.label||"label",v=u.value||"value",m=u.children||"children";if(c!=null){const x={};return f.eachTree(n,i=>{x[f.get(i,v)]=i},{children:m}),f.map(f.isArray(c)?c:[c],i=>{const s=x[i];return s&&f.get(s,d)}).join(", ")}return""}function Gd(e){const{row:t,column:o,options:n}=e;return n.original?br(t,o):ni(o.editRender||o.cellRender,e)}function Um(e,t){const{props:o={},showNegativeStatus:n}=e,{row:u,column:c}=t,{type:d}=o;let v=f.get(u,c.field),m=!1;if(!Cf(v)){const x=ji().numberInput||{};if(d==="float"){const i=qo(o.autoFill,x.autoFill,!0),s=qo(o.digits,x.digits,1);v=f.toFixed(f.floor(v,s),s),i||(v=f.toNumber(v)),n&&v<0&&(m=!0)}else if(d==="amount"){const i=qo(o.autoFill,x.autoFill,!0),s=qo(o.digits,x.digits,2),y=qo(o.showCurrency,x.showCurrency,!1);if(v=f.toNumber(v),n&&v<0&&(m=!0),v=f.commafy(v,{digits:s}),!i){const[O,S]=v.split(".");if(S){const T=S.replace(/0+$/,"");v=T?[O,".",T].join(""):O}}y&&(v=`${o.currencySymbol||x.currencySymbol||Mf("vxe.numberInput.currencySymbol")||""}${v}`)}else n&&f.toNumber(v)<0&&(m=!0)}return Ur(e,t,v,m?{class:"is--negative"}:{})}dS.mixin({input:{tableAutoFocus:"input",renderTableEdit:Vd,renderTableDefault:Vd,renderTableFilter:bS,tableFilterDefaultMethod:ri},textarea:{tableAutoFocus:"textarea",renderTableEdit:Vd},select:{renderTableEdit:Vm,renderTableDefault:Vm,renderTableCell(e,t){return Ur(e,t,wl(e,t))},renderTableFilter(e,t){const{column:o}=t;return o.filters.map((n,u)=>w("select",Object.assign(Object.assign({key:u,class:"vxe-default-select"},us(e)),lC(e,t,n)),e.optionGroups?sC(e,t,Zi):Zi(e.options,e,t)))},tableFilterDefaultMethod:ti,tableExportMethod:$i},VxeInput:{tableAutoFocus:"input",renderTableEdit:jr,renderTableCell(e,t){const{props:o={}}=e,{row:n,column:u}=t,c=ji().input||{},d=o.digits||c.digits||2;let v=f.get(n,u.field);if(v)switch(o.type){case"date":case"week":case"month":case"quarter":case"year":v=zd(v,o);break;case"float":v=f.toFixed(f.floor(v,d),d);break}return Ur(e,t,v)},renderTableDefault:jr,renderTableFilter:Wd,tableFilterDefaultMethod:ri},FormatNumberInput:{renderTableDefault:Um,tableFilterDefaultMethod:ri,tableExportMethod(e){const{row:t,column:o}=e;return f.get(t,o.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:jr,renderTableCell:Um,renderTableFooter(e,t){const{props:o={}}=e,{row:n,column:u,_columnIndex:c}=t,{type:d}=o,v=f.isArray(n)?n[c]:f.get(n,u.field);if(f.isNumber(v)){const m=ji().numberInput||{};if(d==="float"){const x=qo(o.autoFill,m.autoFill,!0),i=qo(o.digits,m.digits,1);let s=f.toFixed(f.floor(v,i),i);return x||(s=f.toNumber(s)),s}else if(d==="amount"){const x=qo(o.autoFill,m.autoFill,!0),i=qo(o.digits,m.digits,2),s=qo(o.showCurrency,m.showCurrency,!1);let y=f.commafy(f.toNumber(v),{digits:i});if(!x){const[O,S]=y.split(".");if(S){const T=S.replace(/0+$/,"");y=T?[O,".",T].join(""):O}}return s&&(y=`${o.currencySymbol||m.currencySymbol||Mf("vxe.numberInput.currencySymbol")||""}${y}`),y}}return Po(v,1)},renderTableDefault:jr,renderTableFilter:Wd,tableFilterDefaultMethod:ri,tableExportMethod(e){const{row:t,column:o}=e;return f.get(t,o.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:jr,renderTableCell(e,t){const{props:o={}}=e,{row:n,column:u}=t;let c=f.get(n,u.field);return c&&o.type!=="time"&&(c=zd(c,o)),Ur(e,t,c)},renderTableDefault:jr,renderTableFilter:Wd,tableFilterDefaultMethod:ti},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:jr,renderTableCell(e,t){const{row:o,column:n}=t,u=f.get(o,n.field);return Ur(e,t,u)}},VxeButton:{renderTableDefault:gS},VxeButtonGroup:{renderTableDefault(e,t){const{options:o}=e;return[w(Xr(e),Object.assign(Object.assign({options:o},po(e,t,null)),bi(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:Wm,renderTableDefault:Wm,renderTableCell(e,t){return Ur(e,t,wl(e,t))},renderTableFilter(e,t){const{column:o}=t,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d}=e;return o.filters.map((v,m)=>{const x=v.data;return w(Xr(e),Object.assign(Object.assign({key:m},Xi(e,t,x,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d})),Ki(e,t,v)))})},tableFilterDefaultMethod:ti,tableExportMethod:$i},formatOption:{renderTableDefault(e,t){return Ur(e,t,wl(e,t))}},FormatSelect:{renderTableDefault(e,t){return Ur(e,t,wl(e,t))},tableFilterDefaultMethod:ti,tableExportMethod:$i},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:Gm,renderTableCell(e,t){return Ur(e,t,ni(e,t))},tableExportMethod:Gd},formatTree:{renderTableDefault(e,t){return Ur(e,t,ni(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return Ur(e,t,ni(e,t))},tableExportMethod:Gd},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:Gm,renderTableCell(e,t){return Ur(e,t,ni(e,t))},tableExportMethod:Gd},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:o,column:n}=t,{options:u}=e,c=br(o,n);return[w(Xr(e),Object.assign(Object.assign({},po(e,t,c,{colors:u})),ho(e,t)))]},renderTableCell(e,t){const{row:o,column:n}=t,u=f.get(o,n.field);return w("span",{class:"vxe-color-picker--readonly"},[w("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:u}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:o,column:n}=t,{options:u}=e,c=br(o,n);return[w(Xr(e),Object.assign(Object.assign({},po(e,t,c,{icons:u})),ho(e,t)))]},renderTableCell(e,t){const{row:o,column:n}=t,u=f.get(o,n.field);return w("i",{class:u})}},VxeRadioGroup:{renderTableDefault:zm},VxeCheckbox:{renderTableDefault:vS},VxeCheckboxGroup:{renderTableDefault:zm},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:jr,renderTableDefault:jr},VxeUpload:{renderTableEdit:jr,renderTableCell:jr,renderTableDefault:jr},VxeImage:{renderTableDefault(e,t){const{row:o,column:n}=t,{props:u}=e,c=br(o,n);return[w(Xr(e),Object.assign(Object.assign(Object.assign({},u),{src:c}),ho(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:o,column:n}=t,{props:u}=e,c=br(o,n);return[w(Xr(e),Object.assign(Object.assign(Object.assign({},u),{urlList:c}),ho(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:o,column:n}=t,{props:u}=e,c=br(o,n);return[w(Xr(e),Object.assign(Object.assign(Object.assign({},u),{content:c}),ho(e,t)))]}},VxeRate:{renderTableDefault:jr},VxeSlider:{renderTableDefault:jr},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Bi,renderTableCell(e,t){var o;const{props:n={}}=e,{row:u,column:c}=t,d=n.digits||((o=ji().input)===null||o===void 0?void 0:o.digits)||2;let v=f.get(u,c.field);if(v)switch(n.type){case"date":case"week":case"month":case"year":v=zd(v,n);break;case"float":v=f.toFixed(f.floor(v,d),d);break}return Ur(e,t,v)},renderTableDefault:Bi,renderTableFilter:xS,tableFilterDefaultMethod:ri},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:iC},$buttons:{renderTableDefault:mS},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:jm,renderTableDefault:jm,renderTableCell(e,t){return Ur(e,t,wl(e,t))},renderTableFilter(e,t){const{column:o}=t,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d}=e;return o.filters.map((v,m)=>{const x=v.data;return w(cs(e),Object.assign(Object.assign({key:m},Xi(e,t,x,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d})),Ki(e,t,v)))})},tableFilterDefaultMethod:ti,tableExportMethod:$i},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:Bi,renderTableDefault:Bi}});const Tf=Object.assign({},Vn,{install(e){e.component(Vn.name,Vn)}}),CS={useCellView:LR};ve.dynamicApp&&ve.dynamicApp.component(Vn.name,Vn);ve.component(Vn);ve.tableHandle=CS;const wS=Tf,Ff=Object.assign({},Wn,{install(e){e.component(Wn.name,Wn)}});ve.dynamicApp&&ve.dynamicApp.component(Wn.name,Wn);ve.component(Wn);const yS=Ff,ES={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},RS=[Ef,Rf,Of,Tf,Ff];function SS(e,t){ve.setConfig(t),RS.forEach(o=>o.install(e))}if(!ve.hasLanguage("zh-CN")){const e="zh-CN";ve.setI18n(e,ES),ve.setLanguage(e)}ve.setTheme("light");const MS=Object.freeze(Object.defineProperty({__proto__:null,Colgroup:cR,Column:aR,Grid:AR,Table:wS,Toolbar:yS,VXETable:_E,VxeColgroup:Rf,VxeColumn:Ef,VxeGrid:Of,VxeTable:Tf,VxeToolbar:Ff,VxeUI:ve,_t:Ix,clipboard:AE,commands:IE,config:Tx,formats:FE,getConfig:xE,getI18n:RE,getIcon:wE,getTheme:mE,globalEvents:SE,globalResize:OE,hooks:HE,install:SS,interceptor:kE,log:LE,menus:TE,modal:$E,print:BE,readFile:PE,renderer:DE,saveFile:NE,setConfig:bE,setI18n:EE,setIcon:CE,setLanguage:yE,setTheme:vE,setup:Mx,t:Fx,use:qE,validators:ME,version:wf},Symbol.toStringTag,{value:"Module"}));export{MS as V};
